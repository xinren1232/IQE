const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FactoryView-1jd9PTgu.js","assets/element-plus-CvrI1lB2.js","assets/index-C-zgdgf0.js","assets/echarts-Cq7vAPzK.js","assets/install-_7eNnU3u.js","assets/installMarkPoint-DRgdH7kI.js","assets/FactoryView-gjfhK27X.css","assets/LabView-WWt3ToUz.js","assets/LabView-ChE2Ckds.css","assets/LabInspectionView-9EKnRtUg.js","assets/LabInspectionView-BeLy6Irx.css","assets/OnlineView-CRCaWBq3.js","assets/OnlineView-BYnVF7FA.css","assets/AiAssistant-DkOr2G_0.js","assets/AiAssistant-Cj0Whf6D.css","assets/BatchManagement-BwAKNkja.js","assets/BatchManagement-DO4TAKWN.css","assets/BatchDetail-CimopkQd.js","assets/BatchDetail-BhSIBNfI.css","assets/RealTimeMonitoring-CmBj_Vyl.js","assets/RealTimeMonitoring-DI_3qU9K.css","assets/ArchitectureView-STB5ZC9z.js","assets/ArchitectureView-QtpQDrCl.css","assets/AnalysisView-oq60xmFZ.js","assets/AnalysisView-eda_0m7l.css"])))=>i.map(i=>d[i]);
import{s as dc,d as Ks,u as _t,a as pc,c as he,p as gr,r as _e,w as js,h as Qs,n as Js,i as ct,b as zi,e as el,f as H,g as F,j as ce,o as tl,k as N,m as vc,l as ye,q as gc,t as mc,v as yc,x as Je,y as al,z as rl,A as _c,B as Za,C as il,D as bc,E as xc,F as Sc,G as wc,H as Ac,I as Cc,J as Lc,K as Tc,L as Ic,M as Mc,N as Dc,O as Rc,P as Pc,Q as kc,R as Ec,S as Oc,T as Vc,U as Bc,V as zc,W as Nc,X as Hc,Y as Gc,Z as Fc,_ as Wc,$ as Zc,a0 as $c,a1 as Xc,a2 as Uc,a3 as Yc,a4 as qc}from"./element-plus-CvrI1lB2.js";import{_ as O,c as Ni,G as se,a as Oe,S as _a,r as vn,i as X,e as $a,l as Xa,u as Ie,s as ua,b as Me,g as dt,n as ar,Z as Hi,d as re,f as Lt,t as St,h as fe,j as gn,k as rr,m as Gi,o as Ce,p as j,q as ca,v as Qe,w as Ot,P as Kc,x as mn,y as yn,z as ba,A as st,B as xa,R as Se,C as we,D as $,E as Nt,F as de,H as Ht,I as ei,J as Vt,K as _n,L as xe,M as jc,N as nl,O as T,Q as ol,T as Ua,U as Qc,V as Jc,W as oe,X as Ut,Y as bn,$ as ti,a0 as ai,a1 as eh,a2 as th,a3 as Q,a4 as ah,a5 as rh,a6 as ih,a7 as Ge,a8 as ve,a9 as je,aa as be,ab as ri,ac as nh,ad as oh,ae as sh,af as Sa,ag as lh,ah as uh,ai as ch,aj as hh,ak as Na,al as fh,am as dh,an as sl,ao as ph,ap as Fe,aq as ht,ar as Fi,as as ll,at as ie,au as vh,av as Wi,aw as ul,ax as gh,ay as ir,az as mh,aA as mt,aB as Gt,aC as cl,aD as wt,aE as ii,aF as yh,aG as mr,aH as _h,aI as Te,aJ as bh,aK as xh,aL as hl,aM as ni,aN as xn,aO as Sh,aP as fl,aQ as Ne,aR as nr,aS as wh,aT as Ah,aU as ha,aV as Ya,aW as Ye,aX as ze,aY as Ch,aZ as Lh,a_ as dl,a$ as Sn,b0 as qa,b1 as ae,b2 as We,b3 as Ve,b4 as Th,b5 as Ih,b6 as wa,b7 as pl,b8 as Mh,b9 as Ft,ba as Dh,bb as Rh,bc as wn,bd as De,be as or,bf as Ka,bg as An,bh as ft,bi as Zi,bj as Ph,bk as vl,bl as Ha,bm as yr,bn as kh,bo as _r,bp as Eh,bq as gl,br as Oh,bs as ml,bt as $i,bu as Bt,bv as Vh,bw as Xi,bx as sr,by as ja,bz as yl,bA as Bh,bB as zh,bC as zt,bD as lr,bE as _l,bF as Le,bG as Nh,bH as yt,bI as Hh,bJ as Gh,bK as Fh,bL as bt,bM as bl,bN as Wh,bO as Zh,bP as oi,bQ as Cn,bR as xl,bS as $h,bT as Xh,bU as Sl,bV as Uh,bW as Yh,bX as wl,bY as qh,bZ as Kh,b_ as Al,b$ as jh,c0 as br,c1 as Ln,c2 as Tn,c3 as Qh,c4 as Jh,c5 as ef,c6 as tf,c7 as af,c8 as Cl,c9 as Ll,ca as In,cb as Tl,cc as Mn,cd as rf,ce as nf,cf as of,cg as Il,ch as sf,ci as lf,cj as si,ck as uf,cl as cf,cm as hf,cn as ff,co as df,cp as pf,cq as Dn,cr as Ml,cs as li,ct as Dl,cu as vf,cv as gf,cw as mf,cx as yf,cy as _f,cz as Aa,cA as bf,cB as xf,cC as Sf,cD as Ca,cE as wf,cF as Rn,cG as Af}from"./echarts-Cq7vAPzK.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const kt=typeof document<"u";function Rl(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function Cf(r){return r.__esModule||r[Symbol.toStringTag]==="Module"||r.default&&Rl(r.default)}const ee=Object.assign;function xr(r,t){const e={};for(const a in t){const i=t[a];e[a]=He(i)?i.map(r):r(i)}return e}const oa=()=>{},He=Array.isArray,Pl=/#/g,Lf=/&/g,Tf=/\//g,If=/=/g,Mf=/\?/g,kl=/\+/g,Df=/%5B/g,Rf=/%5D/g,El=/%5E/g,Pf=/%60/g,Ol=/%7B/g,kf=/%7C/g,Vl=/%7D/g,Ef=/%20/g;function Ui(r){return encodeURI(""+r).replace(kf,"|").replace(Df,"[").replace(Rf,"]")}function Of(r){return Ui(r).replace(Ol,"{").replace(Vl,"}").replace(El,"^")}function ui(r){return Ui(r).replace(kl,"%2B").replace(Ef,"+").replace(Pl,"%23").replace(Lf,"%26").replace(Pf,"`").replace(Ol,"{").replace(Vl,"}").replace(El,"^")}function Vf(r){return ui(r).replace(If,"%3D")}function Bf(r){return Ui(r).replace(Pl,"%23").replace(Mf,"%3F")}function zf(r){return r==null?"":Bf(r).replace(Tf,"%2F")}function fa(r){try{return decodeURIComponent(""+r)}catch{}return""+r}const Nf=/\/$/,Hf=r=>r.replace(Nf,"");function Sr(r,t,e="/"){let a,i={},n="",o="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(a=t.slice(0,l),n=t.slice(l+1,s>-1?s:t.length),i=r(n)),s>-1&&(a=a||t.slice(0,s),o=t.slice(s,t.length)),a=Zf(a??t,e),{fullPath:a+(n&&"?")+n+o,path:a,query:i,hash:fa(o)}}function Gf(r,t){const e=t.query?r(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function Pn(r,t){return!t||!r.toLowerCase().startsWith(t.toLowerCase())?r:r.slice(t.length)||"/"}function Ff(r,t,e){const a=t.matched.length-1,i=e.matched.length-1;return a>-1&&a===i&&Wt(t.matched[a],e.matched[i])&&Bl(t.params,e.params)&&r(t.query)===r(e.query)&&t.hash===e.hash}function Wt(r,t){return(r.aliasOf||r)===(t.aliasOf||t)}function Bl(r,t){if(Object.keys(r).length!==Object.keys(t).length)return!1;for(const e in r)if(!Wf(r[e],t[e]))return!1;return!0}function Wf(r,t){return He(r)?kn(r,t):He(t)?kn(t,r):r===t}function kn(r,t){return He(t)?r.length===t.length&&r.every((e,a)=>e===t[a]):r.length===1&&r[0]===t}function Zf(r,t){if(r.startsWith("/"))return r;if(!r)return t;const e=t.split("/"),a=r.split("/"),i=a[a.length-1];(i===".."||i===".")&&a.push("");let n=e.length-1,o,s;for(o=0;o<a.length;o++)if(s=a[o],s!==".")if(s==="..")n>1&&n--;else break;return e.slice(0,n).join("/")+"/"+a.slice(o).join("/")}const et={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var da;(function(r){r.pop="pop",r.push="push"})(da||(da={}));var sa;(function(r){r.back="back",r.forward="forward",r.unknown=""})(sa||(sa={}));function $f(r){if(!r)if(kt){const t=document.querySelector("base");r=t&&t.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),Hf(r)}const Xf=/^[^#]+#/;function Uf(r,t){return r.replace(Xf,"#")+t}function Yf(r,t){const e=document.documentElement.getBoundingClientRect(),a=r.getBoundingClientRect();return{behavior:t.behavior,left:a.left-e.left-(t.left||0),top:a.top-e.top-(t.top||0)}}const ur=()=>({left:window.scrollX,top:window.scrollY});function qf(r){let t;if("el"in r){const e=r.el,a=typeof e=="string"&&e.startsWith("#"),i=typeof e=="string"?a?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!i)return;t=Yf(i,r)}else t=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function En(r,t){return(history.state?history.state.position-t:-1)+r}const ci=new Map;function Kf(r,t){ci.set(r,t)}function jf(r){const t=ci.get(r);return ci.delete(r),t}let Qf=()=>location.protocol+"//"+location.host;function zl(r,t){const{pathname:e,search:a,hash:i}=t,n=r.indexOf("#");if(n>-1){let s=i.includes(r.slice(n))?r.slice(n).length:1,l=i.slice(s);return l[0]!=="/"&&(l="/"+l),Pn(l,"")}return Pn(e,r)+a+i}function Jf(r,t,e,a){let i=[],n=[],o=null;const s=({state:f})=>{const d=zl(r,location),p=e.value,v=t.value;let g=0;if(f){if(e.value=d,t.value=f,o&&o===p){o=null;return}g=v?f.position-v.position:0}else a(d);i.forEach(y=>{y(e.value,p,{delta:g,type:da.pop,direction:g?g>0?sa.forward:sa.back:sa.unknown})})};function l(){o=e.value}function u(f){i.push(f);const d=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return n.push(d),d}function c(){const{history:f}=window;f.state&&f.replaceState(ee({},f.state,{scroll:ur()}),"")}function h(){for(const f of n)f();n=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function On(r,t,e,a=!1,i=!1){return{back:r,current:t,forward:e,replaced:a,position:window.history.length,scroll:i?ur():null}}function ed(r){const{history:t,location:e}=window,a={value:zl(r,e)},i={value:t.state};i.value||n(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function n(l,u,c){const h=r.indexOf("#"),f=h>-1?(e.host&&document.querySelector("base")?r:r.slice(h))+l:Qf()+r+l;try{t[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(d){console.error(d),e[c?"replace":"assign"](f)}}function o(l,u){const c=ee({},t.state,On(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});n(l,c,!0),a.value=l}function s(l,u){const c=ee({},i.value,t.state,{forward:l,scroll:ur()});n(c.current,c,!0);const h=ee({},On(a.value,l,null),{position:c.position+1},u);n(l,h,!1),a.value=l}return{location:a,state:i,push:s,replace:o}}function td(r){r=$f(r);const t=ed(r),e=Jf(r,t.state,t.location,t.replace);function a(n,o=!0){o||e.pauseListeners(),history.go(n)}const i=ee({location:"",base:r,go:a,createHref:Uf.bind(null,r)},t,e);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function ad(r){return typeof r=="string"||r&&typeof r=="object"}function Nl(r){return typeof r=="string"||typeof r=="symbol"}const Hl=Symbol("");var Vn;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(Vn||(Vn={}));function Zt(r,t){return ee(new Error,{type:r,[Hl]:!0},t)}function Xe(r,t){return r instanceof Error&&Hl in r&&(t==null||!!(r.type&t))}const Bn="[^/]+?",rd={sensitive:!1,strict:!1,start:!0,end:!0},id=/[.+*?^${}()[\]/\\]/g;function nd(r,t){const e=ee({},rd,t),a=[];let i=e.start?"^":"";const n=[];for(const u of r){const c=u.length?[]:[90];e.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let d=40+(e.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(id,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:v,optional:g,regexp:y}=f;n.push({name:p,repeatable:v,optional:g});const m=y||Bn;if(m!==Bn){d+=10;try{new RegExp(`(${m})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${p}" (${m}): `+x.message)}}let _=v?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;h||(_=g&&u.length<2?`(?:/${_})`:"/"+_),g&&(_+="?"),i+=_,d+=20,g&&(d+=-8),v&&(d+=-20),m===".*"&&(d+=-50)}c.push(d)}a.push(c)}if(e.strict&&e.end){const u=a.length-1;a[u][a[u].length-1]+=.7000000000000001}e.strict||(i+="/?"),e.end?i+="$":e.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,e.sensitive?"":"i");function s(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const d=c[f]||"",p=n[f-1];h[p.name]=d&&p.repeatable?d.split("/"):d}return h}function l(u){let c="",h=!1;for(const f of r){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const d of f)if(d.type===0)c+=d.value;else if(d.type===1){const{value:p,repeatable:v,optional:g}=d,y=p in u?u[p]:"";if(He(y)&&!v)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const m=He(y)?y.join("/"):y;if(!m)if(g)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);c+=m}}return c||"/"}return{re:o,score:a,keys:n,parse:s,stringify:l}}function od(r,t){let e=0;for(;e<r.length&&e<t.length;){const a=t[e]-r[e];if(a)return a;e++}return r.length<t.length?r.length===1&&r[0]===80?-1:1:r.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Gl(r,t){let e=0;const a=r.score,i=t.score;for(;e<a.length&&e<i.length;){const n=od(a[e],i[e]);if(n)return n;e++}if(Math.abs(i.length-a.length)===1){if(zn(a))return 1;if(zn(i))return-1}return i.length-a.length}function zn(r){const t=r[r.length-1];return r.length>0&&t[t.length-1]<0}const sd={type:0,value:""},ld=/[a-zA-Z0-9_]/;function ud(r){if(!r)return[[]];if(r==="/")return[[sd]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function t(d){throw new Error(`ERR (${e})/"${u}": ${d}`)}let e=0,a=e;const i=[];let n;function o(){n&&i.push(n),n=[]}let s=0,l,u="",c="";function h(){u&&(e===0?n.push({type:0,value:u}):e===1||e===2||e===3?(n.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),n.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;s<r.length;){if(l=r[s++],l==="\\"&&e!==2){a=e,e=4;continue}switch(e){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),e=1):f();break;case 4:f(),e=a;break;case 1:l==="("?e=2:ld.test(l)?f():(h(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:e=3:c+=l;break;case 3:h(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:t("Unknown state");break}}return e===2&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function cd(r,t,e){const a=nd(ud(r.path),e),i=ee(a,{record:r,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function hd(r,t){const e=[],a=new Map;t=Fn({strict:!1,end:!0,sensitive:!1},t);function i(h){return a.get(h)}function n(h,f,d){const p=!d,v=Hn(h);v.aliasOf=d&&d.record;const g=Fn(t,h),y=[v];if("alias"in h){const x=typeof h.alias=="string"?[h.alias]:h.alias;for(const b of x)y.push(Hn(ee({},v,{components:d?d.record.components:v.components,path:b,aliasOf:d?d.record:v})))}let m,_;for(const x of y){const{path:b}=x;if(f&&b[0]!=="/"){const S=f.record.path,w=S[S.length-1]==="/"?"":"/";x.path=f.record.path+(b&&w+b)}if(m=cd(x,f,g),d?d.alias.push(m):(_=_||m,_!==m&&_.alias.push(m),p&&h.name&&!Gn(m)&&o(h.name)),Fl(m)&&l(m),v.children){const S=v.children;for(let w=0;w<S.length;w++)n(S[w],m,d&&d.children[w])}d=d||m}return _?()=>{o(_)}:oa}function o(h){if(Nl(h)){const f=a.get(h);f&&(a.delete(h),e.splice(e.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=e.indexOf(h);f>-1&&(e.splice(f,1),h.record.name&&a.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function s(){return e}function l(h){const f=pd(h,e);e.splice(f,0,h),h.record.name&&!Gn(h)&&a.set(h.record.name,h)}function u(h,f){let d,p={},v,g;if("name"in h&&h.name){if(d=a.get(h.name),!d)throw Zt(1,{location:h});g=d.record.name,p=ee(Nn(f.params,d.keys.filter(_=>!_.optional).concat(d.parent?d.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),h.params&&Nn(h.params,d.keys.map(_=>_.name))),v=d.stringify(p)}else if(h.path!=null)v=h.path,d=e.find(_=>_.re.test(v)),d&&(p=d.parse(v),g=d.record.name);else{if(d=f.name?a.get(f.name):e.find(_=>_.re.test(f.path)),!d)throw Zt(1,{location:h,currentLocation:f});g=d.record.name,p=ee({},f.params,h.params),v=d.stringify(p)}const y=[];let m=d;for(;m;)y.unshift(m.record),m=m.parent;return{name:g,path:v,params:p,matched:y,meta:dd(y)}}r.forEach(h=>n(h));function c(){e.length=0,a.clear()}return{addRoute:n,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:s,getRecordMatcher:i}}function Nn(r,t){const e={};for(const a of t)a in r&&(e[a]=r[a]);return e}function Hn(r){const t={path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:r.aliasOf,beforeEnter:r.beforeEnter,props:fd(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function fd(r){const t={},e=r.props||!1;if("component"in r)t.default=e;else for(const a in r.components)t[a]=typeof e=="object"?e[a]:e;return t}function Gn(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function dd(r){return r.reduce((t,e)=>ee(t,e.meta),{})}function Fn(r,t){const e={};for(const a in r)e[a]=a in t?t[a]:r[a];return e}function pd(r,t){let e=0,a=t.length;for(;e!==a;){const n=e+a>>1;Gl(r,t[n])<0?a=n:e=n+1}const i=vd(r);return i&&(a=t.lastIndexOf(i,a-1)),a}function vd(r){let t=r;for(;t=t.parent;)if(Fl(t)&&Gl(r,t)===0)return t}function Fl({record:r}){return!!(r.name||r.components&&Object.keys(r.components).length||r.redirect)}function gd(r){const t={};if(r===""||r==="?")return t;const a=(r[0]==="?"?r.slice(1):r).split("&");for(let i=0;i<a.length;++i){const n=a[i].replace(kl," "),o=n.indexOf("="),s=fa(o<0?n:n.slice(0,o)),l=o<0?null:fa(n.slice(o+1));if(s in t){let u=t[s];He(u)||(u=t[s]=[u]),u.push(l)}else t[s]=l}return t}function Wn(r){let t="";for(let e in r){const a=r[e];if(e=Vf(e),a==null){a!==void 0&&(t+=(t.length?"&":"")+e);continue}(He(a)?a.map(n=>n&&ui(n)):[a&&ui(a)]).forEach(n=>{n!==void 0&&(t+=(t.length?"&":"")+e,n!=null&&(t+="="+n))})}return t}function md(r){const t={};for(const e in r){const a=r[e];a!==void 0&&(t[e]=He(a)?a.map(i=>i==null?null:""+i):a==null?a:""+a)}return t}const yd=Symbol(""),Zn=Symbol(""),cr=Symbol(""),Yi=Symbol(""),hi=Symbol("");function Kt(){let r=[];function t(a){return r.push(a),()=>{const i=r.indexOf(a);i>-1&&r.splice(i,1)}}function e(){r=[]}return{add:t,list:()=>r.slice(),reset:e}}function ot(r,t,e,a,i,n=o=>o()){const o=a&&(a.enterCallbacks[i]=a.enterCallbacks[i]||[]);return()=>new Promise((s,l)=>{const u=f=>{f===!1?l(Zt(4,{from:e,to:t})):f instanceof Error?l(f):ad(f)?l(Zt(2,{from:t,to:f})):(o&&a.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),s())},c=n(()=>r.call(a&&a.instances[i],t,e,u));let h=Promise.resolve(c);r.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function wr(r,t,e,a,i=n=>n()){const n=[];for(const o of r)for(const s in o.components){let l=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(Rl(l)){const c=(l.__vccOpts||l)[t];c&&n.push(ot(c,e,a,o,s,i))}else{let u=l();n.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${s}" at "${o.path}"`);const h=Cf(c)?c.default:c;o.mods[s]=c,o.components[s]=h;const d=(h.__vccOpts||h)[t];return d&&ot(d,e,a,o,s,i)()}))}}return n}function $n(r){const t=ct(cr),e=ct(Yi),a=he(()=>{const l=_t(r.to);return t.resolve(l)}),i=he(()=>{const{matched:l}=a.value,{length:u}=l,c=l[u-1],h=e.matched;if(!c||!h.length)return-1;const f=h.findIndex(Wt.bind(null,c));if(f>-1)return f;const d=Xn(l[u-2]);return u>1&&Xn(c)===d&&h[h.length-1].path!==d?h.findIndex(Wt.bind(null,l[u-2])):f}),n=he(()=>i.value>-1&&wd(e.params,a.value.params)),o=he(()=>i.value>-1&&i.value===e.matched.length-1&&Bl(e.params,a.value.params));function s(l={}){if(Sd(l)){const u=t[_t(r.replace)?"replace":"push"](_t(r.to)).catch(oa);return r.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:a,href:he(()=>a.value.href),isActive:n,isExactActive:o,navigate:s}}function _d(r){return r.length===1?r[0]:r}const bd=Ks({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:$n,setup(r,{slots:t}){const e=zi($n(r)),{options:a}=ct(cr),i=he(()=>({[Un(r.activeClass,a.linkActiveClass,"router-link-active")]:e.isActive,[Un(r.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const n=t.default&&_d(t.default(e));return r.custom?n:Qs("a",{"aria-current":e.isExactActive?r.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:i.value},n)}}}),xd=bd;function Sd(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const t=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return r.preventDefault&&r.preventDefault(),!0}}function wd(r,t){for(const e in t){const a=t[e],i=r[e];if(typeof a=="string"){if(a!==i)return!1}else if(!He(i)||i.length!==a.length||a.some((n,o)=>n!==i[o]))return!1}return!0}function Xn(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const Un=(r,t,e)=>r??t??e,Ad=Ks({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:t,slots:e}){const a=ct(hi),i=he(()=>r.route||a.value),n=ct(Zn,0),o=he(()=>{let u=_t(n);const{matched:c}=i.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),s=he(()=>i.value.matched[o.value]);gr(Zn,he(()=>o.value+1)),gr(yd,s),gr(hi,i);const l=_e();return js(()=>[l.value,s.value,r.name],([u,c,h],[f,d,p])=>{c&&(c.instances[h]=u,d&&d!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),u&&c&&(!d||!Wt(c,d)||!f)&&(c.enterCallbacks[h]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=i.value,c=r.name,h=s.value,f=h&&h.components[c];if(!f)return Yn(e.default,{Component:f,route:u});const d=h.props[c],p=d?d===!0?u.params:typeof d=="function"?d(u):d:null,g=Qs(f,ee({},p,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return Yn(e.default,{Component:g,route:u})||g}}});function Yn(r,t){if(!r)return null;const e=r(t);return e.length===1?e[0]:e}const Cd=Ad;function Ld(r){const t=hd(r.routes,r),e=r.parseQuery||gd,a=r.stringifyQuery||Wn,i=r.history,n=Kt(),o=Kt(),s=Kt(),l=dc(et);let u=et;kt&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=xr.bind(null,R=>""+R),h=xr.bind(null,zf),f=xr.bind(null,fa);function d(R,z){let E,Z;return Nl(R)?(E=t.getRecordMatcher(R),Z=z):Z=R,t.addRoute(Z,E)}function p(R){const z=t.getRecordMatcher(R);z&&t.removeRoute(z)}function v(){return t.getRoutes().map(R=>R.record)}function g(R){return!!t.getRecordMatcher(R)}function y(R,z){if(z=ee({},z||l.value),typeof R=="string"){const U=Sr(e,R,z.path),ne=t.resolve({path:U.path},z),Pe=i.createHref(U.fullPath);return ee(U,ne,{params:f(ne.params),hash:fa(U.hash),redirectedFrom:void 0,href:Pe})}let E;if(R.path!=null)E=ee({},R,{path:Sr(e,R.path,z.path).path});else{const U=ee({},R.params);for(const ne in U)U[ne]==null&&delete U[ne];E=ee({},R,{params:h(U)}),z.params=h(z.params)}const Z=t.resolve(E,z),te=R.hash||"";Z.params=c(f(Z.params));const ue=Gf(a,ee({},R,{hash:Of(te),path:Z.path})),K=i.createHref(ue);return ee({fullPath:ue,hash:te,query:a===Wn?md(R.query):R.query||{}},Z,{redirectedFrom:void 0,href:K})}function m(R){return typeof R=="string"?Sr(e,R,l.value.path):ee({},R)}function _(R,z){if(u!==R)return Zt(8,{from:z,to:R})}function x(R){return w(R)}function b(R){return x(ee(m(R),{replace:!0}))}function S(R){const z=R.matched[R.matched.length-1];if(z&&z.redirect){const{redirect:E}=z;let Z=typeof E=="function"?E(R):E;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=m(Z):{path:Z},Z.params={}),ee({query:R.query,hash:R.hash,params:Z.path!=null?{}:R.params},Z)}}function w(R,z){const E=u=y(R),Z=l.value,te=R.state,ue=R.force,K=R.replace===!0,U=S(E);if(U)return w(ee(m(U),{state:typeof U=="object"?ee({},te,U.state):te,force:ue,replace:K}),z||E);const ne=E;ne.redirectedFrom=z;let Pe;return!ue&&Ff(a,Z,E)&&(Pe=Zt(16,{to:ne,from:Z}),q(Z,Z,!0,!1)),(Pe?Promise.resolve(Pe):I(ne,Z)).catch(me=>Xe(me)?Xe(me,2)?me:Y(me):V(me,ne,Z)).then(me=>{if(me){if(Xe(me,2))return w(ee({replace:K},m(me.to),{state:typeof me.to=="object"?ee({},te,me.to.state):te,force:ue}),z||ne)}else me=M(ne,Z,!0,K,te);return C(ne,Z,me),me})}function A(R,z){const E=_(R,z);return E?Promise.reject(E):Promise.resolve()}function L(R){const z=pe.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext(R):R()}function I(R,z){let E;const[Z,te,ue]=Td(R,z);E=wr(Z.reverse(),"beforeRouteLeave",R,z);for(const U of Z)U.leaveGuards.forEach(ne=>{E.push(ot(ne,R,z))});const K=A.bind(null,R,z);return E.push(K),Re(E).then(()=>{E=[];for(const U of n.list())E.push(ot(U,R,z));return E.push(K),Re(E)}).then(()=>{E=wr(te,"beforeRouteUpdate",R,z);for(const U of te)U.updateGuards.forEach(ne=>{E.push(ot(ne,R,z))});return E.push(K),Re(E)}).then(()=>{E=[];for(const U of ue)if(U.beforeEnter)if(He(U.beforeEnter))for(const ne of U.beforeEnter)E.push(ot(ne,R,z));else E.push(ot(U.beforeEnter,R,z));return E.push(K),Re(E)}).then(()=>(R.matched.forEach(U=>U.enterCallbacks={}),E=wr(ue,"beforeRouteEnter",R,z,L),E.push(K),Re(E))).then(()=>{E=[];for(const U of o.list())E.push(ot(U,R,z));return E.push(K),Re(E)}).catch(U=>Xe(U,8)?U:Promise.reject(U))}function C(R,z,E){s.list().forEach(Z=>L(()=>Z(R,z,E)))}function M(R,z,E,Z,te){const ue=_(R,z);if(ue)return ue;const K=z===et,U=kt?history.state:{};E&&(Z||K?i.replace(R.fullPath,ee({scroll:K&&U&&U.scroll},te)):i.push(R.fullPath,te)),l.value=R,q(R,z,E,K),Y()}let D;function k(){D||(D=i.listen((R,z,E)=>{if(!ge.listening)return;const Z=y(R),te=S(Z);if(te){w(ee(te,{replace:!0,force:!0}),Z).catch(oa);return}u=Z;const ue=l.value;kt&&Kf(En(ue.fullPath,E.delta),ur()),I(Z,ue).catch(K=>Xe(K,12)?K:Xe(K,2)?(w(ee(m(K.to),{force:!0}),Z).then(U=>{Xe(U,20)&&!E.delta&&E.type===da.pop&&i.go(-1,!1)}).catch(oa),Promise.reject()):(E.delta&&i.go(-E.delta,!1),V(K,Z,ue))).then(K=>{K=K||M(Z,ue,!1),K&&(E.delta&&!Xe(K,8)?i.go(-E.delta,!1):E.type===da.pop&&Xe(K,20)&&i.go(-1,!1)),C(Z,ue,K)}).catch(oa)}))}let P=Kt(),B=Kt(),G;function V(R,z,E){Y(R);const Z=B.list();return Z.length?Z.forEach(te=>te(R,z,E)):console.error(R),Promise.reject(R)}function W(){return G&&l.value!==et?Promise.resolve():new Promise((R,z)=>{P.add([R,z])})}function Y(R){return G||(G=!R,k(),P.list().forEach(([z,E])=>R?E(R):z()),P.reset()),R}function q(R,z,E,Z){const{scrollBehavior:te}=r;if(!kt||!te)return Promise.resolve();const ue=!E&&jf(En(R.fullPath,0))||(Z||!E)&&history.state&&history.state.scroll||null;return Js().then(()=>te(R,z,ue)).then(K=>K&&qf(K)).catch(K=>V(K,R,z))}const J=R=>i.go(R);let le;const pe=new Set,ge={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:v,resolve:y,options:r,push:x,replace:b,go:J,back:()=>J(-1),forward:()=>J(1),beforeEach:n.add,beforeResolve:o.add,afterEach:s.add,onError:B.add,isReady:W,install(R){const z=this;R.component("RouterLink",xd),R.component("RouterView",Cd),R.config.globalProperties.$router=z,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>_t(l)}),kt&&!le&&l.value===et&&(le=!0,x(i.location).catch(te=>{}));const E={};for(const te in et)Object.defineProperty(E,te,{get:()=>l.value[te],enumerable:!0});R.provide(cr,z),R.provide(Yi,pc(E)),R.provide(hi,l);const Z=R.unmount;pe.add(R),R.unmount=function(){pe.delete(R),pe.size<1&&(u=et,D&&D(),D=null,l.value=et,le=!1,G=!1),Z()}}};function Re(R){return R.reduce((z,E)=>z.then(()=>L(E)),Promise.resolve())}return ge}function Td(r,t){const e=[],a=[],i=[],n=Math.max(t.matched.length,r.matched.length);for(let o=0;o<n;o++){const s=t.matched[o];s&&(r.matched.find(u=>Wt(u,s))?a.push(s):e.push(s));const l=r.matched[o];l&&(t.matched.find(u=>Wt(u,l))||i.push(l))}return[e,a,i]}function Id(){return ct(cr)}function Md(r){return ct(Yi)}const Dd={class:"app-container"},Rd={class:"logo-container"},Pd={class:"user-container"},kd={class:"user-profile"},Ed={__name:"App",setup(r){const t=Md(),e=he(()=>t.path);return(a,i)=>{const n=ce("el-icon"),o=ce("el-menu-item"),s=ce("el-sub-menu"),l=ce("el-menu"),u=ce("el-avatar"),c=ce("el-dropdown-item"),h=ce("el-dropdown-menu"),f=ce("el-dropdown"),d=ce("el-header"),p=ce("router-view"),v=ce("el-main"),g=ce("el-footer");return tl(),el("div",Dd,[H(d,{class:"app-header"},{default:F(()=>[N("div",Rd,[H(n,{class:"logo-icon"},{default:F(()=>[H(_t(vc))]),_:1}),i[0]||(i[0]=N("h1",{class:"title"},"IQE动态检验系统",-1))]),H(l,{mode:"horizontal",router:!0,"default-active":e.value,class:"app-menu"},{default:F(()=>[H(o,{index:"/"},{default:F(()=>i[1]||(i[1]=[ye("首页")])),_:1,__:[1]}),H(o,{index:"/factory"},{default:F(()=>i[2]||(i[2]=[ye("库存管理")])),_:1,__:[2]}),H(s,{index:"/lab-group"},{title:F(()=>i[3]||(i[3]=[ye("实验室数据")])),default:F(()=>[H(o,{index:"/lab"},{default:F(()=>i[4]||(i[4]=[ye("常规检验")])),_:1,__:[4]}),H(o,{index:"/lab-inspection"},{default:F(()=>i[5]||(i[5]=[ye("送样检验")])),_:1,__:[5]})]),_:1}),H(o,{index:"/online"},{default:F(()=>i[6]||(i[6]=[ye("生产现场")])),_:1,__:[6]}),H(o,{index:"/batch"},{default:F(()=>i[7]||(i[7]=[ye("批次管理")])),_:1,__:[7]}),H(o,{index:"/monitoring"},{default:F(()=>i[8]||(i[8]=[ye("实时监控")])),_:1,__:[8]}),H(o,{index:"/analysis"},{default:F(()=>i[9]||(i[9]=[ye("高级分析")])),_:1,__:[9]}),H(o,{index:"/ai"},{default:F(()=>i[10]||(i[10]=[ye("AI助手")])),_:1,__:[10]}),H(o,{index:"/architecture"},{default:F(()=>i[11]||(i[11]=[ye("架构视图")])),_:1,__:[11]})]),_:1},8,["default-active"]),N("div",Pd,[H(f,null,{dropdown:F(()=>[H(h,null,{default:F(()=>[H(c,null,{default:F(()=>i[13]||(i[13]=[ye("个人信息")])),_:1,__:[13]}),H(c,null,{default:F(()=>i[14]||(i[14]=[ye("系统设置")])),_:1,__:[14]}),H(c,{divided:""},{default:F(()=>i[15]||(i[15]=[ye("退出登录")])),_:1,__:[15]})]),_:1})]),default:F(()=>[N("span",kd,[H(u,{size:32,icon:_t(gc)},null,8,["icon"]),i[12]||(i[12]=N("span",{class:"username"},"管理员",-1))])]),_:1})])]),_:1}),H(v,{class:"app-main"},{default:F(()=>[H(p)]),_:1}),H(g,{class:"app-footer"},{default:F(()=>i[16]||(i[16]=[N("div",{class:"footer-content"},[N("span",null,"IQE动态检验系统 v1.0.0"),N("span",null,"© 2023 质量工程实验室")],-1)])),_:1,__:[16]})])}}},Od="modulepreload",Vd=function(r){return"/IQE/"+r},qn={},Ze=function(t,e,a){let i=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(e.map(l=>{if(l=Vd(l),l in qn)return;qn[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Od,u||(h.as="script"),h.crossOrigin="",h.href=l,s&&h.setAttribute("nonce",s),document.head.appendChild(h),u)return new Promise((f,d)=>{h.addEventListener("load",f),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function n(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&n(s.reason);return t().catch(n)})},Wl=[{id:1,name:"电子元件",description:"各类电子元器件，包括电阻、电容、IC等"},{id:2,name:"结构件",description:"产品结构和外观相关部件"},{id:3,name:"晶片类",description:"液晶显示屏、触控面板等晶片类物料"},{id:4,name:"CAM/FP/电声组件",description:"摄像头模组、指纹模组和扬声器等电声组件"},{id:5,name:"连接器",description:"各类连接器和接插件"},{id:6,name:"电池/电源",description:"电池和电源管理组件"},{id:7,name:"辅料/包材",description:"辅助材料和包装材料"},{id:8,name:"其他",description:"其他类别物料"}];function J0(r){const t=Wl.find(e=>e.id===r);return t?t.name:"未知分类"}const Bd=[{id:"F001",name:"电阻器-0805-10K",category_id:1,supplier:"泰科电子",batch_number:"TK2023101",arrival_date:"2023-10-15",quantity:1e4,defect_rate:.8,inspection_level:"正常"},{id:"F002",name:"电容器-0603-1uF",category_id:1,supplier:"三星电子",batch_number:"SS2023050",arrival_date:"2023-10-18",quantity:15e3,defect_rate:1.2,inspection_level:"正常"},{id:"F003",name:"IC-存储器-128GB",category_id:1,supplier:"美光科技",batch_number:"MG2023033",arrival_date:"2023-10-20",quantity:5e3,defect_rate:3.5,inspection_level:"严格"},{id:"F004",name:"背板结构件-金属",category_id:2,supplier:"富士康",batch_number:"FK2023091",arrival_date:"2023-10-21",quantity:3e3,defect_rate:2.1,inspection_level:"正常"},{id:"F005",name:"中框结构件-塑料",category_id:2,supplier:"立讯精密",batch_number:"LX2023078",arrival_date:"2023-10-22",quantity:3500,defect_rate:1.8,inspection_level:"正常"},{id:"F006",name:"高通骁龙处理器",category_id:1,supplier:"高通",batch_number:"QC2023045",arrival_date:"2023-10-25",quantity:2e3,defect_rate:.5,inspection_level:"严格"},{id:"F007",name:"LCD显示屏-6.7寸",category_id:3,supplier:"京东方",batch_number:"BOE2023112",arrival_date:"2023-10-26",quantity:2500,defect_rate:4.2,inspection_level:"严格"},{id:"F008",name:"OLED显示屏-6.1寸",category_id:3,supplier:"三星显示",batch_number:"SSD2023067",arrival_date:"2023-10-28",quantity:1800,defect_rate:3.8,inspection_level:"严格"},{id:"F009",name:"摄像头模组-5000万像素",category_id:4,supplier:"舜宇光学",batch_number:"SY2023089",arrival_date:"2023-11-01",quantity:2200,defect_rate:2.5,inspection_level:"严格"},{id:"F010",name:"指纹识别模组",category_id:4,supplier:"汇顶科技",batch_number:"GD2023055",arrival_date:"2023-11-02",quantity:2500,defect_rate:1.3,inspection_level:"正常"},{id:"F011",name:"Type-C连接器",category_id:5,supplier:"立讯精密",batch_number:"LX2023102",arrival_date:"2023-11-03",quantity:5e3,defect_rate:.9,inspection_level:"正常"},{id:"F012",name:"电池-4500mAh",category_id:6,supplier:"新能源科技",batch_number:"ATL2023067",arrival_date:"2023-11-05",quantity:2e3,defect_rate:1.1,inspection_level:"严格"},{id:"F013",name:"包装盒-高端系列",category_id:7,supplier:"裕同科技",batch_number:"YT2023088",arrival_date:"2023-11-06",quantity:3e3,defect_rate:.6,inspection_level:"简易"},{id:"F014",name:"屏幕保护膜",category_id:7,supplier:"东丽",batch_number:"TL2023099",arrival_date:"2023-11-08",quantity:5e3,defect_rate:1.5,inspection_level:"简易"},{id:"F015",name:"扬声器模组",category_id:4,supplier:"瑞声科技",batch_number:"AAC2023078",arrival_date:"2023-11-10",quantity:2800,defect_rate:1.7,inspection_level:"正常"},{id:"F016",name:"触控屏-超薄系列",category_id:3,supplier:"欧菲光",batch_number:"OFG2023065",arrival_date:"2023-11-12",quantity:1800,defect_rate:3.2,inspection_level:"严格"},{id:"F017",name:"NFC天线",category_id:1,supplier:"信维通信",batch_number:"XW2023056",arrival_date:"2023-11-15",quantity:3e3,defect_rate:.7,inspection_level:"正常"},{id:"F018",name:"马达振动器",category_id:1,supplier:"瑞声科技",batch_number:"AAC2023085",arrival_date:"2023-11-18",quantity:3500,defect_rate:1.1,inspection_level:"正常"},{id:"F019",name:"前壳组件",category_id:2,supplier:"可成科技",batch_number:"KC2023076",arrival_date:"2023-11-20",quantity:2e3,defect_rate:2.2,inspection_level:"正常"},{id:"F020",name:"散热石墨片",category_id:8,supplier:"中石科技",batch_number:"ZS2023049",arrival_date:"2023-11-22",quantity:4e3,defect_rate:.9,inspection_level:"简易"}],zd=[{id:"L001",material_id:"F001",material_name:"电阻器-0805-10K",test_date:"2023-10-16",test_type:"电气参数",result:"合格",tester:"李明",parameters:{resistance:"10.02kΩ",tolerance:"±0.5%",power:"0.125W"}},{id:"L002",material_id:"F002",material_name:"电容器-0603-1uF",test_date:"2023-10-19",test_type:"电气参数",result:"合格",tester:"张伟",parameters:{capacitance:"0.98uF",tolerance:"±5%",voltage:"10V"}},{id:"L003",material_id:"F003",material_name:"IC-存储器-128GB",test_date:"2023-10-21",test_type:"功能测试",result:"不合格",tester:"王芳",parameters:{read_speed:"520MB/s",write_speed:"450MB/s",error_rate:"2.1%"}},{id:"L004",material_id:"F004",material_name:"背板结构件-金属",test_date:"2023-10-22",test_type:"尺寸检测",result:"合格",tester:"赵强",parameters:{length:"145.02mm",width:"70.48mm",thickness:"0.98mm"}},{id:"L005",material_id:"F005",material_name:"中框结构件-塑料",test_date:"2023-10-23",test_type:"材料性能",result:"合格",tester:"李明",parameters:{tensile_strength:"48MPa",impact_strength:"12kJ/m²",heat_resistance:"85°C"}},{id:"L006",material_id:"F006",material_name:"高通骁龙处理器",test_date:"2023-10-26",test_type:"性能测试",result:"合格",tester:"王芳",parameters:{frequency:"2.8GHz",power_consumption:"4.2W",temperature:"45°C"}},{id:"L007",material_id:"F007",material_name:"LCD显示屏-6.7寸",test_date:"2023-10-27",test_type:"显示效果",result:"不合格",tester:"张伟",parameters:{brightness:"520nit",contrast:"1200:1",color_gamut:"95% DCI-P3",uniformity:"78%"}},{id:"L008",material_id:"F007",material_name:"LCD显示屏-6.7寸",test_date:"2023-10-28",test_type:"显示效果",result:"合格",tester:"张伟",parameters:{brightness:"550nit",contrast:"1250:1",color_gamut:"97% DCI-P3",uniformity:"92%"}},{id:"L009",material_id:"F008",material_name:"OLED显示屏-6.1寸",test_date:"2023-10-29",test_type:"显示效果",result:"不合格",tester:"王芳",parameters:{brightness:"780nit",contrast:"2000000:1",color_gamut:"99% DCI-P3",uniformity:"85%"}},{id:"L010",material_id:"F009",material_name:"摄像头模组-5000万像素",test_date:"2023-11-02",test_type:"成像质量",result:"合格",tester:"赵强",parameters:{resolution:"5000万有效像素",focus_speed:"0.15s",noise_level:"低",color_accuracy:"良好"}},{id:"L011",material_id:"F010",material_name:"指纹识别模组",test_date:"2023-11-03",test_type:"识别率测试",result:"合格",tester:"李明",parameters:{recognition_rate:"98.5%",false_acceptance:"0.002%",response_time:"0.18s"}},{id:"L012",material_id:"F011",material_name:"Type-C连接器",test_date:"2023-11-04",test_type:"插拔测试",result:"合格",tester:"张伟",parameters:{insertion_force:"12.5N",durability:"10000次",contact_resistance:"30mΩ"}},{id:"L013",material_id:"F012",material_name:"电池-4500mAh",test_date:"2023-11-06",test_type:"性能测试",result:"合格",tester:"王芳",parameters:{capacity:"4520mAh",cycle_life:"800次",charge_rate:"1.5C",discharge_rate:"1C"}},{id:"L014",material_id:"F016",material_name:"触控屏-超薄系列",test_date:"2023-11-13",test_type:"触控响应",result:"不合格",tester:"赵强",parameters:{response_time:"15ms",sensitivity:"中等",multi_touch:"10点触控",edge_accuracy:"低"}},{id:"L015",material_id:"F016",material_name:"触控屏-超薄系列",test_date:"2023-11-14",test_type:"触控响应",result:"合格",tester:"赵强",parameters:{response_time:"10ms",sensitivity:"高",multi_touch:"10点触控",edge_accuracy:"高"}},{id:"L016",material_id:"F018",material_name:"马达振动器",test_date:"2023-11-19",test_type:"震动效果",result:"合格",tester:"李明",parameters:{amplitude:"0.8mm",frequency:"175Hz",noise_level:"45dB"}},{id:"L017",material_id:"F019",material_name:"前壳组件",test_date:"2023-11-21",test_type:"尺寸检测",result:"不合格",tester:"张伟",parameters:{length:"145.12mm",width:"70.55mm",thickness:"8.12mm",corner_radius:"11.89mm"}},{id:"L018",material_id:"F019",material_name:"前壳组件",test_date:"2023-11-22",test_type:"尺寸检测",result:"合格",tester:"张伟",parameters:{length:"145.05mm",width:"70.50mm",thickness:"8.05mm",corner_radius:"12.00mm"}},{id:"L019",material_id:"F003",material_name:"IC-存储器-128GB",test_date:"2023-11-23",test_type:"功能测试",result:"合格",tester:"王芳",parameters:{read_speed:"530MB/s",write_speed:"480MB/s",error_rate:"0.5%"}},{id:"L020",material_id:"F008",material_name:"OLED显示屏-6.1寸",test_date:"2023-11-24",test_type:"显示效果",result:"合格",tester:"赵强",parameters:{brightness:"800nit",contrast:"2000000:1",color_gamut:"100% DCI-P3",uniformity:"95%"}}],Nd=[{id:"O001",material_id:"F001",material_name:"电阻器-0805-10K",date:"2023-10-20",line_id:"L01",line_name:"SMT生产线01",total_count:5e3,defect_count:35,operator:"张明",issues:[{type:"焊接不良",count:20,severity:"轻微"},{type:"元件损坏",count:15,severity:"中等"}]},{id:"O002",material_id:"F002",material_name:"电容器-0603-1uF",date:"2023-10-22",line_id:"L01",line_name:"SMT生产线01",total_count:6e3,defect_count:72,operator:"李强",issues:[{type:"焊接不良",count:30,severity:"轻微"},{type:"元件偏移",count:42,severity:"轻微"}]},{id:"O003",material_id:"F003",material_name:"IC-存储器-128GB",date:"2023-10-25",line_id:"L02",line_name:"芯片装配线",total_count:1e3,defect_count:50,operator:"王芳",issues:[{type:"引脚变形",count:15,severity:"中等"},{type:"数据错误",count:35,severity:"严重"}]},{id:"O004",material_id:"F007",material_name:"LCD显示屏-6.7寸",date:"2023-11-01",line_id:"L03",line_name:"显示模组装配线",total_count:1200,defect_count:60,operator:"赵刚",issues:[{type:"亮点",count:20,severity:"轻微"},{type:"色彩偏差",count:25,severity:"中等"},{type:"接口损坏",count:15,severity:"严重"}]},{id:"O005",material_id:"F008",material_name:"OLED显示屏-6.1寸",date:"2023-11-03",line_id:"L03",line_name:"显示模组装配线",total_count:800,defect_count:32,operator:"赵刚",issues:[{type:"亮点",count:12,severity:"轻微"},{type:"色彩偏差",count:10,severity:"中等"},{type:"屏幕划伤",count:10,severity:"严重"}]},{id:"O006",material_id:"F009",material_name:"摄像头模组-5000万像素",date:"2023-11-05",line_id:"L04",line_name:"相机模组装配线",total_count:1500,defect_count:15,operator:"周伟",issues:[{type:"对焦异常",count:8,severity:"中等"},{type:"灰尘进入",count:7,severity:"轻微"}]},{id:"O007",material_id:"F010",material_name:"指纹识别模组",date:"2023-11-07",line_id:"L05",line_name:"组件装配线",total_count:2e3,defect_count:20,operator:"张明",issues:[{type:"识别率低",count:15,severity:"中等"},{type:"连接异常",count:5,severity:"轻微"}]},{id:"O008",material_id:"F011",material_name:"Type-C连接器",date:"2023-11-08",line_id:"L01",line_name:"SMT生产线01",total_count:3e3,defect_count:27,operator:"李强",issues:[{type:"焊接不良",count:20,severity:"轻微"},{type:"插拔异常",count:7,severity:"中等"}]},{id:"O009",material_id:"F012",material_name:"电池-4500mAh",date:"2023-11-10",line_id:"L06",line_name:"电池装配线",total_count:1e3,defect_count:5,operator:"王芳",issues:[{type:"容量不足",count:3,severity:"中等"},{type:"接口异常",count:2,severity:"轻微"}]},{id:"O010",material_id:"F016",material_name:"触控屏-超薄系列",date:"2023-11-15",line_id:"L03",line_name:"显示模组装配线",total_count:1e3,defect_count:45,operator:"赵刚",issues:[{type:"触控不灵敏",count:20,severity:"中等"},{type:"边缘响应异常",count:15,severity:"轻微"},{type:"多点触控失效",count:10,severity:"严重"}]},{id:"O011",material_id:"F004",material_name:"背板结构件-金属",date:"2023-11-16",line_id:"L05",line_name:"组件装配线",total_count:1500,defect_count:25,operator:"周伟",issues:[{type:"划痕",count:12,severity:"轻微"},{type:"尺寸偏差",count:8,severity:"中等"},{type:"变形",count:5,severity:"严重"}]},{id:"O012",material_id:"F005",material_name:"中框结构件-塑料",date:"2023-11-18",line_id:"L05",line_name:"组件装配线",total_count:1800,defect_count:20,operator:"张明",issues:[{type:"色差",count:10,severity:"轻微"},{type:"尺寸偏差",count:6,severity:"中等"},{type:"裂痕",count:4,severity:"严重"}]},{id:"O013",material_id:"F018",material_name:"马达振动器",date:"2023-11-20",line_id:"L06",line_name:"电池装配线",total_count:2500,defect_count:30,operator:"李强",issues:[{type:"振动异常",count:15,severity:"中等"},{type:"噪声过大",count:10,severity:"轻微"},{type:"连接异常",count:5,severity:"严重"}]},{id:"O014",material_id:"F017",material_name:"NFC天线",date:"2023-11-22",line_id:"L01",line_name:"SMT生产线01",total_count:3e3,defect_count:15,operator:"李强",issues:[{type:"信号弱",count:10,severity:"中等"},{type:"焊接问题",count:5,severity:"轻微"}]},{id:"O015",material_id:"F019",material_name:"前壳组件",date:"2023-11-23",line_id:"L05",line_name:"组件装配线",total_count:1200,defect_count:36,operator:"周伟",issues:[{type:"划痕",count:15,severity:"轻微"},{type:"气泡",count:12,severity:"轻微"},{type:"色差",count:9,severity:"中等"}]},{id:"O016",material_id:"F013",material_name:"包装盒-高端系列",date:"2023-11-24",line_id:"L07",line_name:"包装线",total_count:2e3,defect_count:10,operator:"王芳",issues:[{type:"印刷偏差",count:6,severity:"轻微"},{type:"结构损坏",count:4,severity:"中等"}]},{id:"O017",material_id:"F001",material_name:"电阻器-0805-10K",date:"2023-11-25",line_id:"L01",line_name:"SMT生产线01",total_count:4500,defect_count:18,operator:"张明",issues:[{type:"焊接不良",count:12,severity:"轻微"},{type:"元件损坏",count:6,severity:"中等"}]},{id:"O018",material_id:"F007",material_name:"LCD显示屏-6.7寸",date:"2023-11-26",line_id:"L03",line_name:"显示模组装配线",total_count:900,defect_count:27,operator:"赵刚",issues:[{type:"亮点",count:10,severity:"轻微"},{type:"色彩偏差",count:12,severity:"中等"},{type:"接口损坏",count:5,severity:"严重"}]},{id:"O019",material_id:"F003",material_name:"IC-存储器-128GB",date:"2023-11-27",line_id:"L02",line_name:"芯片装配线",total_count:800,defect_count:16,operator:"王芳",issues:[{type:"引脚变形",count:6,severity:"中等"},{type:"数据错误",count:10,severity:"严重"}]},{id:"O020",material_id:"F006",material_name:"高通骁龙处理器",date:"2023-11-28",line_id:"L02",line_name:"芯片装配线",total_count:500,defect_count:8,operator:"王芳",issues:[{type:"功耗异常",count:5,severity:"中等"},{type:"温度过高",count:3,severity:"严重"}]}];var Hd=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return Ni(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var a=new se,i=Oe("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);a.add(i),i.setStyle(e.lineStyle);var n=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=n==="none"?"circle":n,l=e.itemHeight*.8,u=Oe(s,(e.itemWidth-l)/2,(e.itemHeight-l)/2,l,l,e.itemStyle.fill);a.add(u),u.setStyle(e.itemStyle);var c=e.iconRotate==="inherit"?o:e.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),a},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(_a);function qi(r,t){var e=r.mapDimensionsAll("defaultedLabel"),a=e.length;if(a===1){var i=vn(r,t,e[0]);return i!=null?i+"":null}else if(a){for(var n=[],o=0;o<e.length;o++)n.push(vn(r,t,e[o]));return n.join(" ")}}function Zl(r,t){var e=r.mapDimensionsAll("defaultedLabel");if(!X(t))return t+"";for(var a=[],i=0;i<e.length;i++){var n=r.getDimensionIndex(e[i]);n>=0&&a.push(t[n])}return a.join(" ")}var Ki=function(r){O(t,r);function t(e,a,i,n){var o=r.call(this)||this;return o.updateData(e,a,i,n),o}return t.prototype._createSymbol=function(e,a,i,n,o){this.removeAll();var s=Oe(e,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),s.drift=Gd,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){$a(this.childAt(0))},t.prototype.downplay=function(){Xa(this.childAt(0))},t.prototype.setZ=function(e,a){var i=this.childAt(0);i.zlevel=e,i.z=a},t.prototype.setDraggable=function(e,a){var i=this.childAt(0);i.draggable=e,i.cursor=!a&&e?"move":i.cursor},t.prototype.updateData=function(e,a,i,n){this.silent=!1;var o=e.getItemVisual(a,"symbol")||"circle",s=e.hostModel,l=t.getSymbolSize(e,a),u=o!==this._symbolType,c=n&&n.disableAnimation;if(u){var h=e.getItemVisual(a,"symbolKeepAspect");this._createSymbol(o,e,a,l,h)}else{var f=this.childAt(0);f.silent=!1;var d={scaleX:l[0]/2,scaleY:l[1]/2};c?f.attr(d):Ie(f,d,s,a),ua(f)}if(this._updateCommon(e,a,l,i,n),u){var f=this.childAt(0);if(!c){var d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,Me(f,d,s,a)}}c&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,a,i,n,o){var s=this.childAt(0),l=e.hostModel,u,c,h,f,d,p,v,g,y;if(n&&(u=n.emphasisItemStyle,c=n.blurItemStyle,h=n.selectItemStyle,f=n.focus,d=n.blurScope,v=n.labelStatesModels,g=n.hoverScale,y=n.cursorStyle,p=n.emphasisDisabled),!n||e.hasItemOption){var m=n&&n.itemModel?n.itemModel:e.getItemModel(a),_=m.getModel("emphasis");u=_.getModel("itemStyle").getItemStyle(),h=m.getModel(["select","itemStyle"]).getItemStyle(),c=m.getModel(["blur","itemStyle"]).getItemStyle(),f=_.get("focus"),d=_.get("blurScope"),p=_.get("disabled"),v=dt(m),g=_.getShallow("scale"),y=m.getShallow("cursor")}var x=e.getItemVisual(a,"symbolRotate");s.attr("rotation",(x||0)*Math.PI/180||0);var b=ar(e.getItemVisual(a,"symbolOffset"),i);b&&(s.x=b[0],s.y=b[1]),y&&s.attr("cursor",y);var S=e.getItemVisual(a,"style"),w=S.fill;if(s instanceof Hi){var A=s.style;s.useStyle(re({image:A.image,x:A.x,y:A.y,width:A.width,height:A.height},S))}else s.__isEmptyBrush?s.useStyle(re({},S)):s.useStyle(S),s.style.decal=null,s.setColor(w,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var L=e.getItemVisual(a,"liftZ"),I=this._z2;L!=null?I==null&&(this._z2=s.z2,s.z2+=L):I!=null&&(s.z2=I,this._z2=null);var C=o&&o.useNameLabel;Lt(s,v,{labelFetcher:l,labelDataIndex:a,defaultText:M,inheritColor:w,defaultOpacity:S.opacity});function M(P){return C?e.getName(P):qi(e,P)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var D=s.ensureState("emphasis");D.style=u,s.ensureState("select").style=h,s.ensureState("blur").style=c;var k=g==null||g===!0?Math.max(1.1,3/this._sizeY):isFinite(g)&&g>0?+g:1;D.scaleX=this._sizeX*k,D.scaleY=this._sizeY*k,this.setSymbolScale(1),St(this,f,d,p)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,a,i){var n=this.childAt(0),o=fe(this).dataIndex,s=i&&i.animation;if(this.silent=n.silent=!0,i&&i.fadeLabel){var l=n.getTextContent();l&&gn(l,{style:{opacity:0}},a,{dataIndex:o,removeOpt:s,cb:function(){n.removeTextContent()}})}else n.removeTextContent();gn(n,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:o,cb:e,removeOpt:s})},t.getSymbolSize=function(e,a){return rr(e.getItemVisual(a,"symbolSize"))},t}(se);function Gd(r,t){this.parent.drift(r,t)}function Ar(r,t,e,a){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(a.isIgnore&&a.isIgnore(e))&&!(a.clipShape&&!a.clipShape.contain(t[0],t[1]))&&r.getItemVisual(e,"symbol")!=="none"}function Kn(r){return r!=null&&!Ce(r)&&(r={isIgnore:r}),r||{}}function jn(r){var t=r.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:dt(t),cursorStyle:t.get("cursor")}}var Fd=function(){function r(t){this.group=new se,this._SymbolCtor=t||Ki}return r.prototype.updateData=function(t,e){this._progressiveEls=null,e=Kn(e);var a=this.group,i=t.hostModel,n=this._data,o=this._SymbolCtor,s=e.disableAnimation,l=jn(t),u={disableAnimation:s},c=e.getSymbolPoint||function(h){return t.getItemLayout(h)};n||a.removeAll(),t.diff(n).add(function(h){var f=c(h);if(Ar(t,f,h,e)){var d=new o(t,h,l,u);d.setPosition(f),t.setItemGraphicEl(h,d),a.add(d)}}).update(function(h,f){var d=n.getItemGraphicEl(f),p=c(h);if(!Ar(t,p,h,e)){a.remove(d);return}var v=t.getItemVisual(h,"symbol")||"circle",g=d&&d.getSymbolType&&d.getSymbolType();if(!d||g&&g!==v)a.remove(d),d=new o(t,h,l,u),d.setPosition(p);else{d.updateData(t,h,l,u);var y={x:p[0],y:p[1]};s?d.attr(y):Ie(d,y,i)}a.add(d),t.setItemGraphicEl(h,d)}).remove(function(h){var f=n.getItemGraphicEl(h);f&&f.fadeOut(function(){a.remove(f)},i)}).execute(),this._getSymbolPoint=c,this._data=t},r.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(a,i){var n=t._getSymbolPoint(i);a.setPosition(n),a.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=jn(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e,a){this._progressiveEls=[],a=Kn(a);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var n=t.start;n<t.end;n++){var o=e.getItemLayout(n);if(Ar(e,o,n,a)){var s=new this._SymbolCtor(e,n,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),e.setItemGraphicEl(n,s),this._progressiveEls.push(s)}}},r.prototype.eachRendered=function(t){Gi(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var e=this.group,a=this._data;a&&t?a.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)},a.hostModel)}):e.removeAll()},r}();function $l(r,t,e){var a=r.getBaseAxis(),i=r.getOtherAxis(a),n=Wd(i,e),o=a.dim,s=i.dim,l=t.mapDimension(s),u=t.mapDimension(o),c=s==="x"||s==="radius"?1:0,h=j(r.dimensions,function(p){return t.mapDimension(p)}),f=!1,d=t.getCalculationInfo("stackResultDimension");return ca(t,h[0])&&(f=!0,h[0]=d),ca(t,h[1])&&(f=!0,h[1]=d),{dataDimsForPoint:h,valueStart:n,valueAxisDim:s,baseAxisDim:o,stacked:!!f,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Wd(r,t){var e=0,a=r.scale.getExtent();return t==="start"?e=a[0]:t==="end"?e=a[1]:Qe(t)&&!isNaN(t)?e=t:a[0]>0?e=a[0]:a[1]<0&&(e=a[1]),e}function Xl(r,t,e,a){var i=NaN;r.stacked&&(i=e.get(e.getCalculationInfo("stackedOverDimension"),a)),isNaN(i)&&(i=r.valueStart);var n=r.baseDataOffset,o=[];return o[n]=e.get(r.baseDim,a),o[1-n]=i,t.dataToPoint(o)}function Zd(r,t){var e=[];return t.diff(r).add(function(a){e.push({cmd:"+",idx:a})}).update(function(a,i){e.push({cmd:"=",idx:i,idx1:a})}).remove(function(a){e.push({cmd:"-",idx:a})}).execute(),e}function $d(r,t,e,a,i,n,o,s){for(var l=Zd(r,t),u=[],c=[],h=[],f=[],d=[],p=[],v=[],g=$l(i,t,o),y=r.getLayout("points")||[],m=t.getLayout("points")||[],_=0;_<l.length;_++){var x=l[_],b=!0,S=void 0,w=void 0;switch(x.cmd){case"=":S=x.idx*2,w=x.idx1*2;var A=y[S],L=y[S+1],I=m[w],C=m[w+1];(isNaN(A)||isNaN(L))&&(A=I,L=C),u.push(A,L),c.push(I,C),h.push(e[S],e[S+1]),f.push(a[w],a[w+1]),v.push(t.getRawIndex(x.idx1));break;case"+":var M=x.idx,D=g.dataDimsForPoint,k=i.dataToPoint([t.get(D[0],M),t.get(D[1],M)]);w=M*2,u.push(k[0],k[1]),c.push(m[w],m[w+1]);var P=Xl(g,i,t,M);h.push(P[0],P[1]),f.push(a[w],a[w+1]),v.push(t.getRawIndex(M));break;case"-":b=!1}b&&(d.push(x),p.push(p.length))}p.sort(function(ge,Re){return v[ge]-v[Re]});for(var B=u.length,G=Ot(B),V=Ot(B),W=Ot(B),Y=Ot(B),q=[],_=0;_<p.length;_++){var J=p[_],le=_*2,pe=J*2;G[le]=u[pe],G[le+1]=u[pe+1],V[le]=c[pe],V[le+1]=c[pe+1],W[le]=h[pe],W[le+1]=h[pe+1],Y[le]=f[pe],Y[le+1]=f[pe+1],q[_]=d[J]}return{current:G,next:V,stackedOnCurrent:W,stackedOnNext:Y,status:q}}var tt=Math.min,at=Math.max;function xt(r,t){return isNaN(r)||isNaN(t)}function fi(r,t,e,a,i,n,o,s,l){for(var u,c,h,f,d,p,v=e,g=0;g<a;g++){var y=t[v*2],m=t[v*2+1];if(v>=i||v<0)break;if(xt(y,m)){if(l){v+=n;continue}break}if(v===e)r[n>0?"moveTo":"lineTo"](y,m),h=y,f=m;else{var _=y-u,x=m-c;if(_*_+x*x<.5){v+=n;continue}if(o>0){for(var b=v+n,S=t[b*2],w=t[b*2+1];S===y&&w===m&&g<a;)g++,b+=n,v+=n,S=t[b*2],w=t[b*2+1],y=t[v*2],m=t[v*2+1],_=y-u,x=m-c;var A=g+1;if(l)for(;xt(S,w)&&A<a;)A++,b+=n,S=t[b*2],w=t[b*2+1];var L=.5,I=0,C=0,M=void 0,D=void 0;if(A>=a||xt(S,w))d=y,p=m;else{I=S-u,C=w-c;var k=y-u,P=S-y,B=m-c,G=w-m,V=void 0,W=void 0;if(s==="x"){V=Math.abs(k),W=Math.abs(P);var Y=I>0?1:-1;d=y-Y*V*o,p=m,M=y+Y*W*o,D=m}else if(s==="y"){V=Math.abs(B),W=Math.abs(G);var q=C>0?1:-1;d=y,p=m-q*V*o,M=y,D=m+q*W*o}else V=Math.sqrt(k*k+B*B),W=Math.sqrt(P*P+G*G),L=W/(W+V),d=y-I*o*(1-L),p=m-C*o*(1-L),M=y+I*o*L,D=m+C*o*L,M=tt(M,at(S,y)),D=tt(D,at(w,m)),M=at(M,tt(S,y)),D=at(D,tt(w,m)),I=M-y,C=D-m,d=y-I*V/W,p=m-C*V/W,d=tt(d,at(u,y)),p=tt(p,at(c,m)),d=at(d,tt(u,y)),p=at(p,tt(c,m)),I=y-d,C=m-p,M=y+I*W/V,D=m+C*W/V}r.bezierCurveTo(h,f,d,p,y,m),h=M,f=D}else r.lineTo(y,m)}u=y,c=m,v+=n}return g}var Ul=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),Xd=function(r){O(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polyline",a}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Ul},t.prototype.buildPath=function(e,a){var i=a.points,n=0,o=i.length/2;if(a.connectNulls){for(;o>0&&xt(i[o*2-2],i[o*2-1]);o--);for(;n<o&&xt(i[n*2],i[n*2+1]);n++);}for(;n<o;)n+=fi(e,i,n,o,o,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},t.prototype.getPointOn=function(e,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,n=i.data,o=Kc.CMD,s,l,u=a==="x",c=[],h=0;h<n.length;){var f=n[h++],d=void 0,p=void 0,v=void 0,g=void 0,y=void 0,m=void 0,_=void 0;switch(f){case o.M:s=n[h++],l=n[h++];break;case o.L:if(d=n[h++],p=n[h++],_=u?(e-s)/(d-s):(e-l)/(p-l),_<=1&&_>=0){var x=u?(p-l)*_+l:(d-s)*_+s;return u?[e,x]:[x,e]}s=d,l=p;break;case o.C:d=n[h++],p=n[h++],v=n[h++],g=n[h++],y=n[h++],m=n[h++];var b=u?mn(s,d,v,y,e,c):mn(l,p,g,m,e,c);if(b>0)for(var S=0;S<b;S++){var w=c[S];if(w<=1&&w>=0){var x=u?yn(l,p,g,m,w):yn(s,d,v,y,w);return u?[e,x]:[x,e]}}s=y,l=m;break}}},t}(ba),Ud=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(Ul),Yd=function(r){O(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polygon",a}return t.prototype.getDefaultShape=function(){return new Ud},t.prototype.buildPath=function(e,a){var i=a.points,n=a.stackedOnPoints,o=0,s=i.length/2,l=a.smoothMonotone;if(a.connectNulls){for(;s>0&&xt(i[s*2-2],i[s*2-1]);s--);for(;o<s&&xt(i[o*2],i[o*2+1]);o++);}for(;o<s;){var u=fi(e,i,o,s,s,1,a.smooth,l,a.connectNulls);fi(e,n,o+u-1,u,s,-1,a.stackedOnSmooth,l,a.connectNulls),o+=u+1,e.closePath()}},t}(ba);function Yl(r,t,e,a,i){var n=r.getArea(),o=n.x,s=n.y,l=n.width,u=n.height,c=e.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var h=new Se({shape:{x:o,y:s,width:l,height:u}});if(t){var f=r.getBaseAxis(),d=f.isHorizontal(),p=f.inverse;d?(p&&(h.shape.x+=l),h.shape.width=0):(p||(h.shape.y+=u),h.shape.height=0);var v=we(i)?function(g){i(g,h)}:null;Me(h,{shape:{width:l,height:u,x:o,y:s}},e,null,a,v)}return h}function ql(r,t,e){var a=r.getArea(),i=st(a.r0,1),n=st(a.r,1),o=new xa({shape:{cx:st(r.cx,1),cy:st(r.cy,1),r0:i,r:n,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(t){var s=r.getBaseAxis().dim==="angle";s?o.shape.endAngle=a.startAngle:o.shape.r=i,Me(o,{shape:{endAngle:a.endAngle,r:n}},e)}return o}function qd(r,t,e,a,i){if(r){if(r.type==="polar")return ql(r,t,e);if(r.type==="cartesian2d")return Yl(r,t,e,a,i)}else return null;return null}function hr(r,t){return r.type===t}function Qn(r,t){if(r.length===t.length){for(var e=0;e<r.length;e++)if(r[e]!==t[e])return;return!0}}function Jn(r){for(var t=1/0,e=1/0,a=-1/0,i=-1/0,n=0;n<r.length;){var o=r[n++],s=r[n++];isNaN(o)||(t=Math.min(o,t),a=Math.max(o,a)),isNaN(s)||(e=Math.min(s,e),i=Math.max(s,i))}return[[t,e],[a,i]]}function eo(r,t){var e=Jn(r),a=e[0],i=e[1],n=Jn(t),o=n[0],s=n[1];return Math.max(Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function to(r){return Qe(r)?r:r?.5:0}function Kd(r,t,e){if(!e.valueDim)return[];for(var a=t.count(),i=Ot(a*2),n=0;n<a;n++){var o=Xl(e,r,t,n);i[n*2]=o[0],i[n*2+1]=o[1]}return i}function rt(r,t,e,a,i){var n=e.getBaseAxis(),o=n.dim==="x"||n.dim==="radius"?0:1,s=[],l=0,u=[],c=[],h=[],f=[];if(i){for(l=0;l<r.length;l+=2){var d=t||r;!isNaN(d[l])&&!isNaN(d[l+1])&&f.push(r[l],r[l+1])}r=f}for(l=0;l<r.length-2;l+=2)switch(h[0]=r[l+2],h[1]=r[l+3],c[0]=r[l],c[1]=r[l+1],s.push(c[0],c[1]),a){case"end":u[o]=h[o],u[1-o]=c[1-o],s.push(u[0],u[1]);break;case"middle":var p=(c[o]+h[o])/2,v=[];u[o]=v[o]=p,u[1-o]=c[1-o],v[1-o]=h[1-o],s.push(u[0],u[1]),s.push(v[0],v[1]);break;default:u[o]=c[o],u[1-o]=h[1-o],s.push(u[0],u[1])}return s.push(r[l++],r[l++]),s}function jd(r,t){var e=[],a=r.length,i,n;function o(c,h,f){var d=c.coord,p=(f-d)/(h.coord-d),v=Qc(p,[c.color,h.color]);return{coord:f,color:v}}for(var s=0;s<a;s++){var l=r[s],u=l.coord;if(u<0)i=l;else if(u>t){n?e.push(o(n,l,t)):i&&e.push(o(i,l,0),o(i,l,t));break}else i&&(e.push(o(i,l,0)),i=null),e.push(l),n=l}return e}function Qd(r,t,e){var a=r.getVisual("visualMeta");if(!(!a||!a.length||!r.count())&&t.type==="cartesian2d"){for(var i,n,o=a.length-1;o>=0;o--){var s=r.getDimensionInfo(a[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){n=a[o];break}}if(n){var l=t.getAxis(i),u=j(n.stops,function(_){return{coord:l.toGlobalCoord(l.dataToCoord(_.value)),color:_.color}}),c=u.length,h=n.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),h.reverse());var f=jd(u,i==="x"?e.getWidth():e.getHeight()),d=f.length;if(!d&&c)return u[0].coord<0?h[1]?h[1]:u[c-1].color:h[0]?h[0]:u[0].color;var p=10,v=f[0].coord-p,g=f[d-1].coord+p,y=g-v;if(y<.001)return"transparent";T(f,function(_){_.offset=(_.coord-v)/y}),f.push({offset:d?f[d-1].offset:.5,color:h[1]||"transparent"}),f.unshift({offset:d?f[0].offset:.5,color:h[0]||"transparent"});var m=new ol(0,0,0,0,f,!0);return m[i]=v,m[i+"2"]=g,m}}}function Jd(r,t,e){var a=r.get("showAllSymbol"),i=a==="auto";if(!(a&&!i)){var n=e.getAxesByScale("ordinal")[0];if(n&&!(i&&ep(n,t))){var o=t.mapDimension(n.dim),s={};return T(n.getViewLabels(),function(l){var u=n.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(o,l))}}}}function ep(r,t){var e=r.getExtent(),a=Math.abs(e[1]-e[0])/r.scale.count();isNaN(a)&&(a=0);for(var i=t.count(),n=Math.max(1,Math.round(i/5)),o=0;o<i;o+=n)if(Ki.getSymbolSize(t,o)[r.isHorizontal()?1:0]*1.5>a)return!1;return!0}function tp(r,t){return isNaN(r)||isNaN(t)}function ap(r){for(var t=r.length/2;t>0&&tp(r[t*2-2],r[t*2-1]);t--);return t-1}function ao(r,t){return[r[t*2],r[t*2+1]]}function rp(r,t,e){for(var a=r.length/2,i=e==="x"?0:1,n,o,s=0,l=-1,u=0;u<a;u++)if(o=r[u*2+i],!(isNaN(o)||isNaN(r[u*2+1-i]))){if(u===0){n=o;continue}if(n<=t&&o>=t||n>=t&&o<=t){l=u;break}s=u,n=o}return{range:[s,l],t:(t-n)/(o-n)}}function Kl(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<Ua.length;t++)if(r.get([Ua[t],"endLabel","show"]))return!0;return!1}function Cr(r,t,e,a){if(hr(t,"cartesian2d")){var i=a.getModel("endLabel"),n=i.get("valueAnimation"),o=a.getData(),s={lastFrameIndex:0},l=Kl(a)?function(d,p){r._endLabelOnDuring(d,p,o,s,n,i,t)}:null,u=t.getBaseAxis().isHorizontal(),c=Yl(t,e,a,function(){var d=r._endLabel;d&&e&&s.originalX!=null&&d.attr({x:s.originalX,y:s.originalY})},l);if(!a.get("clip",!0)){var h=c.shape,f=Math.max(h.width,h.height);u?(h.y-=f,h.height+=f*2):(h.x-=f,h.width+=f*2)}return l&&l(1,c),c}else return ql(t,e,a)}function ip(r,t){var e=t.getBaseAxis(),a=e.isHorizontal(),i=e.inverse,n=a?i?"right":"left":"center",o=a?"middle":i?"top":"bottom";return{normal:{align:r.get("align")||n,verticalAlign:r.get("verticalAlign")||o}}}var np=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=new se,a=new Fd;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=e,this._changePolyState=$(this._changePolyState,this)},t.prototype.render=function(e,a,i){var n=e.coordinateSystem,o=this.group,s=e.getData(),l=e.getModel("lineStyle"),u=e.getModel("areaStyle"),c=s.getLayout("points")||[],h=n.type==="polar",f=this._coordSys,d=this._symbolDraw,p=this._polyline,v=this._polygon,g=this._lineGroup,y=!a.ssr&&e.get("animation"),m=!u.isEmpty(),_=u.get("origin"),x=$l(n,s,_),b=m&&Kd(n,s,x),S=e.get("showSymbol"),w=e.get("connectNulls"),A=S&&!h&&Jd(e,s,n),L=this._data;L&&L.eachItemGraphicEl(function(ge,Re){ge.__temp&&(o.remove(ge),L.setItemGraphicEl(Re,null))}),S||d.remove(),o.add(g);var I=h?!1:e.get("step"),C;n&&n.getArea&&e.get("clip",!0)&&(C=n.getArea(),C.width!=null?(C.x-=.1,C.y-=.1,C.width+=.2,C.height+=.2):C.r0&&(C.r0-=.5,C.r+=.5)),this._clipShapeForSymbol=C;var M=Qd(s,n,i)||s.getVisual("style")[s.getVisual("drawType")];if(!(p&&f.type===n.type&&I===this._step))S&&d.updateData(s,{isIgnore:A,clipShape:C,disableAnimation:!0,getSymbolPoint:function(ge){return[c[ge*2],c[ge*2+1]]}}),y&&this._initSymbolLabelAnimation(s,n,C),I&&(b&&(b=rt(b,c,n,I,w)),c=rt(c,null,n,I,w)),p=this._newPolyline(c),m?v=this._newPolygon(c,b):v&&(g.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(e,n,Nt(M)),g.setClipPath(Cr(this,n,!0,e));else{m&&!v?v=this._newPolygon(c,b):v&&!m&&(g.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(e,n,Nt(M));var D=g.getClipPath();if(D){var k=Cr(this,n,!1,e);Me(D,{shape:k.shape},e)}else g.setClipPath(Cr(this,n,!0,e));S&&d.updateData(s,{isIgnore:A,clipShape:C,disableAnimation:!0,getSymbolPoint:function(ge){return[c[ge*2],c[ge*2+1]]}}),(!Qn(this._stackedOnPoints,b)||!Qn(this._points,c))&&(y?this._doUpdateAnimation(s,b,n,i,I,_,w):(I&&(b&&(b=rt(b,c,n,I,w)),c=rt(c,null,n,I,w)),p.setShape({points:c}),v&&v.setShape({points:c,stackedOnPoints:b})))}var P=e.getModel("emphasis"),B=P.get("focus"),G=P.get("blurScope"),V=P.get("disabled");if(p.useStyle(de(l.getLineStyle(),{fill:"none",stroke:M,lineJoin:"bevel"})),Ht(p,e,"lineStyle"),p.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var W=p.getState("emphasis").style;W.lineWidth=+p.style.lineWidth+1}fe(p).seriesIndex=e.seriesIndex,St(p,B,G,V);var Y=to(e.get("smooth")),q=e.get("smoothMonotone");if(p.setShape({smooth:Y,smoothMonotone:q,connectNulls:w}),v){var J=s.getCalculationInfo("stackedOnSeries"),le=0;v.useStyle(de(u.getAreaStyle(),{fill:M,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),J&&(le=to(J.get("smooth"))),v.setShape({smooth:Y,stackedOnSmooth:le,smoothMonotone:q,connectNulls:w}),Ht(v,e,"areaStyle"),fe(v).seriesIndex=e.seriesIndex,St(v,B,G,V)}var pe=this._changePolyState;s.eachItemGraphicEl(function(ge){ge&&(ge.onHoverStateChange=pe)}),this._polyline.onHoverStateChange=pe,this._data=s,this._coordSys=n,this._stackedOnPoints=b,this._points=c,this._step=I,this._valueOrigin=_,e.get("triggerLineEvent")&&(this.packEventData(e,p),v&&this.packEventData(e,v))},t.prototype.packEventData=function(e,a){fe(a).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,a,i,n){var o=e.getData(),s=ei(o,n);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],h=l[s*2+1];if(isNaN(c)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,h))return;var f=e.get("zlevel")||0,d=e.get("z")||0;u=new Ki(o,s),u.x=c,u.y=h,u.setZ(f,d);var p=u.getSymbolPath().getTextContent();p&&(p.zlevel=f,p.z=d,p.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Vt.prototype.highlight.call(this,e,a,i,n)},t.prototype.downplay=function(e,a,i,n){var o=e.getData(),s=ei(o,n);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Vt.prototype.downplay.call(this,e,a,i,n)},t.prototype._changePolyState=function(e){var a=this._polygon;_n(this._polyline,e),a&&_n(a,e)},t.prototype._newPolyline=function(e){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new Xd({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},t.prototype._newPolygon=function(e,a){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Yd({shape:{points:e,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(e,a,i){var n,o,s=a.getBaseAxis(),l=s.inverse;a.type==="cartesian2d"?(n=s.isHorizontal(),o=!1):a.type==="polar"&&(n=s.dim==="angle",o=!0);var u=e.hostModel,c=u.get("animationDuration");we(c)&&(c=c(null));var h=u.get("animationDelay")||0,f=we(h)?h(null):h;e.eachItemGraphicEl(function(d,p){var v=d;if(v){var g=[d.x,d.y],y=void 0,m=void 0,_=void 0;if(i)if(o){var x=i,b=a.pointToCoord(g);n?(y=x.startAngle,m=x.endAngle,_=-b[1]/180*Math.PI):(y=x.r0,m=x.r,_=b[0])}else{var S=i;n?(y=S.x,m=S.x+S.width,_=d.x):(y=S.y+S.height,m=S.y,_=d.y)}var w=m===y?0:(_-y)/(m-y);l&&(w=1-w);var A=we(h)?h(p):c*w+f,L=v.getSymbolPath(),I=L.getTextContent();v.attr({scaleX:0,scaleY:0}),v.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:A}),I&&I.animateFrom({style:{opacity:0}},{duration:300,delay:A}),L.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,a,i){var n=e.getModel("endLabel");if(Kl(e)){var o=e.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new xe({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=ap(l);c>=0&&(Lt(s,dt(e,"endLabel"),{inheritColor:i,labelFetcher:e,labelDataIndex:c,defaultText:function(h,f,d){return d!=null?Zl(o,d):qi(o,h)},enableTextSetter:!0},ip(n,a)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,a,i,n,o,s,l){var u=this._endLabel,c=this._polyline;if(u){e<1&&n.originalX==null&&(n.originalX=u.x,n.originalY=u.y);var h=i.getLayout("points"),f=i.hostModel,d=f.get("connectNulls"),p=s.get("precision"),v=s.get("distance")||0,g=l.getBaseAxis(),y=g.isHorizontal(),m=g.inverse,_=a.shape,x=m?y?_.x:_.y+_.height:y?_.x+_.width:_.y,b=(y?v:0)*(m?-1:1),S=(y?0:-v)*(m?-1:1),w=y?"x":"y",A=rp(h,x,w),L=A.range,I=L[1]-L[0],C=void 0;if(I>=1){if(I>1&&!d){var M=ao(h,L[0]);u.attr({x:M[0]+b,y:M[1]+S}),o&&(C=f.getRawValue(L[0]))}else{var M=c.getPointOn(x,w);M&&u.attr({x:M[0]+b,y:M[1]+S});var D=f.getRawValue(L[0]),k=f.getRawValue(L[1]);o&&(C=jc(i,p,D,k,A.t))}n.lastFrameIndex=L[0]}else{var P=e===1||n.lastFrameIndex>0?L[0]:0,M=ao(h,P);o&&(C=f.getRawValue(P)),u.attr({x:M[0]+b,y:M[1]+S})}if(o){var B=nl(u);typeof B.setLabelText=="function"&&B.setLabelText(C)}}},t.prototype._doUpdateAnimation=function(e,a,i,n,o,s,l){var u=this._polyline,c=this._polygon,h=e.hostModel,f=$d(this._data,e,this._stackedOnPoints,a,this._coordSys,i,this._valueOrigin),d=f.current,p=f.stackedOnCurrent,v=f.next,g=f.stackedOnNext;if(o&&(p=rt(f.stackedOnCurrent,f.current,i,o,l),d=rt(f.current,null,i,o,l),g=rt(f.stackedOnNext,f.next,i,o,l),v=rt(f.next,null,i,o,l)),eo(d,v)>3e3||c&&eo(p,g)>3e3){u.stopAnimation(),u.setShape({points:v}),c&&(c.stopAnimation(),c.setShape({points:v,stackedOnPoints:g}));return}u.shape.__points=f.current,u.shape.points=d;var y={shape:{points:v}};f.current!==d&&(y.shape.__points=f.next),u.stopAnimation(),Ie(u,y,h),c&&(c.setShape({points:d,stackedOnPoints:p}),c.stopAnimation(),Ie(c,{shape:{stackedOnPoints:g}},h),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var m=[],_=f.status,x=0;x<_.length;x++){var b=_[x].cmd;if(b==="="){var S=e.getItemGraphicEl(_[x].idx1);S&&m.push({el:S,ptIdx:x})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var w=u.shape.__points,A=0;A<m.length;A++){var L=m[A].el,I=m[A].ptIdx*2;L.x=w[I],L.y=w[I+1],L.markRedraw()}})},t.prototype.remove=function(e){var a=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(n,o){n.__temp&&(a.remove(n),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Vt);function op(r,t){return{seriesType:r,plan:Jc(),reset:function(e){var a=e.getData(),i=e.coordinateSystem,n=e.pipelineContext,o=t||n.large;if(i){var s=j(i.dimensions,function(d){return a.mapDimension(d)}).slice(0,2),l=s.length,u=a.getCalculationInfo("stackResultDimension");ca(a,s[0])&&(s[0]=u),ca(a,s[1])&&(s[1]=u);var c=a.getStore(),h=a.getDimensionIndex(s[0]),f=a.getDimensionIndex(s[1]);return l&&{progress:function(d,p){for(var v=d.end-d.start,g=o&&Ot(v*l),y=[],m=[],_=d.start,x=0;_<d.end;_++){var b=void 0;if(l===1){var S=c.get(h,_);b=i.dataToPoint(S,null,m)}else y[0]=c.get(h,_),y[1]=c.get(f,_),b=i.dataToPoint(y,null,m);o?(g[x++]=b[0],g[x++]=b[1]):p.setItemLayout(_,b.slice())}o&&p.setLayout("points",g)}}}}}}var sp={average:function(r){for(var t=0,e=0,a=0;a<r.length;a++)isNaN(r[a])||(t+=r[a],e++);return e===0?NaN:t/e},sum:function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e]||0;return t},max:function(r){for(var t=-1/0,e=0;e<r.length;e++)r[e]>t&&(t=r[e]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,e=0;e<r.length;e++)r[e]<t&&(t=r[e]);return isFinite(t)?t:NaN},nearest:function(r){return r[0]}},lp=function(r){return Math.round(r.length/2)};function jl(r){return{seriesType:r,reset:function(t,e,a){var i=t.getData(),n=t.get("sampling"),o=t.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&n){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),h=a.getDevicePixelRatio(),f=Math.abs(c[1]-c[0])*(h||1),d=Math.round(s/f);if(isFinite(d)&&d>1){n==="lttb"?t.setData(i.lttbDownSample(i.mapDimension(u.dim),1/d)):n==="minmax"&&t.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/d));var p=void 0;oe(n)?p=sp[n]:we(n)&&(p=n),p&&t.setData(i.downSample(i.mapDimension(u.dim),1/d,p,lp))}}}}}function up(r){r.registerChartView(np),r.registerSeriesModel(Hd),r.registerLayout(op("line",!0)),r.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),a=t.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",a)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,jl("line"))}var di=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,a){return Ni(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,a,i){var n=this.coordinateSystem;if(n&&n.clampData){var o=n.clampData(e),s=n.dataToPoint(o);if(i)T(n.getAxes(),function(f,d){if(f.type==="category"&&a!=null){var p=f.getTicksCoords(),v=f.getTickModel().get("alignWithLabel"),g=o[d],y=a[d]==="x1"||a[d]==="y1";if(y&&!v&&(g+=1),p.length<2)return;if(p.length===2){s[d]=f.toGlobalCoord(f.getExtent()[y?1:0]);return}for(var m=void 0,_=void 0,x=1,b=0;b<p.length;b++){var S=p[b].coord,w=b===p.length-1?p[b-1].tickValue+x:p[b].tickValue;if(w===g){_=S;break}else if(w<g)m=S;else if(m!=null&&w>g){_=(S+m)/2;break}b===1&&(x=w-p[0].tickValue)}_==null&&(m?m&&(_=p[p.length-1].coord):_=p[0].coord),s[d]=f.toGlobalCoord(_)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),h=n.getBaseAxis().isHorizontal()?0:1;s[h]+=u+c/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(_a);_a.registerClass(di);var cp=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return Ni(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>e&&(e=a),e},t.prototype.brushSelector=function(e,a,i){return i.rect(a.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Ut(di.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(di),hp=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),ro=function(r){O(t,r);function t(e){var a=r.call(this,e)||this;return a.type="sausage",a}return t.prototype.getDefaultShape=function(){return new hp},t.prototype.buildPath=function(e,a){var i=a.cx,n=a.cy,o=Math.max(a.r0||0,0),s=Math.max(a.r,0),l=(s-o)*.5,u=o+l,c=a.startAngle,h=a.endAngle,f=a.clockwise,d=Math.PI*2,p=f?h-c<d:c-h<d;p||(c=h-(f?d:-d));var v=Math.cos(c),g=Math.sin(c),y=Math.cos(h),m=Math.sin(h);p?(e.moveTo(v*o+i,g*o+n),e.arc(v*u+i,g*u+n,l,-Math.PI+c,c,!f)):e.moveTo(v*s+i,g*s+n),e.arc(i,n,s,c,h,!f),e.arc(y*u+i,m*u+n,l,h-Math.PI*2,h-Math.PI,!f),o!==0&&e.arc(i,n,o,h,c,f)},t}(ba);function fp(r,t){t=t||{};var e=t.isRoundCap;return function(a,i,n){var o=i.position;if(!o||o instanceof Array)return bn(a,i,n);var s=r(o),l=i.distance!=null?i.distance:5,u=this.shape,c=u.cx,h=u.cy,f=u.r,d=u.r0,p=(f+d)/2,v=u.startAngle,g=u.endAngle,y=(v+g)/2,m=e?Math.abs(f-d)/2:0,_=Math.cos,x=Math.sin,b=c+f*_(v),S=h+f*x(v),w="left",A="top";switch(s){case"startArc":b=c+(d-l)*_(y),S=h+(d-l)*x(y),w="center",A="top";break;case"insideStartArc":b=c+(d+l)*_(y),S=h+(d+l)*x(y),w="center",A="bottom";break;case"startAngle":b=c+p*_(v)+La(v,l+m,!1),S=h+p*x(v)+Ta(v,l+m,!1),w="right",A="middle";break;case"insideStartAngle":b=c+p*_(v)+La(v,-l+m,!1),S=h+p*x(v)+Ta(v,-l+m,!1),w="left",A="middle";break;case"middle":b=c+p*_(y),S=h+p*x(y),w="center",A="middle";break;case"endArc":b=c+(f+l)*_(y),S=h+(f+l)*x(y),w="center",A="bottom";break;case"insideEndArc":b=c+(f-l)*_(y),S=h+(f-l)*x(y),w="center",A="top";break;case"endAngle":b=c+p*_(g)+La(g,l+m,!0),S=h+p*x(g)+Ta(g,l+m,!0),w="left",A="middle";break;case"insideEndAngle":b=c+p*_(g)+La(g,-l+m,!0),S=h+p*x(g)+Ta(g,-l+m,!0),w="right",A="middle";break;default:return bn(a,i,n)}return a=a||{},a.x=b,a.y=S,a.align=w,a.verticalAlign=A,a}}function dp(r,t,e,a){if(Qe(a)){r.setTextConfig({rotation:a});return}else if(X(t)){r.setTextConfig({rotation:0});return}var i=r.shape,n=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(n+o)/2,l,u=e(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=n;break;case"endAngle":case"insideEndAngle":l=o;break;default:r.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),r.setTextConfig({rotation:c})}function La(r,t,e){return t*Math.sin(r)*(e?-1:1)}function Ta(r,t,e){return t*Math.cos(r)*(e?1:-1)}function ia(r,t,e){var a=r.get("borderRadius");if(a==null)return e?{cornerRadius:0}:null;X(a)||(a=[a,a,a,a]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:j(a,function(n){return ti(n,i)})}}var Lr=Math.max,Tr=Math.min;function pp(r,t){var e=r.getArea&&r.getArea();if(hr(r,"cartesian2d")){var a=r.getBaseAxis();if(a.type!=="category"||!a.onBand){var i=t.getLayout("bandWidth");a.isHorizontal()?(e.x-=i,e.width+=i*2):(e.y-=i,e.height+=i*2)}}return e}var vp=function(r){O(t,r);function t(){var e=r.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,a,i,n){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,a,i):this._renderNormal(e,a,i,n))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,a){this._progressiveEls=[],this._incrementalRenderLarge(e,a)},t.prototype.eachRendered=function(e){Gi(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var a=e.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},t.prototype._renderNormal=function(e,a,i,n){var o=this.group,s=e.getData(),l=this._data,u=e.coordinateSystem,c=u.getBaseAxis(),h;u.type==="cartesian2d"?h=c.isHorizontal():u.type==="polar"&&(h=c.dim==="angle");var f=e.isAnimationEnabled()?e:null,d=gp(e,u);d&&this._enableRealtimeSort(d,s,i);var p=e.get("clip",!0)||d,v=pp(u,s);o.removeClipPath();var g=e.get("roundCap",!0),y=e.get("showBackground",!0),m=e.getModel("backgroundStyle"),_=m.get("borderRadius")||0,x=[],b=this._backgroundEls,S=n&&n.isInitSort,w=n&&n.type==="changeAxisOrder";function A(C){var M=Ia[u.type](s,C),D=wp(u,h,M);return D.useStyle(m.getItemStyle()),u.type==="cartesian2d"?D.setShape("r",_):D.setShape("cornerRadius",_),x[C]=D,D}s.diff(l).add(function(C){var M=s.getItemModel(C),D=Ia[u.type](s,C,M);if(y&&A(C),!(!s.hasValue(C)||!lo[u.type](D))){var k=!1;p&&(k=io[u.type](v,D));var P=no[u.type](e,s,C,D,h,f,c.model,!1,g);d&&(P.forceLabelAnimation=!0),uo(P,s,C,M,D,e,h,u.type==="polar"),S?P.attr({shape:D}):d?oo(d,f,P,D,C,h,!1,!1):Me(P,{shape:D},e,C),s.setItemGraphicEl(C,P),o.add(P),P.ignore=k}}).update(function(C,M){var D=s.getItemModel(C),k=Ia[u.type](s,C,D);if(y){var P=void 0;b.length===0?P=A(M):(P=b[M],P.useStyle(m.getItemStyle()),u.type==="cartesian2d"?P.setShape("r",_):P.setShape("cornerRadius",_),x[C]=P);var B=Ia[u.type](s,C),G=Jl(h,B,u);Ie(P,{shape:G},f,C)}var V=l.getItemGraphicEl(M);if(!s.hasValue(C)||!lo[u.type](k)){o.remove(V);return}var W=!1;if(p&&(W=io[u.type](v,k),W&&o.remove(V)),V?ua(V):V=no[u.type](e,s,C,k,h,f,c.model,!!V,g),d&&(V.forceLabelAnimation=!0),w){var Y=V.getTextContent();if(Y){var q=nl(Y);q.prevValue!=null&&(q.prevValue=q.value)}}else uo(V,s,C,D,k,e,h,u.type==="polar");S?V.attr({shape:k}):d?oo(d,f,V,k,C,h,!0,w):Ie(V,{shape:k},e,C,null),s.setItemGraphicEl(C,V),V.ignore=W,o.add(V)}).remove(function(C){var M=l.getItemGraphicEl(C);M&&ai(M,e,C)}).execute();var L=this._backgroundGroup||(this._backgroundGroup=new se);L.removeAll();for(var I=0;I<x.length;++I)L.add(x[I]);o.add(L),this._backgroundEls=x,this._data=s},t.prototype._renderLarge=function(e,a,i){this._clear(),ho(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,a){this._removeBackground(),ho(a,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var a=e.get("clip",!0)&&qd(e.coordinateSystem,!1,e),i=this.group;a?i.setClipPath(a):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,a,i){var n=this;if(a.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(a,e,i),this._isFirstFrame=!1;else{var s=function(l){var u=a.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){n._updateSortWithinSameData(a,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,a,i){var n=[];return e.each(e.mapDimension(a.dim),function(o,s){var l=i(s);l=l??NaN,n.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),n.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:j(n,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,a,i){for(var n=i.scale,o=e.mapDimension(i.dim),s=Number.MAX_VALUE,l=0,u=n.getOrdinalMeta().categories.length;l<u;++l){var c=e.rawIndexOf(o,n.getRawOrdinalNumber(l)),h=c<0?Number.MIN_VALUE:a(e.indexOfRawIndex(c));if(h>s)return!0;s=h}return!1},t.prototype._isOrderDifferentInView=function(e,a){for(var i=a.scale,n=i.getExtent(),o=Math.max(0,n[0]),s=Math.min(n[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(e.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,a,i,n){if(this._isOrderChangedWithinSameData(e,a,i)){var o=this._dataSort(e,i,a);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(n),n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,a,i){var n=a.baseAxis,o=this._dataSort(e,n,function(s){return e.get(e.mapDimension(a.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",isInitSort:!0,axisId:n.index,sortInfo:o})},t.prototype.remove=function(e,a){this._clear(this._model),this._removeOnRenderedListener(a)},t.prototype.dispose=function(e,a){this._removeOnRenderedListener(a)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var a=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(n){ai(n,e,fe(n).dataIndex)})):a.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Vt),io={cartesian2d:function(r,t){var e=t.width<0?-1:1,a=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height);var i=r.x+r.width,n=r.y+r.height,o=Lr(t.x,r.x),s=Tr(t.x+t.width,i),l=Lr(t.y,r.y),u=Tr(t.y+t.height,n),c=s<o,h=u<l;return t.x=c&&o>i?s:o,t.y=h&&l>n?u:l,t.width=c?0:s-o,t.height=h?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),c||h},polar:function(r,t){var e=t.r0<=t.r?1:-1;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}var i=Tr(t.r,r.r),n=Lr(t.r0,r.r0);t.r=i,t.r0=n;var o=i-n<0;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}return o}},no={cartesian2d:function(r,t,e,a,i,n,o,s,l){var u=new Se({shape:re({},a),z2:1});if(u.__dataIndex=e,u.name="item",n){var c=u.shape,h=i?"height":"width";c[h]=0}return u},polar:function(r,t,e,a,i,n,o,s,l){var u=!i&&l?ro:xa,c=new u({shape:a,z2:1});c.name="item";var h=Ql(i);if(c.calculateTextPosition=fp(h,{isRoundCap:u===ro}),n){var f=c.shape,d=i?"r":"endAngle",p={};f[d]=i?a.r0:a.startAngle,p[d]=a[d],(s?Ie:Me)(c,{shape:p},n)}return c}};function gp(r,t){var e=r.get("realtimeSort",!0),a=t.getBaseAxis();if(e&&a.type==="category"&&t.type==="cartesian2d")return{baseAxis:a,otherAxis:t.getOtherAxis(a)}}function oo(r,t,e,a,i,n,o,s){var l,u;n?(u={x:a.x,width:a.width},l={y:a.y,height:a.height}):(u={y:a.y,height:a.height},l={x:a.x,width:a.width}),s||(o?Ie:Me)(e,{shape:l},t,i,null);var c=t?r.baseAxis.model:null;(o?Ie:Me)(e,{shape:u},c,i)}function so(r,t){for(var e=0;e<t.length;e++)if(!isFinite(r[t[e]]))return!0;return!1}var mp=["x","y","width","height"],yp=["cx","cy","r","startAngle","endAngle"],lo={cartesian2d:function(r){return!so(r,mp)},polar:function(r){return!so(r,yp)}},Ia={cartesian2d:function(r,t,e){var a=r.getItemLayout(t),i=e?bp(e,a):0,n=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+n*i/2,y:a.y+o*i/2,width:a.width-n*i,height:a.height-o*i}},polar:function(r,t,e){var a=r.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function _p(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function Ql(r){return function(t){var e=t?"Arc":"Angle";return function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+e;default:return a}}}(r)}function uo(r,t,e,a,i,n,o,s){var l=t.getItemVisual(e,"style");if(s){if(!n.get("roundCap")){var c=r.shape,h=ia(a.getModel("itemStyle"),c,!0);re(c,h),r.setShape(c)}}else{var u=a.get(["itemStyle","borderRadius"])||0;r.setShape("r",u)}r.useStyle(l);var f=a.getShallow("cursor");f&&r.attr("cursor",f);var d=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",p=dt(a);Lt(r,p,{labelFetcher:n,labelDataIndex:e,defaultText:qi(n.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:d});var v=r.getTextContent();if(s&&v){var g=a.get(["label","position"]);r.textConfig.inside=g==="middle"?!0:null,dp(r,g==="outside"?d:g,Ql(o),a.get(["label","rotate"]))}eh(v,p,n.getRawValue(e),function(m){return Zl(t,m)});var y=a.getModel(["emphasis"]);St(r,y.get("focus"),y.get("blurScope"),y.get("disabled")),Ht(r,a),_p(i)&&(r.style.fill="none",r.style.stroke="none",T(r.states,function(m){m.style&&(m.style.fill=m.style.stroke="none")}))}function bp(r,t){var e=r.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var a=r.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),n=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(a,i,n)}var xp=function(){function r(){}return r}(),co=function(r){O(t,r);function t(e){var a=r.call(this,e)||this;return a.type="largeBar",a}return t.prototype.getDefaultShape=function(){return new xp},t.prototype.buildPath=function(e,a){for(var i=a.points,n=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[n]=u,l[o]=i[c+2],s[n]=i[c+n],s[o]=i[c+o],e.rect(s[0],s[1],l[0],l[1])},t}(ba);function ho(r,t,e,a){var i=r.getData(),n=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=r.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new co({shape:{points:u},incremental:!!a,silent:!0,z2:0});c.baseDimIdx=n,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),t.add(c),e&&e.push(c)}var h=new co({shape:{points:i.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=n,h.largeDataIndices=o,h.barWidth=s,t.add(h),h.useStyle(i.getVisual("style")),h.style.stroke=null,fe(h).seriesIndex=r.seriesIndex,r.get("silent")||(h.on("mousedown",fo),h.on("mousemove",fo)),e&&e.push(h)}var fo=th(function(r){var t=this,e=Sp(t,r.offsetX,r.offsetY);fe(t).dataIndex=e>=0?e:null},30,!1);function Sp(r,t,e){for(var a=r.baseDimIdx,i=1-a,n=r.shape.points,o=r.largeDataIndices,s=[],l=[],u=r.barWidth,c=0,h=n.length/3;c<h;c++){var f=c*3;if(l[a]=u,l[i]=n[f+2],s[a]=n[f+a],s[i]=n[f+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),t>=s[0]&&t<=s[0]+l[0]&&e>=s[1]&&e<=s[1]+l[1])return o[c]}return-1}function Jl(r,t,e){if(hr(e,"cartesian2d")){var a=t,i=e.getArea();return{x:r?a.x:i.x,y:r?i.y:a.y,width:r?a.width:i.width,height:r?i.height:a.height}}else{var i=e.getArea(),n=t;return{cx:i.cx,cy:i.cy,r0:r?i.r0:n.r0,r:r?i.r:n.r,startAngle:r?n.startAngle:0,endAngle:r?n.endAngle:Math.PI*2}}}function wp(r,t,e){var a=r.type==="polar"?xa:Se;return new a({shape:Jl(t,e,r),silent:!0,z2:0})}function eu(r){r.registerChartView(vp),r.registerSeriesModel(cp),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,Q(ah,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,rh("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,jl("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var a=t.componentType||"series";e.eachComponent({mainType:a,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var po=Math.PI*2,Ma=Math.PI/180;function tu(r,t){return je(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function au(r,t){var e=tu(r,t),a=r.get("center"),i=r.get("radius");X(i)||(i=[0,i]);var n=be(e.width,t.getWidth()),o=be(e.height,t.getHeight()),s=Math.min(n,o),l=be(i[0],s/2),u=be(i[1],s/2),c,h,f=r.coordinateSystem;if(f){var d=f.dataToPoint(a);c=d[0]||0,h=d[1]||0}else X(a)||(a=[a,a]),c=be(a[0],n)+e.x,h=be(a[1],o)+e.y;return{cx:c,cy:h,r0:l,r:u}}function Ap(r,t,e){t.eachSeriesByType(r,function(a){var i=a.getData(),n=i.mapDimension("value"),o=tu(a,e),s=au(a,e),l=s.cx,u=s.cy,c=s.r,h=s.r0,f=-a.get("startAngle")*Ma,d=a.get("endAngle"),p=a.get("padAngle")*Ma;d=d==="auto"?f-po:-d*Ma;var v=a.get("minAngle")*Ma,g=v+p,y=0;i.each(n,function(G){!isNaN(G)&&y++});var m=i.getSum(n),_=Math.PI/(m||y)*2,x=a.get("clockwise"),b=a.get("roseType"),S=a.get("stillShowZeroSum"),w=i.getDataExtent(n);w[0]=0;var A=x?1:-1,L=[f,d],I=A*p/2;ih(L,!x),f=L[0],d=L[1];var C=ru(a);C.startAngle=f,C.endAngle=d,C.clockwise=x;var M=Math.abs(d-f),D=M,k=0,P=f;if(i.setLayout({viewRect:o,r:c}),i.each(n,function(G,V){var W;if(isNaN(G)){i.setItemLayout(V,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:l,cy:u,r0:h,r:b?NaN:c});return}b!=="area"?W=m===0&&S?_:G*_:W=M/y,W<g?(W=g,D-=g):k+=G;var Y=P+A*W,q=0,J=0;p>W?(q=P+A*W/2,J=q):(q=P+I,J=Y-I),i.setItemLayout(V,{angle:W,startAngle:q,endAngle:J,clockwise:x,cx:l,cy:u,r0:h,r:b?ve(G,w,[h,c]):c}),P=Y}),D<po&&y)if(D<=.001){var B=M/y;i.each(n,function(G,V){if(!isNaN(G)){var W=i.getItemLayout(V);W.angle=B;var Y=0,q=0;B<p?(Y=f+A*(V+1/2)*B,q=Y):(Y=f+A*V*B+I,q=f+A*(V+1)*B-I),W.startAngle=Y,W.endAngle=q}})}else _=D/k,P=f,i.each(n,function(G,V){if(!isNaN(G)){var W=i.getItemLayout(V),Y=W.angle===g?g:G*_,q=0,J=0;Y<p?(q=P+A*Y/2,J=q):(q=P+I,J=P+A*Y-I),W.startAngle=q,W.endAngle=J,P+=A*Y}})})}var ru=Ge();function iu(r){return{seriesType:r,reset:function(t,e){var a=e.findComponents({mainType:"legend"});if(!(!a||!a.length)){var i=t.getData();i.filterSelf(function(n){for(var o=i.getName(n),s=0;s<a.length;s++)if(!a[s].isSelected(o))return!1;return!0})}}}}var Cp=Math.PI/180;function vo(r,t,e,a,i,n,o,s,l,u){if(r.length<2)return;function c(v){for(var g=v.rB,y=g*g,m=0;m<v.list.length;m++){var _=v.list[m],x=Math.abs(_.label.y-e),b=a+_.len,S=b*b,w=Math.sqrt(Math.abs((1-x*x/y)*S)),A=t+(w+_.len2)*i,L=A-_.label.x,I=_.targetTextWidth-L*i;nu(_,I,!0),_.label.x=A}}function h(v){for(var g={list:[],maxY:0},y={list:[],maxY:0},m=0;m<v.length;m++)if(v[m].labelAlignTo==="none"){var _=v[m],x=_.label.y>e?y:g,b=Math.abs(_.label.y-e);if(b>=x.maxY){var S=_.label.x-t-_.len2*i,w=a+_.len,A=Math.abs(S)<w?Math.sqrt(b*b/(1-S*S/w/w)):w;x.rB=A,x.maxY=b}x.list.push(_)}c(g),c(y)}for(var f=r.length,d=0;d<f;d++)if(r[d].position==="outer"&&r[d].labelAlignTo==="labelLine"){var p=r[d].label.x-u;r[d].linePoints[1][0]+=p,r[d].label.x=u}sh(r,l,l+o)&&h(r)}function Lp(r,t,e,a,i,n,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,h=-Number.MAX_VALUE,f=0;f<r.length;f++){var d=r[f].label;Ir(r[f])||(d.x<t?(c=Math.min(c,d.x),l.push(r[f])):(h=Math.max(h,d.x),u.push(r[f])))}for(var f=0;f<r.length;f++){var p=r[f];if(!Ir(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var d=p.label,v=p.linePoints,g=void 0;p.labelAlignTo==="edge"?d.x<t?g=v[2][0]-p.labelDistance-o-p.edgeDistance:g=o+i-p.edgeDistance-v[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?d.x<t?g=c-o-p.bleedMargin:g=o+i-h-p.bleedMargin:d.x<t?g=d.x-o-p.bleedMargin:g=o+i-d.x-p.bleedMargin,p.targetTextWidth=g,nu(p,g)}}vo(u,t,e,a,1,i,n,o,s,h),vo(l,t,e,a,-1,i,n,o,s,c);for(var f=0;f<r.length;f++){var p=r[f];if(!Ir(p)&&p.linePoints){var d=p.label,v=p.linePoints,y=p.labelAlignTo==="edge",m=d.style.padding,_=m?m[1]+m[3]:0,x=d.style.backgroundColor?0:_,b=p.rect.width+x,S=v[1][0]-v[2][0];y?d.x<t?v[2][0]=o+p.edgeDistance+b+p.labelDistance:v[2][0]=o+i-p.edgeDistance-b-p.labelDistance:(d.x<t?v[2][0]=d.x+p.labelDistance:v[2][0]=d.x-p.labelDistance,v[1][0]=v[2][0]+S),v[1][1]=v[2][1]=d.y}}}function nu(r,t,e){if(e===void 0&&(e=!1),r.labelStyleWidth==null){var a=r.label,i=a.style,n=r.rect,o=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,u=i.overflow,c=n.width+(o?0:l);if(t<c||e){var h=n.height;if(u&&u.match("break")){a.setStyle("backgroundColor",null),a.setStyle("width",t-l);var f=a.getBoundingRect();a.setStyle("width",Math.ceil(f.width)),a.setStyle("backgroundColor",o)}else{var d=t-l,p=t<c?d:e?d>r.unconstrainedWidth?null:d:null;a.setStyle("width",p)}var v=a.getBoundingRect();n.width=v.width;var g=(a.style.margin||0)+2.1;n.height=v.height+g,n.y-=(n.height-h)/2}}}function Ir(r){return r.position==="center"}function Tp(r){var t=r.getData(),e=[],a,i,n=!1,o=(r.get("minShowLabelAngle")||0)*Cp,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,c=s.x,h=s.y,f=s.height;function d(S){S.ignore=!0}function p(S){if(!S.ignore)return!0;for(var w in S.states)if(S.states[w].ignore===!1)return!0;return!1}t.each(function(S){var w=t.getItemGraphicEl(S),A=w.shape,L=w.getTextContent(),I=w.getTextGuideLine(),C=t.getItemModel(S),M=C.getModel("label"),D=M.get("position")||C.get(["emphasis","label","position"]),k=M.get("distanceToLabelLine"),P=M.get("alignTo"),B=be(M.get("edgeDistance"),u),G=M.get("bleedMargin"),V=C.getModel("labelLine"),W=V.get("length");W=be(W,u);var Y=V.get("length2");if(Y=be(Y,u),Math.abs(A.endAngle-A.startAngle)<o){T(L.states,d),L.ignore=!0,I&&(T(I.states,d),I.ignore=!0);return}if(p(L)){var q=(A.startAngle+A.endAngle)/2,J=Math.cos(q),le=Math.sin(q),pe,ge,Re,R;a=A.cx,i=A.cy;var z=D==="inside"||D==="inner";if(D==="center")pe=A.cx,ge=A.cy,R="center";else{var E=(z?(A.r+A.r0)/2*J:A.r*J)+a,Z=(z?(A.r+A.r0)/2*le:A.r*le)+i;if(pe=E+J*3,ge=Z+le*3,!z){var te=E+J*(W+l-A.r),ue=Z+le*(W+l-A.r),K=te+(J<0?-1:1)*Y,U=ue;P==="edge"?pe=J<0?c+B:c+u-B:pe=K+(J<0?-k:k),ge=U,Re=[[E,Z],[te,ue],[K,U]]}R=z?"center":P==="edge"?J>0?"right":"left":J>0?"left":"right"}var ne=Math.PI,Pe=0,me=M.get("rotate");if(Qe(me))Pe=me*(ne/180);else if(D==="center")Pe=0;else if(me==="radial"||me===!0){var hc=J<0?-q+ne:-q;Pe=hc}else if(me==="tangential"&&D!=="outside"&&D!=="outer"){var It=Math.atan2(J,le);It<0&&(It=ne*2+It);var fc=le>0;fc&&(It=ne+It),Pe=It-ne}if(n=!!Pe,L.x=pe,L.y=ge,L.rotation=Pe,L.setStyle({verticalAlign:"middle"}),z){L.setStyle({align:R});var vr=L.states.select;vr&&(vr.x+=L.x,vr.y+=L.y)}else{var qt=L.getBoundingRect().clone();qt.applyTransform(L.getComputedTransform());var pn=(L.style.margin||0)+2.1;qt.y-=pn/2,qt.height+=pn,e.push({label:L,labelLine:I,position:D,len:W,len2:Y,minTurnAngle:V.get("minTurnAngle"),maxSurfaceAngle:V.get("maxSurfaceAngle"),surfaceNormal:new ri(J,le),linePoints:Re,textAlign:R,labelDistance:k,labelAlignTo:P,edgeDistance:B,bleedMargin:G,rect:qt,unconstrainedWidth:qt.width,labelStyleWidth:L.style.width})}w.setTextConfig({inside:z})}}),!n&&r.get("avoidLabelOverlap")&&Lp(e,a,i,l,u,f,c,h);for(var v=0;v<e.length;v++){var g=e[v],y=g.label,m=g.labelLine,_=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:g.textAlign}),_&&(T(y.states,d),y.ignore=!0);var x=y.states.select;x&&(x.x+=y.x,x.y+=y.y)}if(m){var b=g.linePoints;_||!b?(T(m.states,d),m.ignore=!0):(nh(b,g.minTurnAngle),oh(b,g.surfaceNormal,g.maxSurfaceAngle),m.setShape({points:b}),y.__hostTarget.textGuideLineConfig={anchor:new ri(b[0][0],b[0][1])})}}}var Ip=function(r){O(t,r);function t(e,a,i){var n=r.call(this)||this;n.z2=2;var o=new xe;return n.setTextContent(o),n.updateData(e,a,i,!0),n}return t.prototype.updateData=function(e,a,i,n){var o=this,s=e.hostModel,l=e.getItemModel(a),u=l.getModel("emphasis"),c=e.getItemLayout(a),h=re(ia(l.getModel("itemStyle"),c,!0),c);if(isNaN(h.startAngle)){o.setShape(h);return}if(n){o.setShape(h);var f=s.getShallow("animationType");s.ecModel.ssr?(Me(o,{scaleX:0,scaleY:0},s,{dataIndex:a,isFrom:!0}),o.originX=h.cx,o.originY=h.cy):f==="scale"?(o.shape.r=c.r0,Me(o,{shape:{r:c.r}},s,a)):i!=null?(o.setShape({startAngle:i,endAngle:i}),Me(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,a)):(o.shape.endAngle=c.startAngle,Ie(o,{shape:{endAngle:c.endAngle}},s,a))}else ua(o),Ie(o,{shape:h},s,a);o.useStyle(e.getItemVisual(a,"style")),Ht(o,l);var d=(c.startAngle+c.endAngle)/2,p=s.get("selectedOffset"),v=Math.cos(d)*p,g=Math.sin(d)*p,y=l.getShallow("cursor");y&&o.attr("cursor",y),this._updateLabel(s,e,a),o.ensureState("emphasis").shape=re({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},ia(u.getModel("itemStyle"),c)),re(o.ensureState("select"),{x:v,y:g,shape:ia(l.getModel(["select","itemStyle"]),c)}),re(o.ensureState("blur"),{shape:ia(l.getModel(["blur","itemStyle"]),c)});var m=o.getTextGuideLine(),_=o.getTextContent();m&&re(m.ensureState("select"),{x:v,y:g}),re(_.ensureState("select"),{x:v,y:g}),St(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,a,i){var n=this,o=a.getItemModel(i),s=o.getModel("labelLine"),l=a.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;Lt(n,dt(o),{labelFetcher:a.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:e.getFormattedLabel(i,"normal")||a.getName(i)});var h=n.getTextContent();n.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var f=e.get(["label","position"]);if(f!=="outside"&&f!=="outer")n.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new Sa,this.setTextGuideLine(d)),lh(this,ch(o),{stroke:u,opacity:uh(s.get(["lineStyle","opacity"]),c,1)})}},t}(xa),Mp=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,a,i,n){var o=e.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),h=1;isNaN(c&&c.startAngle)&&h<o.count();++h)c=o.getItemLayout(h);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&e.get("showEmptyCircle")){var f=ru(e),d=new xa({shape:re(au(e,i),f)});d.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,l.add(d)}o.diff(s).add(function(p){var v=new Ip(o,p,u);o.setItemGraphicEl(p,v),l.add(v)}).update(function(p,v){var g=s.getItemGraphicEl(v);g.updateData(o,p,u),g.off("click"),l.add(g),o.setItemGraphicEl(p,g)}).remove(function(p){var v=s.getItemGraphicEl(p);ai(v,e,p)}).execute(),Tp(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,a){var i=a.getData(),n=i.getItemLayout(0);if(n){var o=e[0]-n.cx,s=e[1]-n.cy,l=Math.sqrt(o*o+s*s);return l<=n.r&&l>=n.r0}},t.type="pie",t}(Vt);function ou(r,t,e){t=X(t)&&{coordDimensions:t}||re({encodeDefine:r.getEncode()},t);var a=r.getSource(),i=hh(a,t).dimensions,n=new Na(i,r);return n.initData(a,e),n}var su=function(){function r(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return r.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},r.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},r.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},r.prototype.getItemVisual=function(t,e){var a=this._getDataWithEncodedVisual();return a.getItemVisual(t,e)},r}(),Dp=Ge(),Rp=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new su($(this.getData,this),$(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return ou(this,{coordDimensions:["value"],encodeDefaulter:Q(fh,this)})},t.prototype.getDataParams=function(e){var a=this.getData(),i=Dp(a),n=i.seats;if(!n){var o=[];a.each(a.mapDimension("value"),function(l){o.push(l)}),n=i.seats=dh(o,a.hostModel.get("percentPrecision"))}var s=r.prototype.getDataParams.call(this,e);return s.percent=n[e]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(e){sl(e,"labelLine",["show"]);var a=e.labelLine,i=e.emphasis.labelLine;a.show=a.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(_a);function Pp(r){return{seriesType:r,reset:function(t,e){var a=t.getData();a.filterSelf(function(i){var n=a.mapDimension("value"),o=a.get(n,i);return!(Qe(o)&&!isNaN(o)&&o<0)})}}}function lu(r){r.registerChartView(Mp),r.registerSeriesModel(Rp),ph("pie",r.registerAction),r.registerLayout(Q(Ap,"pie")),r.registerProcessor(iu("pie")),r.registerProcessor(Pp("pie"))}var kp=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Fe),pi=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",ht).models[0]},t.type="cartesian2dAxis",t}(Fe);Fi(pi,ll);var uu={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Ep=ie({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},uu),ji=ie({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},uu),Op=ie({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},ji),Vp=de({logBase:10},ji);const cu={category:Ep,value:ji,time:Op,log:Vp};var Bp={value:1,category:1,time:1,log:1};function go(r,t,e,a){T(Bp,function(i,n){var o=ie(ie({},cu[n],!0),a,!0),s=function(l){O(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=t+"Axis."+n,c}return u.prototype.mergeDefaultAndTheme=function(c,h){var f=vh(this),d=f?Wi(c):{},p=h.getTheme();ie(c,p.get(n+"Axis")),ie(c,this.getDefaultOption()),c.type=mo(c),f&&ul(c,d,f)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=gh.createByAxisModel(this))},u.prototype.getCategories=function(c){var h=this.option;if(h.type==="category")return c?h.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+n,u.defaultOption=o,u}(e);r.registerComponentModel(s)}),r.registerSubTypeDefaulter(t+"Axis",mo)}function mo(r){return r.type||(r.data?"category":"value")}var zp=function(){function r(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return r.prototype.getAxis=function(t){return this._axes[t]},r.prototype.getAxes=function(){return j(this._dimList,function(t){return this._axes[t]},this)},r.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),ir(this.getAxes(),function(e){return e.scale.type===t})},r.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},r}(),vi=["x","y"];function yo(r){return r.type==="interval"||r.type==="time"}var Np=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=vi,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,a=this.getAxis("y").scale;if(!(!yo(e)||!yo(a))){var i=e.getExtent(),n=a.getExtent(),o=this.dataToPoint([i[0],n[0]]),s=this.dataToPoint([i[1],n[1]]),l=i[1]-i[0],u=n[1]-n[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,h=(s[1]-o[1])/u,f=o[0]-i[0]*c,d=o[1]-n[0]*h,p=this._transform=[c,0,0,h,f,d];this._invTransform=mh([],p)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var a=this.getAxis("x"),i=this.getAxis("y");return a.contain(a.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,a){var i=this.dataToPoint(e),n=this.dataToPoint(a),o=this.getArea(),s=new mt(i[0],i[1],n[0]-i[0],n[1]-i[1]);return o.intersect(s)},t.prototype.dataToPoint=function(e,a,i){i=i||[];var n=e[0],o=e[1];if(this._transform&&n!=null&&isFinite(n)&&o!=null&&isFinite(o))return Gt(i,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(n,a)),i[1]=l.toGlobalCoord(l.dataToCoord(o,a)),i},t.prototype.clampData=function(e,a){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,o=i.getExtent(),s=n.getExtent(),l=i.parse(e[0]),u=n.parse(e[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),a[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),a},t.prototype.pointToData=function(e,a){var i=[];if(this._invTransform)return Gt(i,e,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return i[0]=n.coordToData(n.toLocalCoord(e[0]),a),i[1]=o.coordToData(o.toLocalCoord(e[1]),a),i},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(e){e=e||0;var a=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),n=Math.min(a[0],a[1])-e,o=Math.min(i[0],i[1])-e,s=Math.max(a[0],a[1])-n+e,l=Math.max(i[0],i[1])-o+e;return new mt(n,o,s,l)},t}(zp),Hp=function(r){O(t,r);function t(e,a,i,n,o){var s=r.call(this,e,a,i)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),e&&a[0]>a[1]&&a.reverse(),a},t.prototype.pointToData=function(e,a){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),a)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(cl);function gi(r,t,e){e=e||{};var a=r.coordinateSystem,i=t.axis,n={},o=i.getAxesOnZeroOf()[0],s=i.position,l=o?"onZero":s,u=i.dim,c=a.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],f={left:0,right:1,top:0,bottom:1,onZero:2},d=t.get("offset")||0,p=u==="x"?[h[2]-d,h[3]+d]:[h[0]-d,h[1]+d];if(o){var v=o.toGlobalCoord(o.dataToCoord(0));p[f.onZero]=Math.max(Math.min(v,p[1]),p[0])}n.position=[u==="y"?p[f[l]]:h[0],u==="x"?p[f[l]]:h[3]],n.rotation=Math.PI/2*(u==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};n.labelDirection=n.tickDirection=n.nameDirection=g[s],n.labelOffset=o?p[f[s]]-p[f.onZero]:0,t.get(["axisTick","inside"])&&(n.tickDirection=-n.tickDirection),wt(e.labelInside,t.get(["axisLabel","inside"]))&&(n.labelDirection=-n.labelDirection);var y=t.get(["axisLabel","rotate"]);return n.labelRotate=l==="top"?-y:y,n.z2=1,n}function _o(r){return r.get("coordinateSystem")==="cartesian2d"}function bo(r){var t={xAxisModel:null,yAxisModel:null};return T(t,function(e,a){var i=a.replace(/Model$/,""),n=r.getReferringComponents(i,ht).models[0];t[a]=n}),t}var Mr=Math.log;function hu(r,t,e){var a=ii.prototype,i=a.getTicks.call(e),n=a.getTicks.call(e,!0),o=i.length-1,s=a.getInterval.call(e),l=yh(r,t),u=l.extent,c=l.fixMin,h=l.fixMax;if(r.type==="log"){var f=Mr(r.base);u=[Mr(u[0])/f,Mr(u[1])/f]}r.setExtent(u[0],u[1]),r.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:h});var d=a.getExtent.call(r);c&&(u[0]=d[0]),h&&(u[1]=d[1]);var p=a.getInterval.call(r),v=u[0],g=u[1];if(c&&h)p=(g-v)/o;else if(c)for(g=u[0]+p*o;g<u[1]&&isFinite(g)&&isFinite(u[1]);)p=mr(p),g=u[0]+p*o;else if(h)for(v=u[1]-p*o;v>u[0]&&isFinite(v)&&isFinite(u[0]);)p=mr(p),v=u[1]-p*o;else{var y=r.getTicks().length-1;y>o&&(p=mr(p));var m=p*o;g=Math.ceil(u[1]/p)*p,v=st(g-m),v<0&&u[0]>=0?(v=0,g=st(m)):g>0&&u[1]<=0&&(g=0,v=-st(m))}var _=(i[0].value-n[0].value)/s,x=(i[o].value-n[o].value)/s;a.setExtent.call(r,v+p*_,g+p*x),a.setInterval.call(r,p),(_||x)&&a.setNiceExtent.call(r,v+p,g-p)}var Gp=function(){function r(t,e,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=vi,this._initCartesian(t,e,a),this.model=t}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(t,e){var a=this._axesMap;this._updateScale(t,this.model);function i(o){var s,l=hl(o),u=l.length;if(u){for(var c=[],h=u-1;h>=0;h--){var f=+l[h],d=o[f],p=d.model,v=d.scale;ni(v)&&p.get("alignTicks")&&p.get("interval")==null?c.push(d):(xn(v,p),ni(v)&&(s=d))}c.length&&(s||(s=c.pop(),xn(s.scale,s.model)),T(c,function(g){hu(g.scale,g.model,s.scale)}))}}i(a.x),i(a.y);var n={};T(a.x,function(o){xo(a,"y",o,n)}),T(a.y,function(o){xo(a,"x",o,n)}),this.resize(this.model,e)},r.prototype.resize=function(t,e,a){var i=t.getBoxLayoutParams(),n=!a&&t.get("containLabel"),o=je(i,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var s=this._axesList;l(),n&&(T(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=_h(u);if(c){var h=u.isHorizontal()?"height":"width",f=u.model.get(["axisLabel","margin"]);o[h]-=c[h]+f,u.position==="top"?o.y+=c.height+f:u.position==="left"&&(o.x+=c.width+f)}}}),l()),T(this._coordsList,function(u){u.calcAffineTransform()});function l(){T(s,function(u){var c=u.isHorizontal(),h=c?[0,o.width]:[0,o.height],f=u.inverse?1:0;u.setExtent(h[f],h[1-f]),Fp(u,c?o.x:o.y)})}},r.prototype.getAxis=function(t,e){var a=this._axesMap[t];if(a!=null)return a[e||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var a="x"+t+"y"+e;return this._coordsMap[a]}Ce(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,n=this._coordsList;i<n.length;i++)if(n[i].getAxis("x").index===t||n[i].getAxis("y").index===e)return n[i]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(t,e,a){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(a):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(a)):null},r.prototype.convertFromPixel=function(t,e,a){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(a):i.axis?i.axis.coordToData(i.axis.toLocalCoord(a)):null},r.prototype._findConvertTarget=function(t){var e=t.seriesModel,a=t.xAxisModel||e&&e.getReferringComponents("xAxis",ht).models[0],i=t.yAxisModel||e&&e.getReferringComponents("yAxis",ht).models[0],n=t.gridModel,o=this._coordsList,s,l;if(e)s=e.coordinateSystem,Te(o,s)<0&&(s=null);else if(a&&i)s=this.getCartesian(a.componentIndex,i.componentIndex);else if(a)l=this.getAxis("x",a.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(n){var u=n.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},r.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},r.prototype._initCartesian=function(t,e,a){var i=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,T(s.x,function(c,h){T(s.y,function(f,d){var p="x"+h+"y"+d,v=new Np(p);v.master=i,v.model=t,i._coordsMap[p]=v,i._coordsList.push(v),v.addAxis(c),v.addAxis(f)})});function u(c){return function(h,f){if(Dr(h,t)){var d=h.get("position");c==="x"?d!=="top"&&d!=="bottom"&&(d=o.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=o.left?"right":"left"),o[d]=!0;var p=new Hp(c,bh(h),[0,0],h.get("type"),d),v=p.type==="category";p.onBand=v&&h.get("boundaryGap"),p.inverse=h.get("inverse"),h.axis=p,p.model=h,p.grid=n,p.index=f,n._axesList.push(p),s[c][f]=p,l[c]++}}}},r.prototype._updateScale=function(t,e){T(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var n=i.model.get("categorySortInfo");i.scale.setSortInfo(n)}}),t.eachSeries(function(i){if(_o(i)){var n=bo(i),o=n.xAxisModel,s=n.yAxisModel;if(!Dr(o,e)||!Dr(s,e))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=i.getData(),c=l.getAxis("x"),h=l.getAxis("y");a(u,c),a(u,h)}},this);function a(i,n){T(xh(i,n.dim),function(o){n.scale.unionExtentFromData(i,o)})}},r.prototype.getTooltipAxes=function(t){var e=[],a=[];return T(this.getCartesians(),function(i){var n=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(n);Te(e,n)<0&&e.push(n),Te(a,o)<0&&a.push(o)}),{baseAxes:e,otherAxes:a}},r.create=function(t,e){var a=[];return t.eachComponent("grid",function(i,n){var o=new r(i,t,e);o.name="grid_"+n,o.resize(i,e,!0),i.coordinateSystem=o,a.push(o)}),t.eachSeries(function(i){if(_o(i)){var n=bo(i),o=n.xAxisModel,s=n.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;i.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),a},r.dimensions=vi,r}();function Dr(r,t){return r.getCoordSysModel()===t}function xo(r,t,e,a){e.getAxesOnZeroOf=function(){return n?[n]:[]};var i=r[t],n,o=e.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)So(i[l])&&(n=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&So(i[u])&&!a[c(i[u])]){n=i[u];break}n&&(a[c(n)]=!0);function c(h){return h.dim+"_"+h.index}}function So(r){return r&&r.type!=="category"&&r.type!=="time"&&Sh(r)}function Fp(r,t){var e=r.getExtent(),a=e[0]+e[1];r.toGlobalCoord=r.dim==="x"?function(i){return i+t}:function(i){return a-i+t},r.toLocalCoord=r.dim==="x"?function(i){return i-t}:function(i){return a-i+t}}var lt=Math.PI,Ke=function(){function r(t,e){this.group=new se,this.opt=e,this.axisModel=t,de(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var a=new se({x:e.position[0],y:e.position[1],rotation:e.rotation});a.updateTransform(),this._transformGroup=a}return r.prototype.hasBuilder=function(t){return!!wo[t]},r.prototype.add=function(t){wo[t](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(t,e,a){var i=fl(e-t),n,o;return qa(i)?(o=a>0?"top":"bottom",n="center"):qa(i-lt)?(o=a>0?"bottom":"top",n="center"):(o="middle",i>0&&i<lt?n=a>0?"right":"left":n=a>0?"left":"right"),{rotation:i,textAlign:n,textVerticalAlign:o}},r.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},r.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},r}(),wo={axisLine:function(r,t,e,a){var i=t.get(["axisLine","show"]);if(i==="auto"&&r.handleAutoShown&&(i=r.handleAutoShown("axisLine")),!!i){var n=t.axis.getExtent(),o=a.transform,s=[n[0],0],l=[n[1],0],u=s[0]>l[0];o&&(Gt(s,s,o),Gt(l,l,o));var c=re({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new ha({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});Ya(h.shape,h.style.lineWidth),h.anid="line",e.add(h);var f=t.get(["axisLine","symbol"]);if(f!=null){var d=t.get(["axisLine","symbolSize"]);oe(f)&&(f=[f,f]),(oe(d)||Qe(d))&&(d=[d,d]);var p=ar(t.get(["axisLine","symbolOffset"])||0,d),v=d[0],g=d[1];T([{rotate:r.rotation+Math.PI/2,offset:p[0],r:0},{rotate:r.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(y,m){if(f[m]!=="none"&&f[m]!=null){var _=Oe(f[m],-v/2,-g/2,v,g,c.stroke,!0),x=y.r+y.offset,b=u?l:s;_.attr({rotation:y.rotate,x:b[0]+x*Math.cos(r.rotation),y:b[1]-x*Math.sin(r.rotation),silent:!0,z2:11}),e.add(_)}})}}},axisTickLabel:function(r,t,e,a){var i=$p(e,a,t,r),n=Up(e,a,t,r);if(Zp(t,n,i),Xp(e,a,t,r.tickDirection),t.get(["axisLabel","hideOverlap"])){var o=wh(j(n,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));Ah(o)}},axisName:function(r,t,e,a){var i=wt(r.axisName,t.get("name"));if(i){var n=t.get("nameLocation"),o=r.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),c=u[0]>u[1]?-1:1,h=[n==="start"?u[0]-c*l:n==="end"?u[1]+c*l:(u[0]+u[1])/2,Co(n)?r.labelOffset+o*l:0],f,d=t.get("nameRotate");d!=null&&(d=d*lt/180);var p;Co(n)?f=Ke.innerTextLayout(r.rotation,d??r.rotation,o):(f=Wp(r.rotation,n,d||0,u),p=r.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(f.rotation)),!isFinite(p)&&(p=null)));var v=s.getFont(),g=t.get("nameTruncate",!0)||{},y=g.ellipsis,m=wt(r.nameTruncateMaxWidth,g.maxWidth,p),_=new xe({x:h[0],y:h[1],rotation:f.rotation,silent:Ke.isLabelSilent(t),style:Ne(s,{text:i,font:v,overflow:"truncate",width:m,ellipsis:y,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||f.textAlign,verticalAlign:s.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(nr({el:_,componentModel:t,itemName:i}),_.__fullText=i,_.anid="name",t.get("triggerEvent")){var x=Ke.makeAxisEventDataBase(t);x.targetType="axisName",x.name=i,fe(_).eventData=x}a.add(_),_.updateTransform(),e.add(_),_.decomposeTransform()}}};function Wp(r,t,e,a){var i=fl(e-r),n,o,s=a[0]>a[1],l=t==="start"&&!s||t!=="start"&&s;return qa(i-lt/2)?(o=l?"bottom":"top",n="center"):qa(i-lt*1.5)?(o=l?"top":"bottom",n="center"):(o="middle",i<lt*1.5&&i>lt/2?n=l?"left":"right":n=l?"right":"left"),{rotation:i,textAlign:n,textVerticalAlign:o}}function Zp(r,t,e){if(!Ch(r.axis)){var a=r.get(["axisLabel","showMinLabel"]),i=r.get(["axisLabel","showMaxLabel"]);t=t||[],e=e||[];var n=t[0],o=t[1],s=t[t.length-1],l=t[t.length-2],u=e[0],c=e[1],h=e[e.length-1],f=e[e.length-2];a===!1?(ke(n),ke(u)):Ao(n,o)&&(a?(ke(o),ke(c)):(ke(n),ke(u))),i===!1?(ke(s),ke(h)):Ao(l,s)&&(i?(ke(l),ke(f)):(ke(s),ke(h)))}}function ke(r){r&&(r.ignore=!0)}function Ao(r,t){var e=r&&r.getBoundingRect().clone(),a=t&&t.getBoundingRect().clone();if(!(!e||!a)){var i=Lh([]);return dl(i,i,-r.rotation),e.applyTransform(Sn([],i,r.getLocalTransform())),a.applyTransform(Sn([],i,t.getLocalTransform())),e.intersect(a)}}function Co(r){return r==="middle"||r==="center"}function fu(r,t,e,a,i){for(var n=[],o=[],s=[],l=0;l<r.length;l++){var u=r[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=e,t&&(Gt(o,o,t),Gt(s,s,t));var c=new ha({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:a,z2:2,autoBatch:!0,silent:!0});Ya(c.shape,c.style.lineWidth),c.anid=i+"_"+r[l].tickValue,n.push(c)}return n}function $p(r,t,e,a){var i=e.axis,n=e.getModel("axisTick"),o=n.get("show");if(o==="auto"&&a.handleAutoShown&&(o=a.handleAutoShown("axisTick")),!(!o||i.scale.isBlank())){for(var s=n.getModel("lineStyle"),l=a.tickDirection*n.get("length"),u=i.getTicksCoords(),c=fu(u,t.transform,l,de(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<c.length;h++)r.add(c[h]);return c}}function Xp(r,t,e,a){var i=e.axis,n=e.getModel("minorTick");if(!(!n.get("show")||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var s=n.getModel("lineStyle"),l=a*n.get("length"),u=de(s.getLineStyle(),de(e.getModel("axisTick").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var h=fu(o[c],t.transform,l,u,"minorticks_"+c),f=0;f<h.length;f++)r.add(h[f])}}function Up(r,t,e,a){var i=e.axis,n=wt(a.axisLabelShow,e.get(["axisLabel","show"]));if(!(!n||i.scale.isBlank())){var o=e.getModel("axisLabel"),s=o.get("margin"),l=i.getViewLabels(),u=(wt(a.labelRotate,o.get("rotate"))||0)*lt/180,c=Ke.innerTextLayout(a.rotation,u,a.labelDirection),h=e.getCategories&&e.getCategories(!0),f=[],d=Ke.isLabelSilent(e),p=e.get("triggerEvent");return T(l,function(v,g){var y=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(v.tickValue):v.tickValue,m=v.formattedLabel,_=v.rawLabel,x=o;if(h&&h[y]){var b=h[y];Ce(b)&&b.textStyle&&(x=new Ye(b.textStyle,o,e.ecModel))}var S=x.getTextColor()||e.get(["axisLine","lineStyle","color"]),w=i.dataToCoord(y),A=x.getShallow("align",!0)||c.textAlign,L=ze(x.getShallow("alignMinLabel",!0),A),I=ze(x.getShallow("alignMaxLabel",!0),A),C=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||c.textVerticalAlign,M=ze(x.getShallow("verticalAlignMinLabel",!0),C),D=ze(x.getShallow("verticalAlignMaxLabel",!0),C),k=new xe({x:w,y:a.labelOffset+a.labelDirection*s,rotation:c.rotation,silent:d,z2:10+(v.level||0),style:Ne(x,{text:m,align:g===0?L:g===l.length-1?I:A,verticalAlign:g===0?M:g===l.length-1?D:C,fill:we(S)?S(i.type==="category"?_:i.type==="value"?y+"":y,g):S})});if(k.anid="label_"+y,nr({el:k,componentModel:e,itemName:m,formatterParamsExtra:{isTruncated:function(){return k.isTruncated},value:_,tickIndex:g}}),p){var P=Ke.makeAxisEventDataBase(e);P.targetType="axisLabel",P.value=_,P.tickIndex=g,i.type==="category"&&(P.dataIndex=y),fe(k).eventData=P}t.add(k),k.updateTransform(),f.push(k),r.add(k),k.decomposeTransform()}),f}}function Yp(r,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return qp(e,r,t),e.seriesInvolved&&jp(e,r),e}function qp(r,t,e){var a=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),n=i.get("link",!0)||[],o=[];T(e.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=pa(s.model),u=r.coordSysAxesInfo[l]={};r.coordSysMap[l]=s;var c=s.model,h=c.getModel("tooltip",a);if(T(s.getAxes(),Q(v,!1,null)),s.getTooltipAxes&&a&&h.get("show")){var f=h.get("trigger")==="axis",d=h.get(["axisPointer","type"])==="cross",p=s.getTooltipAxes(h.get(["axisPointer","axis"]));(f||d)&&T(p.baseAxes,Q(v,d?"cross":!0,f)),d&&T(p.otherAxes,Q(v,"cross",!1))}function v(g,y,m){var _=m.model.getModel("axisPointer",i),x=_.get("show");if(!(!x||x==="auto"&&!g&&!mi(_))){y==null&&(y=_.get("triggerTooltip")),_=g?Kp(m,h,i,t,g,y):_;var b=_.get("snap"),S=_.get("triggerEmphasis"),w=pa(m.model),A=y||b||m.type==="category",L=r.axesInfo[w]={key:w,axis:m,coordSys:s,axisPointerModel:_,triggerTooltip:y,triggerEmphasis:S,involveSeries:A,snap:b,useHandle:mi(_),seriesModels:[],linkGroup:null};u[w]=L,r.seriesInvolved=r.seriesInvolved||A;var I=Qp(n,m);if(I!=null){var C=o[I]||(o[I]={axesInfo:{}});C.axesInfo[w]=L,C.mapper=n[I].mapper,L.linkGroup=C}}}})}function Kp(r,t,e,a,i,n){var o=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};T(s,function(f){l[f]=ae(o.get(f))}),l.snap=r.type!=="category"&&!!n,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var c=o.get(["label","show"]);if(u.show=c??!0,!n){var h=l.lineStyle=o.get("crossStyle");h&&de(u,h.textStyle)}}return r.model.getModel("axisPointer",new Ye(l,e,a))}function jp(r,t){t.eachSeries(function(e){var a=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),n=e.get(["tooltip","show"],!0);!a||i==="none"||i===!1||i==="item"||n===!1||e.get(["axisPointer","show"],!0)===!1||T(r.coordSysAxesInfo[pa(a.model)],function(o){var s=o.axis;a.getAxis(s.dim)===s&&(o.seriesModels.push(e),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=e.getData().count())})})}function Qp(r,t){for(var e=t.model,a=t.dim,i=0;i<r.length;i++){var n=r[i]||{};if(Rr(n[a+"AxisId"],e.id)||Rr(n[a+"AxisIndex"],e.componentIndex)||Rr(n[a+"AxisName"],e.name))return i}}function Rr(r,t){return r==="all"||X(r)&&Te(r,t)>=0||r===t}function Jp(r){var t=Qi(r);if(t){var e=t.axisPointerModel,a=t.axis.scale,i=e.option,n=e.get("status"),o=e.get("value");o!=null&&(o=a.parse(o));var s=mi(e);n==null&&(i.status=s?"show":"hide");var l=a.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function Qi(r){var t=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[pa(r)]}function ev(r){var t=Qi(r);return t&&t.axisPointerModel}function mi(r){return!!r.get(["handle","show"])}function pa(r){return r.type+"||"+r.id}var Lo={},du=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i,n){this.axisPointerClass&&Jp(e),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},t.prototype.updateAxisPointer=function(e,a,i,n){this._doUpdateAxisPointerClass(e,i,!1)},t.prototype.remove=function(e,a){var i=this._axisPointer;i&&i.remove(a)},t.prototype.dispose=function(e,a){this._disposeAxisPointer(a),r.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,a,i){var n=t.getAxisPointerClass(this.axisPointerClass);if(n){var o=ev(e);o?(this._axisPointer||(this._axisPointer=new n)).render(e,o,a,i):this._disposeAxisPointer(a)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,a){Lo[e]=a},t.getAxisPointerClass=function(e){return e&&Lo[e]},t.type="axis",t}(We),yi=Ge();function tv(r,t,e,a){var i=e.axis;if(!i.scale.isBlank()){var n=e.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),l=a.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:n,clamp:!0});if(u.length){var c=s.length,h=yi(r).splitAreaColors,f=Ve(),d=0;if(h)for(var p=0;p<u.length;p++){var v=h.get(u[p].tickValue);if(v!=null){d=(v+(c-1)*p)%c;break}}var g=i.toGlobalCoord(u[0].coord),y=o.getAreaStyle();s=X(s)?s:[s];for(var p=1;p<u.length;p++){var m=i.toGlobalCoord(u[p].coord),_=void 0,x=void 0,b=void 0,S=void 0;i.isHorizontal()?(_=g,x=l.y,b=m-_,S=l.height,g=_+b):(_=l.x,x=g,b=l.width,S=m-x,g=x+S);var w=u[p-1].tickValue;w!=null&&f.set(w,d),t.add(new Se({anid:w!=null?"area_"+w:null,shape:{x:_,y:x,width:b,height:S},style:de({fill:s[d]},y),autoBatch:!0,silent:!0})),d=(d+1)%c}yi(r).splitAreaColors=f}}}function av(r){yi(r).splitAreaColors=null}var rv=["axisLine","axisTickLabel","axisName"],iv=["splitArea","splitLine","minorSplitLine"],pu=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,a,i,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new se,this.group.add(this._axisGroup),!!e.get("show")){var s=e.getCoordSysModel(),l=gi(s,e),u=new Ke(e,re({handleAutoShown:function(h){for(var f=s.coordinateSystem.getCartesians(),d=0;d<f.length;d++)if(ni(f[d].getOtherAxis(e.axis).scale))return!0;return!1}},l));T(rv,u.add,u),this._axisGroup.add(u.getGroup()),T(iv,function(h){e.get([h,"show"])&&nv[h](this,this._axisGroup,e,s)},this);var c=n&&n.type==="changeAxisOrder"&&n.isInitSort;c||Th(o,this._axisGroup,e),r.prototype.render.call(this,e,a,i,n)}},t.prototype.remove=function(){av(this)},t.type="cartesianAxis",t}(du),nv={splitLine:function(r,t,e,a){var i=e.axis;if(!i.scale.isBlank()){var n=e.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color"),l=n.get("showMinLine")!==!1,u=n.get("showMaxLine")!==!1;s=X(s)?s:[s];for(var c=a.coordinateSystem.getRect(),h=i.isHorizontal(),f=0,d=i.getTicksCoords({tickModel:n}),p=[],v=[],g=o.getLineStyle(),y=0;y<d.length;y++){var m=i.toGlobalCoord(d[y].coord);if(!(y===0&&!l||y===d.length-1&&!u)){var _=d[y].tickValue;h?(p[0]=m,p[1]=c.y,v[0]=m,v[1]=c.y+c.height):(p[0]=c.x,p[1]=m,v[0]=c.x+c.width,v[1]=m);var x=f++%s.length,b=new ha({anid:_!=null?"line_"+_:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:v[0],y2:v[1]},style:de({stroke:s[x]},g),silent:!0});Ya(b.shape,g.lineWidth),t.add(b)}}}},minorSplitLine:function(r,t,e,a){var i=e.axis,n=e.getModel("minorSplitLine"),o=n.getModel("lineStyle"),s=a.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var c=[],h=[],f=o.getLineStyle(),d=0;d<u.length;d++)for(var p=0;p<u[d].length;p++){var v=i.toGlobalCoord(u[d][p].coord);l?(c[0]=v,c[1]=s.y,h[0]=v,h[1]=s.y+s.height):(c[0]=s.x,c[1]=v,h[0]=s.x+s.width,h[1]=v);var g=new ha({anid:"minor_line_"+u[d][p].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:f,silent:!0});Ya(g.shape,f.lineWidth),t.add(g)}},splitArea:function(r,t,e,a){tv(r,t,e,a)}},vu=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t}(pu),ov=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=vu.type,e}return t.type="yAxis",t}(pu),sv=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,a){this.group.removeAll(),e.get("show")&&this.group.add(new Se({shape:e.coordinateSystem.getRect(),style:de({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(We),To={offset:0};function lv(r){r.registerComponentView(sv),r.registerComponentModel(kp),r.registerCoordinateSystem("cartesian2d",Gp),go(r,"x",pi,To),go(r,"y",pi,To),r.registerComponentView(vu),r.registerComponentView(ov),r.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function uv(r){r.eachSeriesByType("radar",function(t){var e=t.getData(),a=[],i=t.coordinateSystem;if(i){var n=i.getIndicatorAxes();T(n,function(o,s){e.each(e.mapDimension(n[s].dim),function(l,u){a[u]=a[u]||[];var c=i.dataToPoint(l,s);a[u][s]=Io(c)?c:Mo(i)})}),e.each(function(o){var s=Ih(a[o],function(l){return Io(l)})||Mo(i);a[o].push(s.slice()),e.setItemLayout(o,a[o])})}})}function Io(r){return!isNaN(r[0])&&!isNaN(r[1])}function Mo(r){return[r.cx,r.cy]}function cv(r){var t=r.polar;if(t){X(t)||(t=[t]);var e=[];T(t,function(a,i){a.indicator?(a.type&&!a.shape&&(a.shape=a.type),r.radar=r.radar||[],X(r.radar)||(r.radar=[r.radar]),r.radar.push(a)):e.push(a)}),r.polar=e}T(r.series,function(a){a&&a.type==="radar"&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}var hv=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i){var n=e.coordinateSystem,o=this.group,s=e.getData(),l=this._data;function u(f,d){var p=f.getItemVisual(d,"symbol")||"circle";if(p!=="none"){var v=rr(f.getItemVisual(d,"symbolSize")),g=Oe(p,-1,-1,2,2),y=f.getItemVisual(d,"symbolRotate")||0;return g.attr({style:{strokeNoScale:!0},z2:100,scaleX:v[0]/2,scaleY:v[1]/2,rotation:y*Math.PI/180||0}),g}}function c(f,d,p,v,g,y){p.removeAll();for(var m=0;m<d.length-1;m++){var _=u(v,g);_&&(_.__dimIdx=m,f[m]?(_.setPosition(f[m]),pl[y?"initProps":"updateProps"](_,{x:d[m][0],y:d[m][1]},e,g)):_.setPosition(d[m]),p.add(_))}}function h(f){return j(f,function(d){return[n.cx,n.cy]})}s.diff(l).add(function(f){var d=s.getItemLayout(f);if(d){var p=new wa,v=new Sa,g={shape:{points:d}};p.shape.points=h(d),v.shape.points=h(d),Me(p,g,e,f),Me(v,g,e,f);var y=new se,m=new se;y.add(v),y.add(p),y.add(m),c(v.shape.points,d,m,s,f,!0),s.setItemGraphicEl(f,y)}}).update(function(f,d){var p=l.getItemGraphicEl(d),v=p.childAt(0),g=p.childAt(1),y=p.childAt(2),m={shape:{points:s.getItemLayout(f)}};m.shape.points&&(c(v.shape.points,m.shape.points,y,s,f,!1),ua(g),ua(v),Ie(v,m,e),Ie(g,m,e),s.setItemGraphicEl(f,p))}).remove(function(f){o.remove(l.getItemGraphicEl(f))}).execute(),s.eachItemGraphicEl(function(f,d){var p=s.getItemModel(d),v=f.childAt(0),g=f.childAt(1),y=f.childAt(2),m=s.getItemVisual(d,"style"),_=m.fill;o.add(f),v.useStyle(de(p.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:_})),Ht(v,p,"lineStyle"),Ht(g,p,"areaStyle");var x=p.getModel("areaStyle"),b=x.isEmpty()&&x.parentModel.isEmpty();g.ignore=b,T(["emphasis","select","blur"],function(A){var L=p.getModel([A,"areaStyle"]),I=L.isEmpty()&&L.parentModel.isEmpty();g.ensureState(A).ignore=I&&b}),g.useStyle(de(x.getAreaStyle(),{fill:_,opacity:.7,decal:m.decal}));var S=p.getModel("emphasis"),w=S.getModel("itemStyle").getItemStyle();y.eachChild(function(A){if(A instanceof Hi){var L=A.style;A.useStyle(re({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},m))}else A.useStyle(m),A.setColor(_),A.style.strokeNoScale=!0;var I=A.ensureState("emphasis");I.style=ae(w);var C=s.getStore().get(s.getDimensionIndex(A.__dimIdx),d);(C==null||isNaN(C))&&(C=""),Lt(A,dt(p),{labelFetcher:s.hostModel,labelDataIndex:d,labelDimIndex:A.__dimIdx,defaultText:C,inheritColor:_,defaultOpacity:m.opacity})}),St(f,S.get("focus"),S.get("blurScope"),S.get("disabled"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(Vt),fv=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new su($(this.getData,this),$(this.getRawData,this))},t.prototype.getInitialData=function(e,a){return ou(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,a,i){var n=this.getData(),o=this.coordinateSystem,s=o.getIndicatorAxes(),l=this.getData().getName(e),u=l===""?this.name:l,c=Mh(this,e);return Ft("section",{header:u,sortBlocks:!0,blocks:j(s,function(h){var f=n.get(n.mapDimension(h.dim),e);return Ft("nameValue",{markerType:"subItem",markerColor:c,name:h.name,value:f,sortParam:f})})})},t.prototype.getTooltipPosition=function(e){if(e!=null){for(var a=this.getData(),i=this.coordinateSystem,n=a.getValues(j(i.dimensions,function(u){return a.mapDimension(u)}),e),o=0,s=n.length;o<s;o++)if(!isNaN(n[o])){var l=i.getIndicatorAxes();return i.coordToPoint(l[o].dataToCoord(n[o]),o)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(_a),jt=cu.value;function Da(r,t){return de({show:t},r)}var dv=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),a=this.get("splitNumber"),i=this.get("scale"),n=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),h=this.get("axisNameGap"),f=this.get("triggerEvent"),d=j(this.get("indicator")||[],function(p){p.max!=null&&p.max>0&&!p.min?p.min=0:p.min!=null&&p.min<0&&!p.max&&(p.max=0);var v=l;p.color!=null&&(v=de({color:p.color},l));var g=ie(ae(p),{boundaryGap:e,splitNumber:a,scale:i,axisLine:n,axisTick:o,axisLabel:s,name:p.text,showName:u,nameLocation:"end",nameGap:h,nameTextStyle:v,triggerEvent:f},!1);if(oe(c)){var y=g.name;g.name=c.replace("{value}",y??"")}else we(c)&&(g.name=c(g.name,g));var m=new Ye(g,null,this.ecModel);return Fi(m,ll.prototype),m.mainType="radar",m.componentIndex=this.componentIndex,m},this);this._indicatorModels=d},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:ie({lineStyle:{color:"#bbb"}},jt.axisLine),axisLabel:Da(jt.axisLabel,!1),axisTick:Da(jt.axisTick,!1),splitLine:Da(jt.splitLine,!0),splitArea:Da(jt.splitArea,!0),indicator:[]},t}(Fe),pv=["axisLine","axisTickLabel","axisName"],vv=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i){var n=this.group;n.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var a=e.coordinateSystem,i=a.getIndicatorAxes(),n=j(i,function(o){var s=o.model.get("showName")?o.name:"",l=new Ke(o.model,{axisName:s,position:[a.cx,a.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});T(n,function(o){T(pv,o.add,o),this.group.add(o.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var a=e.coordinateSystem,i=a.getIndicatorAxes();if(!i.length)return;var n=e.get("shape"),o=e.getModel("splitLine"),s=e.getModel("splitArea"),l=o.getModel("lineStyle"),u=s.getModel("areaStyle"),c=o.get("show"),h=s.get("show"),f=l.get("color"),d=u.get("color"),p=X(f)?f:[f],v=X(d)?d:[d],g=[],y=[];function m(P,B,G){var V=G%B.length;return P[V]=P[V]||[],V}if(n==="circle")for(var _=i[0].getTicksCoords(),x=a.cx,b=a.cy,S=0;S<_.length;S++){if(c){var w=m(g,p,S);g[w].push(new Dh({shape:{cx:x,cy:b,r:_[S].coord}}))}if(h&&S<_.length-1){var w=m(y,v,S);y[w].push(new Rh({shape:{cx:x,cy:b,r0:_[S].coord,r:_[S+1].coord}}))}}else for(var A,L=j(i,function(P,B){var G=P.getTicksCoords();return A=A==null?G.length-1:Math.min(G.length-1,A),j(G,function(V){return a.coordToPoint(V.coord,B)})}),I=[],S=0;S<=A;S++){for(var C=[],M=0;M<i.length;M++)C.push(L[M][S]);if(C[0]&&C.push(C[0].slice()),c){var w=m(g,p,S);g[w].push(new Sa({shape:{points:C}}))}if(h&&I){var w=m(y,v,S-1);y[w].push(new wa({shape:{points:C.concat(I)}}))}I=C.slice().reverse()}var D=l.getLineStyle(),k=u.getAreaStyle();T(y,function(P,B){this.group.add(wn(P,{style:de({stroke:"none",fill:v[B%v.length]},k),silent:!0}))},this),T(g,function(P,B){this.group.add(wn(P,{style:de({fill:"none",stroke:p[B%p.length]},D),silent:!0}))},this)},t.type="radar",t}(We),gv=function(r){O(t,r);function t(e,a,i){var n=r.call(this,e,a,i)||this;return n.type="value",n.angle=0,n.name="",n}return t}(cl),mv=function(){function r(t,e,a){this.dimensions=[],this._model=t,this._indicatorAxes=j(t.getIndicatorModels(),function(i,n){var o="indicator_"+n,s=new gv(o,new ii);return s.name=i.get("name"),s.model=i,i.axis=s,this.dimensions.push(o),s},this),this.resize(t,a)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(t,e){var a=this._indicatorAxes[e];return this.coordToPoint(a.dataToCoord(t),e)},r.prototype.coordToPoint=function(t,e){var a=this._indicatorAxes[e],i=a.angle,n=this.cx+t*Math.cos(i),o=this.cy-t*Math.sin(i);return[n,o]},r.prototype.pointToData=function(t){var e=t[0]-this.cx,a=t[1]-this.cy,i=Math.sqrt(e*e+a*a);e/=i,a/=i;for(var n=Math.atan2(-a,e),o=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],h=Math.abs(n-c.angle);h<o&&(s=c,l=u,o=h)}return[l,+(s&&s.coordToData(i))]},r.prototype.resize=function(t,e){var a=t.get("center"),i=e.getWidth(),n=e.getHeight(),o=Math.min(i,n)/2;this.cx=be(a[0],i),this.cy=be(a[1],n),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");(oe(s)||Qe(s))&&(s=[0,s]),this.r0=be(s[0],o),this.r=be(s[1],o),T(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},r.prototype.update=function(t,e){var a=this._indicatorAxes,i=this._model;T(a,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||t.getComponent("radar",s.get("radarIndex"))!==i)){var u=s.getData();T(a,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var n=i.get("splitNumber"),o=new ii;o.setExtent(0,n),o.setInterval(1),T(a,function(s,l){hu(s.scale,s.model,o)})},r.prototype.convertToPixel=function(t,e,a){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(t,e,a){return console.warn("Not implemented."),null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.create=function(t,e){var a=[];return t.eachComponent("radar",function(i){var n=new r(i,t,e);a.push(n),i.coordinateSystem=n}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=a[i.get("radarIndex")||0])}),a},r.dimensions=[],r}();function yv(r){r.registerCoordinateSystem("radar",mv),r.registerComponentModel(dv),r.registerComponentView(vv),r.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(a){e.setItemVisual(a,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}function _v(r){De(yv),r.registerChartView(hv),r.registerSeriesModel(fv),r.registerLayout(uv),r.registerProcessor(iu("radar")),r.registerPreprocessor(cv)}var Do="\0_ec_interaction_mutex";function bv(r,t,e){var a=Ji(r);a[t]=e}function xv(r,t,e){var a=Ji(r),i=a[t];i===e&&(a[t]=null)}function Ro(r,t){return!!Ji(r)[t]}function Ji(r){return r[Do]||(r[Do]={})}or({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Ka);var Sv=function(r){O(t,r);function t(e){var a=r.call(this)||this;a._zr=e;var i=$(a._mousedownHandler,a),n=$(a._mousemoveHandler,a),o=$(a._mouseupHandler,a),s=$(a._mousewheelHandler,a),l=$(a._pinchHandler,a);return a.enable=function(u,c){this.disable(),this._opt=de(ae(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(e.on("mousedown",i),e.on("mousemove",n),e.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(e.on("mousewheel",s),e.on("pinch",l))},a.disable=function(){e.off("mousedown",i),e.off("mousemove",n),e.off("mouseup",o),e.off("mousewheel",s),e.off("pinch",l)},a}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!An(e)){for(var a=e.target;a;){if(a.draggable)return;a=a.__hostTarget||a.parent}var i=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,i,n)&&(this._x=i,this._y=n,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(!(!this._dragging||!Ga("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||Ro(this._zr,"globalPan"))){var a=e.offsetX,i=e.offsetY,n=this._x,o=this._y,s=a-n,l=i-o;this._x=a,this._y=i,this._opt.preventDefaultMouseMove&&ft(e.event),gu(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:n,oldY:o,newX:a,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){An(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var a=Ga("zoomOnMouseWheel",e,this._opt),i=Ga("moveOnMouseWheel",e,this._opt),n=e.wheelDelta,o=Math.abs(n),s=e.offsetX,l=e.offsetY;if(!(n===0||!a&&!i)){if(a){var u=o>3?1.4:o>1?1.2:1.1,c=n>0?u:1/u;Pr(this,"zoom","zoomOnMouseWheel",e,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(i){var h=Math.abs(n),f=(n>0?1:-1)*(h>3?.4:h>1?.15:.05);Pr(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:f,originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!Ro(this._zr,"globalPan")){var a=e.pinchScale>1?1.1:1/1.1;Pr(this,"zoom",null,e,{scale:a,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(Zi);function Pr(r,t,e,a,i){r.pointerChecker&&r.pointerChecker(a,i.originX,i.originY)&&(ft(a.event),gu(r,t,e,a,i))}function gu(r,t,e,a,i){i.isAvailableBehavior=$(Ga,null,e,a),r.trigger(t,i)}function Ga(r,t,e){var a=e[r];return!r||a&&(!oe(a)||t.event[a+"Key"])}var wv={axisPointer:1,tooltip:1,brush:1};function Av(r,t,e){var a=t.getComponentByElement(r.topTarget),i=a&&a.coordinateSystem;return a&&a!==e&&!wv.hasOwnProperty(a.mainType)&&i&&i.model!==e}var va=T,Cv=Ce,Qa=-1,Ae=function(){function r(t){var e=t.mappingMethod,a=t.type,i=this.option=ae(t);this.type=a,this.mappingMethod=e,this._normalizeData=Iv[e];var n=r.visualHandlers[a];this.applyVisual=n.applyVisual,this.getColorMapper=n.getColorMapper,this._normalizedToVisual=n._normalizedToVisual[e],e==="piecewise"?(kr(i),Lv(i)):e==="category"?i.categories?Tv(i):kr(i,!0):(Ph(e!=="linear"||i.dataExtent),kr(i))}return r.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},r.prototype.getNormalizer=function(){return $(this._normalizeData,this)},r.listVisualTypes=function(){return hl(r.visualHandlers)},r.isValidType=function(t){return r.visualHandlers.hasOwnProperty(t)},r.eachVisual=function(t,e,a){Ce(t)?T(t,e,a):e.call(a,t)},r.mapVisual=function(t,e,a){var i,n=X(t)?[]:Ce(t)?{}:(i=!0,null);return r.eachVisual(t,function(o,s){var l=e.call(a,o,s);i?n=l:n[s]=l}),n},r.retrieveVisuals=function(t){var e={},a;return t&&va(r.visualHandlers,function(i,n){t.hasOwnProperty(n)&&(e[n]=t[n],a=!0)}),a?e:null},r.prepareVisualTypes=function(t){if(X(t))t=t.slice();else if(Cv(t)){var e=[];va(t,function(a,i){e.push(i)}),t=e}else return[];return t.sort(function(a,i){return i==="color"&&a!=="color"&&a.indexOf("color")===0?1:-1}),t},r.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e},r.findPieceIndex=function(t,e,a){for(var i,n=1/0,o=0,s=e.length;o<s;o++){var l=e[o].value;if(l!=null){if(l===t||oe(l)&&l===t+"")return o;a&&f(l,o)}}for(var o=0,s=e.length;o<s;o++){var u=e[o],c=u.interval,h=u.close;if(c){if(c[0]===-1/0){if(Pa(h[1],t,c[1]))return o}else if(c[1]===1/0){if(Pa(h[0],c[0],t))return o}else if(Pa(h[0],c[0],t)&&Pa(h[1],t,c[1]))return o;a&&f(c[0],o),a&&f(c[1],o)}}if(a)return t===1/0?e.length-1:t===-1/0?0:i;function f(d,p){var v=Math.abs(d-t);v<n&&(n=v,i=p)}},r.visualHandlers={color:{applyVisual:Qt("color"),getColorMapper:function(){var t=this.option;return $(t.mappingMethod==="category"?function(e,a){return!a&&(e=this._normalizeData(e)),na.call(this,e)}:function(e,a,i){var n=!!i;return!a&&(e=this._normalizeData(e)),i=yr(e,t.parsedVisual,i),n?i:Ha(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Ha(yr(t,this.option.parsedVisual),"rgba")},category:na,piecewise:function(t,e){var a=bi.call(this,e);return a==null&&(a=Ha(yr(t,this.option.parsedVisual),"rgba")),a},fixed:vt}},colorHue:Ra(function(t,e){return _r(t,e)}),colorSaturation:Ra(function(t,e){return _r(t,null,e)}),colorLightness:Ra(function(t,e){return _r(t,null,null,e)}),colorAlpha:Ra(function(t,e){return kh(t,e)}),decal:{applyVisual:Qt("decal"),_normalizedToVisual:{linear:null,category:na,piecewise:null,fixed:null}},opacity:{applyVisual:Qt("opacity"),_normalizedToVisual:_i([0,1])},liftZ:{applyVisual:Qt("liftZ"),_normalizedToVisual:{linear:vt,category:vt,piecewise:vt,fixed:vt}},symbol:{applyVisual:function(t,e,a){var i=this.mapValueToVisual(t);a("symbol",i)},_normalizedToVisual:{linear:Po,category:na,piecewise:function(t,e){var a=bi.call(this,e);return a==null&&(a=Po.call(this,t)),a},fixed:vt}},symbolSize:{applyVisual:Qt("symbolSize"),_normalizedToVisual:_i([0,1])}},r}();function Lv(r){var t=r.pieceList;r.hasSpecialVisual=!1,T(t,function(e,a){e.originIndex=a,e.visual!=null&&(r.hasSpecialVisual=!0)})}function Tv(r){var t=r.categories,e=r.categoryMap={},a=r.visual;if(va(t,function(o,s){e[o]=s}),!X(a)){var i=[];Ce(a)?va(a,function(o,s){var l=e[s];i[l??Qa]=o}):i[Qa]=a,a=mu(r,i)}for(var n=t.length-1;n>=0;n--)a[n]==null&&(delete e[t[n]],t.pop())}function kr(r,t){var e=r.visual,a=[];Ce(e)?va(e,function(n){a.push(n)}):e!=null&&a.push(e);var i={color:1,symbol:1};!t&&a.length===1&&!i.hasOwnProperty(r.type)&&(a[1]=a[0]),mu(r,a)}function Ra(r){return{applyVisual:function(t,e,a){var i=this.mapValueToVisual(t);a("color",r(e("color"),i))},_normalizedToVisual:_i([0,1])}}function Po(r){var t=this.option.visual;return t[Math.round(ve(r,[0,1],[0,t.length-1],!0))]||{}}function Qt(r){return function(t,e,a){a(r,this.mapValueToVisual(t))}}function na(r){var t=this.option.visual;return t[this.option.loop&&r!==Qa?r%t.length:r]}function vt(){return this.option.visual[0]}function _i(r){return{linear:function(t){return ve(t,r,this.option.visual,!0)},category:na,piecewise:function(t,e){var a=bi.call(this,e);return a==null&&(a=ve(t,r,this.option.visual,!0)),a},fixed:vt}}function bi(r){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var a=Ae.findPieceIndex(r,e),i=e[a];if(i&&i.visual)return i.visual[this.type]}}function mu(r,t){return r.visual=t,r.type==="color"&&(r.parsedVisual=j(t,function(e){var a=vl(e);return a||[0,0,0,1]})),t}var Iv={linear:function(r){return ve(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var t=this.option.pieceList,e=Ae.findPieceIndex(r,t,!0);if(e!=null)return ve(e,[0,t.length-1],[0,1],!0)},category:function(r){var t=this.option.categories?this.option.categoryMap[r]:r;return t??Qa},fixed:Ka};function Pa(r,t,e){return r?t<=e:t<e}var ko=ha.prototype,Er=Eh.prototype,yu=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}();(function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(yu);function Or(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var Mv=function(r){O(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-line",a}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new yu},t.prototype.buildPath=function(e,a){Or(a)?ko.buildPath.call(this,e,a):Er.buildPath.call(this,e,a)},t.prototype.pointAt=function(e){return Or(this.shape)?ko.pointAt.call(this,e):Er.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var a=this.shape,i=Or(a)?[a.x2-a.x1,a.y2-a.y1]:Er.tangentAt.call(this,e);return gl(i,i)},t}(ba),Vr=["fromSymbol","toSymbol"];function Eo(r){return"_"+r+"Type"}function Oo(r,t,e){var a=t.getItemVisual(e,r);if(!a||a==="none")return a;var i=t.getItemVisual(e,r+"Size"),n=t.getItemVisual(e,r+"Rotate"),o=t.getItemVisual(e,r+"Offset"),s=t.getItemVisual(e,r+"KeepAspect"),l=rr(i),u=ar(o||0,l);return a+l+u+(n||"")+(s||"")}function Vo(r,t,e){var a=t.getItemVisual(e,r);if(!(!a||a==="none")){var i=t.getItemVisual(e,r+"Size"),n=t.getItemVisual(e,r+"Rotate"),o=t.getItemVisual(e,r+"Offset"),s=t.getItemVisual(e,r+"KeepAspect"),l=rr(i),u=ar(o||0,l),c=Oe(a,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=n==null||isNaN(n)?void 0:+n*Math.PI/180||0,c.name=r,c}}function Dv(r){var t=new Mv({name:"line",subPixelOptimize:!0});return xi(t.shape,r),t}function xi(r,t){r.x1=t[0][0],r.y1=t[0][1],r.x2=t[1][0],r.y2=t[1][1],r.percent=1;var e=t[2];e?(r.cpx1=e[0],r.cpy1=e[1]):(r.cpx1=NaN,r.cpy1=NaN)}var Rv=function(r){O(t,r);function t(e,a,i){var n=r.call(this)||this;return n._createLine(e,a,i),n}return t.prototype._createLine=function(e,a,i){var n=e.hostModel,o=e.getItemLayout(a),s=Dv(o);s.shape.percent=0,Me(s,{shape:{percent:1}},n,a),this.add(s),T(Vr,function(l){var u=Vo(l,e,a);this.add(u),this[Eo(l)]=Oo(l,e,a)},this),this._updateCommonStl(e,a,i)},t.prototype.updateData=function(e,a,i){var n=e.hostModel,o=this.childOfName("line"),s=e.getItemLayout(a),l={shape:{}};xi(l.shape,s),Ie(o,l,n,a),T(Vr,function(u){var c=Oo(u,e,a),h=Eo(u);if(this[h]!==c){this.remove(this.childOfName(u));var f=Vo(u,e,a);this.add(f)}this[h]=c},this),this._updateCommonStl(e,a,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,a,i){var n=e.hostModel,o=this.childOfName("line"),s=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,c=i&&i.labelStatesModels,h=i&&i.emphasisDisabled,f=i&&i.focus,d=i&&i.blurScope;if(!i||e.hasItemOption){var p=e.getItemModel(a),v=p.getModel("emphasis");s=v.getModel("lineStyle").getLineStyle(),l=p.getModel(["blur","lineStyle"]).getLineStyle(),u=p.getModel(["select","lineStyle"]).getLineStyle(),h=v.get("disabled"),f=v.get("focus"),d=v.get("blurScope"),c=dt(p)}var g=e.getItemVisual(a,"style"),y=g.stroke;o.useStyle(g),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=l,o.ensureState("select").style=u,T(Vr,function(S){var w=this.childOfName(S);if(w){w.setColor(y),w.style.opacity=g.opacity;for(var A=0;A<Ua.length;A++){var L=Ua[A],I=o.getState(L);if(I){var C=I.style||{},M=w.ensureState(L),D=M.style||(M.style={});C.stroke!=null&&(D[w.__isEmptyBrush?"stroke":"fill"]=C.stroke),C.opacity!=null&&(D.opacity=C.opacity)}}w.markRedraw()}},this);var m=n.getRawValue(a);Lt(this,c,{labelDataIndex:a,labelFetcher:{getFormattedLabel:function(S,w){return n.getFormattedLabel(S,w,e.dataType)}},inheritColor:y||"#000",defaultOpacity:g.opacity,defaultText:(m==null?e.getName(a):isFinite(m)?st(m):m)+""});var _=this.getTextContent();if(_){var x=c.normal;_.__align=_.style.align,_.__verticalAlign=_.style.verticalAlign,_.__position=x.get("position")||"middle";var b=x.get("distance");X(b)||(b=[b,b]),_.__labelDistance=b}this.setTextConfig({position:null,local:!0,inside:!1}),St(this,f,d,h)},t.prototype.highlight=function(){$a(this)},t.prototype.downplay=function(){Xa(this)},t.prototype.updateLayout=function(e,a){this.setLinePoints(e.getItemLayout(a))},t.prototype.setLinePoints=function(e){var a=this.childOfName("line");xi(a.shape,e),a.dirty()},t.prototype.beforeUpdate=function(){var e=this,a=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),n=e.getTextContent();if(!a&&!i&&(!n||n.ignore))return;for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var l=e.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),h=l.pointAt(u),f=Oh([],h,c);gl(f,f);function d(I,C){var M=I.__specifiedRotation;if(M==null){var D=l.tangentAt(C);I.attr("rotation",(C===1?-1:1)*Math.PI/2-Math.atan2(D[1],D[0]))}else I.attr("rotation",M)}if(a&&(a.setPosition(c),d(a,0),a.scaleX=a.scaleY=o*u,a.markRedraw()),i&&(i.setPosition(h),d(i,1),i.scaleX=i.scaleY=o*u,i.markRedraw()),n&&!n.ignore){n.x=n.y=0,n.originX=n.originY=0;var p=void 0,v=void 0,g=n.__labelDistance,y=g[0]*o,m=g[1]*o,_=u/2,x=l.tangentAt(_),b=[x[1],-x[0]],S=l.pointAt(_);b[1]>0&&(b[0]=-b[0],b[1]=-b[1]);var w=x[0]<0?-1:1;if(n.__position!=="start"&&n.__position!=="end"){var A=-Math.atan2(x[1],x[0]);h[0]<c[0]&&(A=Math.PI+A),n.rotation=A}var L=void 0;switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":L=-m,v="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":L=m,v="top";break;default:L=0,v="middle"}switch(n.__position){case"end":n.x=f[0]*y+h[0],n.y=f[1]*m+h[1],p=f[0]>.8?"left":f[0]<-.8?"right":"center",v=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":n.x=-f[0]*y+c[0],n.y=-f[1]*m+c[1],p=f[0]>.8?"right":f[0]<-.8?"left":"center",v=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":n.x=y*w+c[0],n.y=c[1]+L,p=x[0]<0?"right":"left",n.originX=-y*w,n.originY=-L;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":n.x=S[0],n.y=S[1]+L,p="center",n.originY=-L;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":n.x=-y*w+h[0],n.y=h[1]+L,p=x[0]>=0?"right":"left",n.originX=y*w,n.originY=-L;break}n.scaleX=n.scaleY=o,n.setStyle({verticalAlign:n.__verticalAlign||v,align:n.__align||p})}},t}(se),Pv=function(){function r(t){this.group=new se,this._LineCtor=t||Rv}return r.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var a=this,i=a.group,n=a._lineData;a._lineData=t,n||i.removeAll();var o=Bo(t);t.diff(n).add(function(s){e._doAdd(t,s,o)}).update(function(s,l){e._doUpdate(n,t,l,s,o)}).remove(function(s){i.remove(n.getItemGraphicEl(s))}).execute()},r.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,a){e.updateLayout(t,a)},this)},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Bo(t),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e){this._progressiveEls=[];function a(s){!s.isGroup&&!kv(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var n=e.getItemLayout(i);if(Br(n)){var o=new this._LineCtor(e,i,this._seriesScope);o.traverse(a),this.group.add(o),e.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(t){Gi(this._progressiveEls||this.group,t)},r.prototype._doAdd=function(t,e,a){var i=t.getItemLayout(e);if(Br(i)){var n=new this._LineCtor(t,e,a);t.setItemGraphicEl(e,n),this.group.add(n)}},r.prototype._doUpdate=function(t,e,a,i,n){var o=t.getItemGraphicEl(a);if(!Br(e.getItemLayout(i))){this.group.remove(o);return}o?o.updateData(e,i,n):o=new this._LineCtor(e,i,n),e.setItemGraphicEl(i,o),this.group.add(o)},r}();function kv(r){return r.animators&&r.animators.length>0}function Bo(r){var t=r.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:dt(t)}}function zo(r){return isNaN(r[0])||isNaN(r[1])}function Br(r){return r&&!zo(r[0])&&!zo(r[1])}function Yt(r,t,e,a,i,n){r=r||0;var o=e[1]-e[0];if(i!=null&&(i=Mt(i,[0,o])),n!=null&&(n=Math.max(n,i??0)),a==="all"){var s=Math.abs(t[1]-t[0]);s=Mt(s,[0,o]),i=n=Mt(s,[i,n]),a=0}t[0]=Mt(t[0],e),t[1]=Mt(t[1],e);var l=zr(t,a);t[a]+=r;var u=i||0,c=e.slice();l.sign<0?c[0]+=u:c[1]-=u,t[a]=Mt(t[a],c);var h;return h=zr(t,a),i!=null&&(h.sign!==l.sign||h.span<i)&&(t[1-a]=t[a]+l.sign*i),h=zr(t,a),n!=null&&h.span>n&&(t[1-a]=t[a]+h.sign*n),t}function zr(r,t){var e=r[t]-r[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function Mt(r,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,r))}var At=!0,ga=Math.min,$t=Math.max,Ev=Math.pow,Ov=1e4,Vv=6,Bv=6,No="globalPan",zv={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Nv={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Ho={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Hv=0,Gv=function(r){O(t,r);function t(e){var a=r.call(this)||this;return a._track=[],a._covers=[],a._handlers={},a._zr=e,a.group=new se,a._uid="brushController_"+Hv++,T(Yv,function(i,n){this._handlers[n]=$(i,this)},a),a}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var a=this._zr;this._enableGlobalPan||bv(a,No,this._uid),T(this._handlers,function(i,n){a.on(n,i)}),this._brushType=e.brushType,this._brushOption=ie(ae(Ho),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;xv(e,No,this._uid),T(this._handlers,function(a,i){e.off(i,a)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var a=this._panels={};T(e,function(i){a[i.panelId]=ae(i)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var a=this.group;return this._zr.add(a),a.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=a.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=j(e,function(f){return ie(ae(Ho),f,!0)});var a="\0-brush-index-",i=this._covers,n=this._covers=[],o=this,s=this._creatingCover;return new ml(i,e,u,l).add(c).update(c).remove(h).execute(),this;function l(f,d){return(f.id!=null?f.id:a+d)+"-"+f.brushType}function u(f,d){return l(f.__brushOption,d)}function c(f,d){var p=e[f];if(d!=null&&i[d]===s)n[f]=i[d];else{var v=n[f]=d!=null?(i[d].__brushOption=p,i[d]):bu(o,_u(o,p));en(o,v)}}function h(f){i[f]!==s&&o.group.remove(i[f])}},t.prototype.unmount=function(){return this.enableBrush(!1),Si(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Zi);function _u(r,t){var e=fr[t.brushType].createCover(r,t);return e.__brushOption=t,Su(e,t),r.group.add(e),e}function bu(r,t){var e=tn(t);return e.endCreating&&(e.endCreating(r,t),Su(t,t.__brushOption)),t}function xu(r,t){var e=t.__brushOption;tn(t).updateCoverShape(r,t,e.range,e)}function Su(r,t){var e=t.z;e==null&&(e=Ov),r.traverse(function(a){a.z=e,a.z2=e})}function en(r,t){tn(t).updateCommon(r,t),xu(r,t)}function tn(r){return fr[r.__brushOption.brushType]}function an(r,t,e){var a=r._panels;if(!a)return At;var i,n=r._transform;return T(a,function(o){o.isTargetByCursor(t,e,n)&&(i=o)}),i}function wu(r,t){var e=r._panels;if(!e)return At;var a=t.__brushOption.panelId;return a!=null?e[a]:At}function Si(r){var t=r._covers,e=t.length;return T(t,function(a){r.group.remove(a)},r),t.length=0,!!e}function Ct(r,t){var e=j(r._covers,function(a){var i=a.__brushOption,n=ae(i.range);return{brushType:i.brushType,panelId:i.panelId,range:n}});r.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function Fv(r){var t=r._track;if(!t.length)return!1;var e=t[t.length-1],a=t[0],i=e[0]-a[0],n=e[1]-a[1],o=Ev(i*i+n*n,.5);return o>Vv}function Au(r){var t=r.length-1;return t<0&&(t=0),[r[0],r[t]]}function Cu(r,t,e,a){var i=new se;return i.add(new Se({name:"main",style:rn(e),silent:!0,draggable:!0,cursor:"move",drift:Q(Go,r,t,i,["n","s","w","e"]),ondragend:Q(Ct,t,{isEnd:!0})})),T(a,function(n){i.add(new Se({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Q(Go,r,t,i,n),ondragend:Q(Ct,t,{isEnd:!0})}))}),i}function Lu(r,t,e,a){var i=a.brushStyle.lineWidth||0,n=$t(i,Bv),o=e[0][0],s=e[1][0],l=o-i/2,u=s-i/2,c=e[0][1],h=e[1][1],f=c-n+i/2,d=h-n+i/2,p=c-o,v=h-s,g=p+i,y=v+i;Ue(r,t,"main",o,s,p,v),a.transformable&&(Ue(r,t,"w",l,u,n,y),Ue(r,t,"e",f,u,n,y),Ue(r,t,"n",l,u,g,n),Ue(r,t,"s",l,d,g,n),Ue(r,t,"nw",l,u,n,n),Ue(r,t,"ne",f,u,n,n),Ue(r,t,"sw",l,d,n,n),Ue(r,t,"se",f,d,n,n))}function wi(r,t){var e=t.__brushOption,a=e.transformable,i=t.childAt(0);i.useStyle(rn(e)),i.attr({silent:!a,cursor:a?"move":"default"}),T([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(n){var o=t.childOfName(n.join("")),s=n.length===1?Ai(r,n[0]):Zv(r,n);o&&o.attr({silent:!a,invisible:!a,cursor:a?Nv[s]+"-resize":null})})}function Ue(r,t,e,a,i,n,o){var s=t.childOfName(e);s&&s.setShape(Xv(nn(r,t,[[a,i],[a+n,i+o]])))}function rn(r){return de({strokeNoScale:!0},r.brushStyle)}function Tu(r,t,e,a){var i=[ga(r,e),ga(t,a)],n=[$t(r,e),$t(t,a)];return[[i[0],n[0]],[i[1],n[1]]]}function Wv(r){return Bt(r.group)}function Ai(r,t){var e={w:"left",e:"right",n:"top",s:"bottom"},a={left:"w",right:"e",top:"n",bottom:"s"},i=$i(e[t],Wv(r));return a[i]}function Zv(r,t){var e=[Ai(r,t[0]),Ai(r,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function Go(r,t,e,a,i,n){var o=e.__brushOption,s=r.toRectRange(o.range),l=Iu(t,i,n);T(a,function(u){var c=zv[u];s[c[0]][c[1]]+=l[c[0]]}),o.range=r.fromRectRange(Tu(s[0][0],s[1][0],s[0][1],s[1][1])),en(t,e),Ct(t,{isEnd:!1})}function $v(r,t,e,a){var i=t.__brushOption.range,n=Iu(r,e,a);T(i,function(o){o[0]+=n[0],o[1]+=n[1]}),en(r,t),Ct(r,{isEnd:!1})}function Iu(r,t,e){var a=r.group,i=a.transformCoordToLocal(t,e),n=a.transformCoordToLocal(0,0);return[i[0]-n[0],i[1]-n[1]]}function nn(r,t,e){var a=wu(r,t);return a&&a!==At?a.clipPath(e,r._transform):ae(e)}function Xv(r){var t=ga(r[0][0],r[1][0]),e=ga(r[0][1],r[1][1]),a=$t(r[0][0],r[1][0]),i=$t(r[0][1],r[1][1]);return{x:t,y:e,width:a-t,height:i-e}}function Uv(r,t,e){if(!(!r._brushType||qv(r,t.offsetX,t.offsetY))){var a=r._zr,i=r._covers,n=an(r,t,e);if(!r._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(n&&(n===At||s.panelId===n.panelId)&&fr[s.brushType].contain(i[o],e[0],e[1]))return}n&&a.setCursorStyle("crosshair")}}function Ci(r){var t=r.event;t.preventDefault&&t.preventDefault()}function Li(r,t,e){return r.childOfName("main").contain(t,e)}function Mu(r,t,e,a){var i=r._creatingCover,n=r._creatingPanel,o=r._brushOption,s;if(r._track.push(e.slice()),Fv(r)||i){if(n&&!i){o.brushMode==="single"&&Si(r);var l=ae(o);l.brushType=Fo(l.brushType,n),l.panelId=n===At?null:n.panelId,i=r._creatingCover=_u(r,l),r._covers.push(i)}if(i){var u=fr[Fo(r._brushType,n)],c=i.__brushOption;c.range=u.getCreatingRange(nn(r,i,r._track)),a&&(bu(r,i),u.updateCommon(r,i)),xu(r,i),s={isEnd:a}}}else a&&o.brushMode==="single"&&o.removeOnClick&&an(r,t,e)&&Si(r)&&(s={isEnd:a,removeOnClick:!0});return s}function Fo(r,t){return r==="auto"?t.defaultBrushType:r}var Yv={mousedown:function(r){if(this._dragging)Wo(this,r);else if(!r.target||!r.target.draggable){Ci(r);var t=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var e=this._creatingPanel=an(this,r,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(r){var t=r.offsetX,e=r.offsetY,a=this.group.transformCoordToLocal(t,e);if(Uv(this,r,a),this._dragging){Ci(r);var i=Mu(this,r,a,!1);i&&Ct(this,i)}},mouseup:function(r){Wo(this,r)}};function Wo(r,t){if(r._dragging){Ci(t);var e=t.offsetX,a=t.offsetY,i=r.group.transformCoordToLocal(e,a),n=Mu(r,t,i,!0);r._dragging=!1,r._track=[],r._creatingCover=null,n&&Ct(r,n)}}function qv(r,t,e){var a=r._zr;return t<0||t>a.getWidth()||e<0||e>a.getHeight()}var fr={lineX:Zo(0),lineY:Zo(1),rect:{createCover:function(r,t){function e(a){return a}return Cu({toRectRange:e,fromRectRange:e},r,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var t=Au(r);return Tu(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(r,t,e,a){Lu(r,t,e,a)},updateCommon:wi,contain:Li},polygon:{createCover:function(r,t){var e=new se;return e.add(new Sa({name:"main",style:rn(t),silent:!0})),e},getCreatingRange:function(r){return r},endCreating:function(r,t){t.remove(t.childAt(0)),t.add(new wa({name:"main",draggable:!0,drift:Q($v,r,t),ondragend:Q(Ct,r,{isEnd:!0})}))},updateCoverShape:function(r,t,e,a){t.childAt(0).setShape({points:nn(r,t,e)})},updateCommon:wi,contain:Li}};function Zo(r){return{createCover:function(t,e){return Cu({toRectRange:function(a){var i=[a,[0,100]];return r&&i.reverse(),i},fromRectRange:function(a){return a[r]}},t,e,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(t){var e=Au(t),a=ga(e[0][r],e[1][r]),i=$t(e[0][r],e[1][r]);return[a,i]},updateCoverShape:function(t,e,a,i){var n,o=wu(t,e);if(o!==At&&o.getLinearBrushOtherExtent)n=o.getLinearBrushOtherExtent(r);else{var s=t._zr;n=[0,[s.getWidth(),s.getHeight()][1-r]]}var l=[a,n];r&&l.reverse(),Lu(t,e,l,i)},updateCommon:wi,contain:Li}}function Kv(r){return r=on(r),function(t){return Vh(t,r)}}function jv(r,t){return r=on(r),function(e){var a=t??e,i=a?r.width:r.height,n=a?r.x:r.y;return[n,n+(i||0)]}}function Qv(r,t,e){var a=on(r);return function(i,n){return a.contain(n[0],n[1])&&!Av(i,t,e)}}function on(r){return mt.create(r)}var gt=Ge(),$o=ae,Nr=$,Jv=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(t,e,a,i){var n=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=a,!(!i&&this._lastValue===n&&this._lastStatus===o)){this._lastValue=n,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,n,t,e,a);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(a),this._lastGraphicKey=c;var h=this._moveAnimation=this.determineAnimation(t,e);if(!s)s=this._group=new se,this.createPointerEl(s,u,t,e),this.createLabelEl(s,u,t,e),a.getZr().add(s);else{var f=Q(Xo,e,h);this.updatePointerEl(s,u,f),this.updateLabelEl(s,u,f,e)}Yo(s,e,!0),this._renderHandle(n)}},r.prototype.remove=function(t){this.clear(t)},r.prototype.dispose=function(t){this.clear(t)},r.prototype.determineAnimation=function(t,e){var a=e.get("animation"),i=t.axis,n=i.type==="category",o=e.get("snap");if(!o&&!n)return!1;if(a==="auto"||a==null){var s=this.animationThreshold;if(n&&i.getBandWidth()>s)return!0;if(o){var l=Qi(t).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return a===!0},r.prototype.makeElOption=function(t,e,a,i,n){},r.prototype.createPointerEl=function(t,e,a,i){var n=e.pointer;if(n){var o=gt(t).pointerEl=new pl[n.type]($o(e.pointer));t.add(o)}},r.prototype.createLabelEl=function(t,e,a,i){if(e.label){var n=gt(t).labelEl=new xe($o(e.label));t.add(n),Uo(n,i)}},r.prototype.updatePointerEl=function(t,e,a){var i=gt(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),a(i,{shape:e.pointer.shape}))},r.prototype.updateLabelEl=function(t,e,a,i){var n=gt(t).labelEl;n&&(n.setStyle(e.label.style),a(n,{x:e.label.x,y:e.label.y}),Uo(n,i))},r.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var e=this._axisPointerModel,a=this._api.getZr(),i=this._handle,n=e.getModel("handle"),o=e.get("status");if(!n.get("show")||!o||o==="hide"){i&&a.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=Xi(n.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){ft(u.event)},onmousedown:Nr(this._onHandleDragMove,this,0,0),drift:Nr(this._onHandleDragMove,this),ondragend:Nr(this._onHandleDragEnd,this)}),a.add(i)),Yo(i,e,!1),i.setStyle(n.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=n.get("size");X(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,sr(this,"_doDispatchAxisPointer",n.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},r.prototype._moveHandleToValue=function(t,e){Xo(this._axisPointerModel,!e&&this._moveAnimation,this._handle,Hr(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(t,e){var a=this._handle;if(a){this._dragging=!0;var i=this.updateHandleTransform(Hr(a),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,a.stopAnimation(),a.attr(Hr(i)),gt(a).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,a=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:a.axis.dim,axisIndex:a.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),a=this._group,i=this._handle;e&&a&&(this._lastGraphicKey=null,a&&e.remove(a),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),ja(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(t,e,a){return a=a||0,{x:t[a],y:t[1-a],width:e[a],height:e[1-a]}},r}();function Xo(r,t,e,a){Du(gt(e).lastProp,a)||(gt(e).lastProp=a,t?Ie(e,a,r):(e.stopAnimation(),e.attr(a)))}function Du(r,t){if(Ce(r)&&Ce(t)){var e=!0;return T(t,function(a,i){e=e&&Du(r[i],a)}),!!e}else return r===t}function Uo(r,t){r[t.get(["label","show"])?"show":"hide"]()}function Hr(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function Yo(r,t,e){var a=t.get("z"),i=t.get("zlevel");r&&r.traverse(function(n){n.type!=="group"&&(a!=null&&(n.z=a),i!=null&&(n.zlevel=i),n.silent=e)})}function eg(r){var t=r.get("type"),e=r.getModel(t+"Style"),a;return t==="line"?(a=e.getLineStyle(),a.fill=null):t==="shadow"&&(a=e.getAreaStyle(),a.stroke=null),a}function tg(r,t,e,a,i){var n=e.get("value"),o=Ru(n,t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),s=e.getModel("label"),l=lr(s.get("padding")||0),u=s.getFont(),c=_l(o,u),h=i.position,f=c.width+l[1]+l[3],d=c.height+l[0]+l[2],p=i.align;p==="right"&&(h[0]-=f),p==="center"&&(h[0]-=f/2);var v=i.verticalAlign;v==="bottom"&&(h[1]-=d),v==="middle"&&(h[1]-=d/2),ag(h,f,d,a);var g=s.get("backgroundColor");(!g||g==="auto")&&(g=t.get(["axisLine","lineStyle","color"])),r.label={x:h[0],y:h[1],style:Ne(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function ag(r,t,e,a){var i=a.getWidth(),n=a.getHeight();r[0]=Math.min(r[0]+t,i)-t,r[1]=Math.min(r[1]+e,n)-e,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function Ru(r,t,e,a,i){r=t.scale.parse(r);var n=t.scale.getLabel({value:r},{precision:i.precision}),o=i.formatter;if(o){var s={value:yl(t,{value:r}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};T(a,function(l){var u=e.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,h=u&&u.getDataParams(c);h&&s.seriesData.push(h)}),oe(o)?n=o.replace("{value}",n):we(o)&&(n=o(s))}return n}function Pu(r,t,e){var a=Bh();return dl(a,a,e.rotation),zh(a,a,e.position),zt([r.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],a)}function rg(r,t,e,a,i,n){var o=Ke.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=i.get(["label","margin"]),tg(t,a,i,n,{position:Pu(a.axis,r,e),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function ig(r,t,e){return e=e||0,{x1:r[e],y1:r[1-e],x2:t[e],y2:t[1-e]}}function ng(r,t,e){return e=e||0,{x:r[e],y:r[1-e],width:t[e],height:t[1-e]}}function e_(r,t,e,a,i,n){return{cx:r,cy:t,r0:e,r:a,startAngle:i,endAngle:n,clockwise:!0}}var og=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,a,i,n,o){var s=i.axis,l=s.grid,u=n.get("type"),c=qo(l,s).getOtherAxis(s).getGlobalExtent(),h=s.toGlobalCoord(s.dataToCoord(a,!0));if(u&&u!=="none"){var f=eg(n),d=sg[u](s,h,c);d.style=f,e.graphicKey=d.type,e.pointer=d}var p=gi(l.model,i);rg(a,e,p,i,n,o)},t.prototype.getHandleTransform=function(e,a,i){var n=gi(a.axis.grid.model,a,{labelInside:!1});n.labelMargin=i.get(["handle","margin"]);var o=Pu(a.axis,e,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,a,i,n){var o=i.axis,s=o.grid,l=o.getGlobalExtent(!0),u=qo(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,h=[e.x,e.y];h[c]+=a[c],h[c]=Math.min(l[1],h[c]),h[c]=Math.max(l[0],h[c]);var f=(u[1]+u[0])/2,d=[f,f];d[c]=h[c];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:h[0],y:h[1],rotation:e.rotation,cursorPoint:d,tooltipOption:p[c]}},t}(Jv);function qo(r,t){var e={};return e[t.dim+"AxisIndex"]=t.index,r.getCartesian(e)}var sg={line:function(r,t,e){var a=ig([t,e[0]],[t,e[1]],Ko(r));return{type:"Line",subPixelOptimize:!0,shape:a}},shadow:function(r,t,e){var a=Math.max(1,r.getBandWidth()),i=e[1]-e[0];return{type:"Rect",shape:ng([t-a/2,e[0]],[a,i],Ko(r))}}};function Ko(r){return r.dim==="x"?0:1}var lg=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Fe),qe=Ge(),ug=T;function ku(r,t,e){if(!Le.node){var a=t.getZr();qe(a).records||(qe(a).records={}),cg(a,t);var i=qe(a).records[r]||(qe(a).records[r]={});i.handler=e}}function cg(r,t){if(qe(r).initialized)return;qe(r).initialized=!0,e("click",Q(jo,"click")),e("mousemove",Q(jo,"mousemove")),e("globalout",fg);function e(a,i){r.on(a,function(n){var o=dg(t);ug(qe(r).records,function(s){s&&i(s,n,o.dispatchAction)}),hg(o.pendings,t)})}}function hg(r,t){var e=r.showTip.length,a=r.hideTip.length,i;e?i=r.showTip[e-1]:a&&(i=r.hideTip[a-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function fg(r,t,e){r.handler("leave",null,e)}function jo(r,t,e,a){t.handler(r,e,a)}function dg(r){var t={showTip:[],hideTip:[]},e=function(a){var i=t[a.type];i?i.push(a):(a.dispatchAction=e,r.dispatchAction(a))};return{dispatchAction:e,pendings:t}}function Ti(r,t){if(!Le.node){var e=t.getZr(),a=(qe(e).records||{})[r];a&&(qe(e).records[r]=null)}}var pg=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i){var n=a.getComponent("tooltip"),o=e.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";ku("axisPointer",i,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(e,a){Ti("axisPointer",a)},t.prototype.dispose=function(e,a){Ti("axisPointer",a)},t.type="axisPointer",t}(We);function Eu(r,t){var e=[],a=r.seriesIndex,i;if(a==null||!(i=t.getSeriesByIndex(a)))return{point:[]};var n=i.getData(),o=ei(n,r);if(o==null||o<0||X(o))return{point:[]};var s=n.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)e=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(r.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),h=c.dim,f=u.dim,d=h==="x"||h==="radius"?1:0,p=n.mapDimension(f),v=[];v[d]=n.get(p,o),v[1-d]=n.get(n.getCalculationInfo("stackResultDimension"),o),e=l.dataToPoint(v)||[]}else e=l.dataToPoint(n.getValues(j(l.dimensions,function(y){return n.mapDimension(y)}),o))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),e=[g.x+g.width/2,g.y+g.height/2]}return{point:e,el:s}}var Qo=Ge();function vg(r,t,e){var a=r.currTrigger,i=[r.x,r.y],n=r,o=r.dispatchAction||$(e.dispatchAction,e),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){Fa(i)&&(i=Eu({seriesIndex:n.seriesIndex,dataIndex:n.dataIndex},t).point);var l=Fa(i),u=n.axesInfo,c=s.axesInfo,h=a==="leave"||Fa(i),f={},d={},p={list:[],map:{}},v={showPointer:Q(mg,d),showTooltip:Q(yg,p)};T(s.coordSysMap,function(y,m){var _=l||y.containPoint(i);T(s.coordSysAxesInfo[m],function(x,b){var S=x.axis,w=Sg(u,x);if(!h&&_&&(!u||w)){var A=w&&w.value;A==null&&!l&&(A=S.pointToData(i)),A!=null&&Jo(x,A,v,!1,f)}})});var g={};return T(c,function(y,m){var _=y.linkGroup;_&&!d[m]&&T(_.axesInfo,function(x,b){var S=d[b];if(x!==y&&S){var w=S.value;_.mapper&&(w=y.axis.scale.parse(_.mapper(w,es(x),es(y)))),g[y.key]=w}})}),T(g,function(y,m){Jo(c[m],y,v,!0,f)}),_g(d,c,f),bg(p,i,r,o),xg(c,o,e),f}}function Jo(r,t,e,a,i){var n=r.axis;if(!(n.scale.isBlank()||!n.containData(t))){if(!r.involveSeries){e.showPointer(r,t);return}var o=gg(t,r),s=o.payloadBatch,l=o.snapToValue;s[0]&&i.seriesIndex==null&&re(i,s[0]),!a&&r.snap&&n.containData(l)&&l!=null&&(t=l),e.showPointer(r,t,s),e.showTooltip(r,o,l)}}function gg(r,t){var e=t.axis,a=e.dim,i=r,n=[],o=Number.MAX_VALUE,s=-1;return T(t.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(a),h,f;if(l.getAxisTooltipData){var d=l.getAxisTooltipData(c,r,e);f=d.dataIndices,h=d.nestestValue}else{if(f=l.getData().indicesOfNearest(c[0],r,e.type==="category"?.5:null),!f.length)return;h=l.getData().get(c[0],f[0])}if(!(h==null||!isFinite(h))){var p=r-h,v=Math.abs(p);v<=o&&((v<o||p>=0&&s<0)&&(o=v,s=p,i=h,n.length=0),T(f,function(g){n.push({seriesIndex:l.seriesIndex,dataIndexInside:g,dataIndex:l.getData().getRawIndex(g)})}))}}),{payloadBatch:n,snapToValue:i}}function mg(r,t,e,a){r[t.key]={value:e,payloadBatch:a}}function yg(r,t,e,a){var i=e.payloadBatch,n=t.axis,o=n.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var l=t.coordSys.model,u=pa(l),c=r.map[u];c||(c=r.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},r.list.push(c)),c.dataByAxis.push({axisDim:n.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:a,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function _g(r,t,e){var a=e.axesInfo=[];T(t,function(i,n){var o=i.axisPointerModel.option,s=r[n];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&a.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function bg(r,t,e,a){if(Fa(t)||!r.list.length){a({type:"hideTip"});return}var i=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};a({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:r.list})}function xg(r,t,e){var a=e.getZr(),i="axisPointerLastHighlights",n=Qo(a)[i]||{},o=Qo(a)[i]={};T(r,function(u,c){var h=u.axisPointerModel.option;h.status==="show"&&u.triggerEmphasis&&T(h.seriesDataIndices,function(f){var d=f.seriesIndex+" | "+f.dataIndex;o[d]=f})});var s=[],l=[];T(n,function(u,c){!o[c]&&l.push(u)}),T(o,function(u,c){!n[c]&&s.push(u)}),l.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function Sg(r,t){for(var e=0;e<(r||[]).length;e++){var a=r[e];if(t.axis.dim===a.axisDim&&t.axis.model.componentIndex===a.axisIndex)return a}}function es(r){var t=r.axis.model,e={},a=e.axisDim=r.axis.dim;return e.axisIndex=e[a+"AxisIndex"]=t.componentIndex,e.axisName=e[a+"AxisName"]=t.name,e.axisId=e[a+"AxisId"]=t.id,e}function Fa(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function Ou(r){du.registerAxisPointerClass("CartesianAxisPointer",og),r.registerComponentModel(lg),r.registerComponentView(pg),r.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!X(e)&&(t.axisPointer.link=[e])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=Yp(t,e)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},vg)}function Vu(r){De(lv),De(Ou)}var ts=["x","y","radius","angle","single"],wg=["cartesian2d","polar","singleAxis"];function Ag(r){var t=r.get("coordinateSystem");return Te(wg,t)>=0}function ut(r){return r+"Axis"}function Cg(r,t){var e=Ve(),a=[],i=Ve();r.eachComponent({mainType:"dataZoom",query:t},function(c){i.get(c.uid)||s(c)});var n;do n=!1,r.eachComponent("dataZoom",o);while(n);function o(c){!i.get(c.uid)&&l(c)&&(s(c),n=!0)}function s(c){i.set(c.uid,!0),a.push(c),u(c)}function l(c){var h=!1;return c.eachTargetAxis(function(f,d){var p=e.get(f);p&&p[d]&&(h=!0)}),h}function u(c){c.eachTargetAxis(function(h,f){(e.get(h)||e.set(h,[]))[f]=!0})}return a}function Bu(r){var t=r.ecModel,e={infoList:[],infoMap:Ve()};return r.eachTargetAxis(function(a,i){var n=t.getComponent(ut(a),i);if(n){var o=n.getCoordSysModel();if(o){var s=o.uid,l=e.infoMap.get(s);l||(l={model:o,axisModels:[]},e.infoList.push(l),e.infoMap.set(s,l)),l.axisModels.push(n)}}}),e}var Gr=function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},r}(),ma=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,a,i){var n=as(e);this.settledOption=n,this.mergeDefaultAndTheme(e,i),this._doInit(n)},t.prototype.mergeOption=function(e){var a=as(e);ie(this.option,e,!0),ie(this.settledOption,a,!0),this._doInit(a)},t.prototype._doInit=function(e){var a=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var i=this.settledOption;T([["start","startValue"],["end","endValue"]],function(n,o){this._rangePropMode[o]==="value"&&(a[n[0]]=i[n[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),a=this._targetAxisInfoMap=Ve(),i=this._fillSpecifiedTargetAxis(a);i?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(a,this._orient)),this._noTarget=!0,a.each(function(n){n.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var a=!1;return T(ts,function(i){var n=this.getReferringComponents(ut(i),Nh);if(n.specified){a=!0;var o=new Gr;T(n.models,function(s){o.add(s.componentIndex)}),e.set(i,o)}},this),a},t.prototype._fillAutoTargetAxisByOrient=function(e,a){var i=this.ecModel,n=!0;if(n){var o=a==="vertical"?"y":"x",s=i.findComponents({mainType:o+"Axis"});l(s,o)}if(n){var s=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===a}});l(s,"single")}function l(u,c){var h=u[0];if(h){var f=new Gr;if(f.add(h.componentIndex),e.set(c,f),n=!1,c==="x"||c==="y"){var d=h.getReferringComponents("grid",ht).models[0];d&&T(u,function(p){h.componentIndex!==p.componentIndex&&d===p.getReferringComponents("grid",ht).models[0]&&f.add(p.componentIndex)})}}}n&&T(ts,function(u){if(n){var c=i.findComponents({mainType:ut(u),filter:function(f){return f.get("type",!0)==="category"}});if(c[0]){var h=new Gr;h.add(c[0].componentIndex),e.set(u,h),n=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(a){!e&&(e=a)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var a=this.ecModel.option;this.option.throttle=a.animation&&a.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var a=this._rangePropMode,i=this.get("rangeMode");T([["start","startValue"],["end","endValue"]],function(n,o){var s=e[n[0]]!=null,l=e[n[1]]!=null;s&&!l?a[o]="percent":!s&&l?a[o]="value":i?a[o]=i[o]:s&&(a[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(a,i){e==null&&(e=this.ecModel.getComponent(ut(a),i))},this),e},t.prototype.eachTargetAxis=function(e,a){this._targetAxisInfoMap.each(function(i,n){T(i.indexList,function(o){e.call(a,n,o)})})},t.prototype.getAxisProxy=function(e,a){var i=this.getAxisModel(e,a);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(e,a){var i=this._targetAxisInfoMap.get(e);if(i&&i.indexMap[a])return this.ecModel.getComponent(ut(e),a)},t.prototype.setRawRange=function(e){var a=this.option,i=this.settledOption;T([["start","startValue"],["end","endValue"]],function(n){(e[n[0]]!=null||e[n[1]]!=null)&&(a[n[0]]=i[n[0]]=e[n[0]],a[n[1]]=i[n[1]]=e[n[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var a=this.option;T(["start","startValue","end","endValue"],function(i){a[i]=e[i]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,a){if(e==null&&a==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(e,a).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var a,i=this._targetAxisInfoMap.keys(),n=0;n<i.length;n++)for(var o=i[n],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;a||(a=u)}return a},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Fe);function as(r){var t={};return T(["start","end","startValue","endValue","throttle"],function(e){r.hasOwnProperty(e)&&(t[e]=r[e])}),t}var Lg=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(ma),sn=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i,n){this.dataZoomModel=e,this.ecModel=a,this.api=i},t.type="dataZoom",t}(We),Tg=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(sn),Et=T,rs=yt,Ig=function(){function r(t,e,a,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=a}return r.prototype.hostedBy=function(t){return this._dataZoomModel===t},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(Ag(e)){var a=ut(this._dimName),i=e.getReferringComponents(a,ht).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}},this),t},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return ae(this._minMaxSpan)},r.prototype.calculateDataWindow=function(t){var e=this._dataExtent,a=this.getAxisModel(),i=a.axis.scale,n=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;Et(["start","end"],function(f,d){var p=t[f],v=t[f+"Value"];n[d]==="percent"?(p==null&&(p=o[d]),v=i.parse(ve(p,o,e))):(u=!0,v=v==null?e[d]:i.parse(v),p=ve(v,e,o)),l[d]=v==null||isNaN(v)?e[d]:v,s[d]=p==null||isNaN(p)?o[d]:p}),rs(l),rs(s);var c=this._minMaxSpan;u?h(l,s,e,o,!1):h(s,l,o,e,!0);function h(f,d,p,v,g){var y=g?"Span":"ValueSpan";Yt(0,f,p,"all",c["min"+y],c["max"+y]);for(var m=0;m<2;m++)d[m]=ve(f[m],p,v,!0),g&&(d[m]=i.parse(d[m]))}return{valueWindow:l,percentWindow:s}},r.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=Mg(this,this._dimName,e),this._updateMinMaxSpan();var a=this.calculateDataWindow(t.settledOption);this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var a=this._dimName,i=this.getTargetSeriesModels(),n=t.get("filterMode"),o=this._valueWindow;if(n==="none")return;Et(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(a);if(c.length){if(n==="weakFilter"){var h=u.getStore(),f=j(c,function(d){return u.getDimensionIndex(d)},u);u.filterSelf(function(d){for(var p,v,g,y=0;y<c.length;y++){var m=h.get(f[y],d),_=!isNaN(m),x=m<o[0],b=m>o[1];if(_&&!x&&!b)return!0;_&&(g=!0),x&&(p=!0),b&&(v=!0)}return g&&p&&v})}else Et(c,function(d){if(n==="empty")l.setData(u=u.map(d,function(v){return s(v)?v:NaN}));else{var p={};p[d]=o,u.selectRange(p)}});Et(c,function(d){u.setApproximateExtent(o,d)})}});function s(l){return l>=o[0]&&l<=o[1]}},r.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,a=this._dataExtent;Et(["min","max"],function(i){var n=e.get(i+"Span"),o=e.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?n=ve(a[0]+o,a,[0,100],!0):n!=null&&(o=ve(n,[0,100],a,!0)-a[0]),t[i+"Span"]=n,t[i+"ValueSpan"]=o},this)},r.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,a=this._valueWindow;if(e){var i=Hh(a,[0,500]);i=Math.min(i,20);var n=t.axis.scale.rawExtentInfo;e[0]!==0&&n.setDeterminedMinMax("min",+a[0].toFixed(i)),e[1]!==100&&n.setDeterminedMinMax("max",+a[1].toFixed(i)),n.freeze()}},r}();function Mg(r,t,e){var a=[1/0,-1/0];Et(e,function(o){Gh(a,o.getData(),t)});var i=r.getAxisModel(),n=Fh(i.axis.scale,i,a).calculate();return[n.min,n.max]}var Dg={getTargetSeries:function(r){function t(i){r.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(o,s){var l=r.getComponent(ut(o),s);i(o,s,l,n)})})}t(function(i,n,o,s){o.__dzAxisProxy=null});var e=[];t(function(i,n,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new Ig(i,n,s,r),e.push(o.__dzAxisProxy))});var a=Ve();return T(e,function(i){T(i.getTargetSeriesModels(),function(n){a.set(n.uid,n)})}),a},overallReset:function(r,t){r.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(a,i){e.getAxisProxy(a,i).reset(e)}),e.eachTargetAxis(function(a,i){e.getAxisProxy(a,i).filterData(e,t)})}),r.eachComponent("dataZoom",function(e){var a=e.findRepresentativeAxisProxy();if(a){var i=a.getDataPercentWindow(),n=a.getDataValueWindow();e.setCalculatedRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]})}})}};function Rg(r){r.registerAction("dataZoom",function(t,e){var a=Cg(e,t);T(a,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var is=!1;function ln(r){is||(is=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,Dg),Rg(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Pg(r){r.registerComponentModel(Lg),r.registerComponentView(Tg),ln(r)}var Be=function(){function r(){}return r}(),zu={};function Jt(r,t){zu[r]=t}function Nu(r){return zu[r]}var kg=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;T(this.option.feature,function(a,i){var n=Nu(i);n&&(n.getDefaultOption&&(n.defaultOption=n.getDefaultOption(e)),ie(a,n.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Fe);function Eg(r,t,e){var a=t.getBoxLayoutParams(),i=t.get("padding"),n={width:e.getWidth(),height:e.getHeight()},o=je(a,n,i);bt(t.get("orient"),r,t.get("itemGap"),o.width,o.height),bl(r,a,n,i)}function Hu(r,t){var e=lr(t.get("padding")),a=t.getItemStyle(["color","opacity"]);return a.fill=t.get("backgroundColor"),r=new Se({shape:{x:r.x-e[3],y:r.y-e[0],width:r.width+e[1]+e[3],height:r.height+e[0]+e[2],r:t.get("borderRadius")},style:a,silent:!0,z2:-1}),r}var Og=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,a,i,n){var o=this.group;if(o.removeAll(),!e.get("show"))return;var s=+e.get("itemSize"),l=e.get("orient")==="vertical",u=e.get("feature")||{},c=this._features||(this._features={}),h=[];T(u,function(p,v){h.push(v)}),new ml(this._featureNames||[],h).add(f).update(f).remove(Q(f,null)).execute(),this._featureNames=h;function f(p,v){var g=h[p],y=h[v],m=u[g],_=new Ye(m,e,e.ecModel),x;if(n&&n.newTitle!=null&&n.featureName===g&&(m.title=n.newTitle),g&&!y){if(Vg(g))x={onclick:_.option.onclick,featureName:g};else{var b=Nu(g);if(!b)return;x=new b}c[g]=x}else if(x=c[y],!x)return;x.uid=Wh("toolbox-feature"),x.model=_,x.ecModel=a,x.api=i;var S=x instanceof Be;if(!g&&y){S&&x.dispose&&x.dispose(a,i);return}if(!_.get("show")||S&&x.unusable){S&&x.remove&&x.remove(a,i);return}d(_,x,g),_.setIconStatus=function(w,A){var L=this.option,I=this.iconPaths;L.iconStatus=L.iconStatus||{},L.iconStatus[w]=A,I[w]&&(A==="emphasis"?$a:Xa)(I[w])},x instanceof Be&&x.render&&x.render(_,a,i,n)}function d(p,v,g){var y=p.getModel("iconStyle"),m=p.getModel(["emphasis","iconStyle"]),_=v instanceof Be&&v.getIcons?v.getIcons():p.get("icon"),x=p.get("title")||{},b,S;oe(_)?(b={},b[g]=_):b=_,oe(x)?(S={},S[g]=x):S=x;var w=p.iconPaths={};T(b,function(A,L){var I=Xi(A,{},{x:-s/2,y:-s/2,width:s,height:s});I.setStyle(y.getItemStyle());var C=I.ensureState("emphasis");C.style=m.getItemStyle();var M=new xe({style:{text:S[L],align:m.get("textAlign"),borderRadius:m.get("textBorderRadius"),padding:m.get("textPadding"),fill:null,font:Zh({fontStyle:m.get("textFontStyle"),fontFamily:m.get("textFontFamily"),fontSize:m.get("textFontSize"),fontWeight:m.get("textFontWeight")},a)},ignore:!0});I.setTextContent(M),nr({el:I,componentModel:e,itemName:L,formatterParamsExtra:{title:S[L]}}),I.__title=S[L],I.on("mouseover",function(){var D=m.getItemStyle(),k=l?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";M.setStyle({fill:m.get("textFill")||D.fill||D.stroke||"#000",backgroundColor:m.get("textBackgroundColor")}),I.setTextConfig({position:m.get("textPosition")||k}),M.ignore=!e.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){p.get(["iconStatus",L])!=="emphasis"&&i.leaveEmphasis(this),M.hide()}),(p.get(["iconStatus",L])==="emphasis"?$a:Xa)(I),o.add(I),I.on("click",$(v.onclick,v,a,i,L)),w[L]=I})}Eg(o,e,i),o.add(Hu(o.getBoundingRect(),e)),l||o.eachChild(function(p){var v=p.__title,g=p.ensureState("emphasis"),y=g.textConfig||(g.textConfig={}),m=p.getTextContent(),_=m&&m.ensureState("emphasis");if(_&&!we(_)&&v){var x=_.style||(_.style={}),b=_l(v,xe.makeFont(x)),S=p.x+o.x,w=p.y+o.y+s,A=!1;w+b.height>i.getHeight()&&(y.position="top",A=!0);var L=A?-5-b.height:s+10;S+b.width/2>i.getWidth()?(y.position=["100%",L],x.align="right"):S-b.width/2<0&&(y.position=[0,L],x.align="left")}})},t.prototype.updateView=function(e,a,i,n){T(this._features,function(o){o instanceof Be&&o.updateView&&o.updateView(o.model,a,i,n)})},t.prototype.remove=function(e,a){T(this._features,function(i){i instanceof Be&&i.remove&&i.remove(e,a)}),this.group.removeAll()},t.prototype.dispose=function(e,a){T(this._features,function(i){i instanceof Be&&i.dispose&&i.dispose(e,a)})},t.type="toolbox",t}(We);function Vg(r){return r.indexOf("my")===0}var Bg=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,a){var i=this.model,n=i.get("name")||e.get("title.0.text")||"echarts",o=a.getZr().painter.getType()==="svg",s=o?"svg":i.get("type",!0)||"png",l=a.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=Le.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=n+"."+s,c.target="_blank",c.href=l;var h=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(h)}else if(window.navigator.msSaveOrOpenBlob||o){var f=l.split(","),d=f[0].indexOf("base64")>-1,p=o?decodeURIComponent(f[1]):f[1];d&&(p=window.atob(p));var v=n+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var g=p.length,y=new Uint8Array(g);g--;)y[g]=p.charCodeAt(g);var m=new Blob([y]);window.navigator.msSaveOrOpenBlob(m,v)}else{var _=document.createElement("iframe");document.body.appendChild(_);var x=_.contentWindow,b=x.document;b.open("image/svg+xml","replace"),b.write(p),b.close(),x.focus(),b.execCommand("SaveAs",!0,v),document.body.removeChild(_)}}else{var S=i.get("lang"),w='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(S&&S[0]||"")+'" /></body>',A=window.open();A.document.write(w),A.document.title=n}},t.getDefaultOption=function(e){var a={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return a},t}(Be),ns="__ec_magicType_stack__",zg=[["line","bar"],["stack"]],Ng=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getIcons=function(){var e=this.model,a=e.get("icon"),i={};return T(e.get("type"),function(n){a[n]&&(i[n]=a[n])}),i},t.getDefaultOption=function(e){var a={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return a},t.prototype.onclick=function(e,a,i){var n=this.model,o=n.get(["seriesIndex",i]);if(os[i]){var s={series:[]},l=function(h){var f=h.subType,d=h.id,p=os[i](f,d,h,n);p&&(de(p,h.option),s.series.push(p));var v=h.coordinateSystem;if(v&&v.type==="cartesian2d"&&(i==="line"||i==="bar")){var g=v.getAxesByScale("ordinal")[0];if(g){var y=g.dim,m=y+"Axis",_=h.getReferringComponents(m,ht).models[0],x=_.componentIndex;s[m]=s[m]||[];for(var b=0;b<=x;b++)s[m][x]=s[m][x]||{};s[m][x].boundaryGap=i==="bar"}}};T(zg,function(h){Te(h,i)>=0&&T(h,function(f){n.setIconStatus(f,"normal")})}),n.setIconStatus(i,"emphasis"),e.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,c=i;i==="stack"&&(u=ie({stack:n.option.title.tiled,tiled:n.option.title.stack},n.option.title),n.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),a.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},t}(Be),os={line:function(r,t,e,a){if(r==="bar")return ie({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},a.get(["option","line"])||{},!0)},bar:function(r,t,e,a){if(r==="line")return ie({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},a.get(["option","bar"])||{},!0)},stack:function(r,t,e,a){var i=e.get("stack")===ns;if(r==="line"||r==="bar")return a.setIconStatus("stack",i?"normal":"emphasis"),ie({id:t,stack:i?"":ns},a.get(["option","stack"])||{},!0)}};or({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,t){t.mergeOption(r.newOption)});var dr=new Array(60).join("-"),Xt="	";function Hg(r){var t={},e=[],a=[];return r.eachRawSeries(function(i){var n=i.coordinateSystem;if(n&&(n.type==="cartesian2d"||n.type==="polar")){var o=n.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;t[s]||(t[s]={categoryAxis:o,valueAxis:n.getOtherAxis(o),series:[]},a.push({axisDim:o.dim,axisIndex:o.index})),t[s].series.push(i)}else e.push(i)}else e.push(i)}),{seriesGroupByCategoryAxis:t,other:e,meta:a}}function Gg(r){var t=[];return T(r,function(e,a){var i=e.categoryAxis,n=e.valueAxis,o=n.dim,s=[" "].concat(j(e.series,function(d){return d.name})),l=[i.model.getCategories()];T(e.series,function(d){var p=d.getRawData();l.push(d.getRawData().mapArray(p.mapDimension(o),function(v){return v}))});for(var u=[s.join(Xt)],c=0;c<l[0].length;c++){for(var h=[],f=0;f<l.length;f++)h.push(l[f][c]);u.push(h.join(Xt))}t.push(u.join(`
`))}),t.join(`

`+dr+`

`)}function Fg(r){return j(r,function(t){var e=t.getRawData(),a=[t.name],i=[];return e.each(e.dimensions,function(){for(var n=arguments.length,o=arguments[n-1],s=e.getName(o),l=0;l<n-1;l++)i[l]=arguments[l];a.push((s?s+Xt:"")+i.join(Xt))}),a.join(`
`)}).join(`

`+dr+`

`)}function Wg(r){var t=Hg(r);return{value:ir([Gg(t.seriesGroupByCategoryAxis),Fg(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+dr+`

`),meta:t.meta}}function Ja(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Zg(r){var t=r.slice(0,r.indexOf(`
`));if(t.indexOf(Xt)>=0)return!0}var Ii=new RegExp("["+Xt+"]+","g");function $g(r){for(var t=r.split(/\n+/g),e=Ja(t.shift()).split(Ii),a=[],i=j(e,function(l){return{name:l,data:[]}}),n=0;n<t.length;n++){var o=Ja(t[n]).split(Ii);a.push(o.shift());for(var s=0;s<o.length;s++)i[s]&&(i[s].data[n]=o[s])}return{series:i,categories:a}}function Xg(r){for(var t=r.split(/\n+/g),e=Ja(t.shift()),a=[],i=0;i<t.length;i++){var n=Ja(t[i]);if(n){var o=n.split(Ii),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),a[i]={name:s,value:[]},l=a[i].value):l=a[i]=[];for(var c=0;c<o.length;c++)l.push(+o[c]);l.length===1&&(u?a[i].value=l[0]:a[i]=l[0])}}return{name:e,data:a}}function Ug(r,t){var e=r.split(new RegExp(`
*`+dr+`
*`,"g")),a={series:[]};return T(e,function(i,n){if(Zg(i)){var o=$g(i),s=t[n],l=s.axisDim+"Axis";s&&(a[l]=a[l]||[],a[l][s.axisIndex]={data:o.categories},a.series=a.series.concat(o.series))}else{var o=Xg(i);a.series.push(o)}}),a}var Yg=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,a){setTimeout(function(){a.dispatchAction({type:"hideTip"})});var i=a.getDom(),n=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=n.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=n.get("lang")||[];s.innerHTML=l[0]||n.get("title"),s.style.cssText="margin:10px 20px",s.style.color=n.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var h=n.get("optionToContent"),f=n.get("contentToOption"),d=Wg(e);if(we(h)){var p=h(a.getOption());oe(p)?u.innerHTML=p:oi(p)&&u.appendChild(p)}else{c.readOnly=n.get("readOnly");var v=c.style;v.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",v.color=n.get("textColor"),v.borderColor=n.get("textareaBorderColor"),v.backgroundColor=n.get("textareaColor"),c.value=d.value,u.appendChild(c)}var g=d.meta,y=document.createElement("div");y.style.cssText="position:absolute;bottom:5px;left:0;right:0";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",_=document.createElement("div"),x=document.createElement("div");m+=";background-color:"+n.get("buttonColor"),m+=";color:"+n.get("buttonTextColor");var b=this;function S(){i.removeChild(o),b._dom=null}Cn(_,"click",S),Cn(x,"click",function(){if(f==null&&h!=null||f!=null&&h==null){S();return}var w;try{we(f)?w=f(u,a.getOption()):w=Ug(c.value,g)}catch(A){throw S(),new Error("Data view format error "+A)}w&&a.dispatchAction({type:"changeDataView",newOption:w}),S()}),_.innerHTML=l[1],x.innerHTML=l[2],x.style.cssText=_.style.cssText=m,!n.get("readOnly")&&y.appendChild(x),y.appendChild(_),o.appendChild(s),o.appendChild(u),o.appendChild(y),u.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},t.prototype.remove=function(e,a){this._dom&&a.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,a){this.remove(e,a)},t.getDefaultOption=function(e){var a={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return a},t}(Be);function qg(r,t){return j(r,function(e,a){var i=t&&t[a];if(Ce(i)&&!X(i)){var n=Ce(e)&&!X(e);n||(e={value:e});var o=i.name!=null&&e.name==null;return e=de(e,i),o&&delete e.name,e}else return e})}or({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,t){var e=[];T(r.newOption.series,function(a){var i=t.getSeriesByName(a.name)[0];if(!i)e.push(re({type:"scatter"},a));else{var n=i.get("data");e.push({name:a.name,data:qg(a.data,n)})}}),t.mergeOption(de({series:e},r.newOption))});var Gu=T,Fu=Ge();function Kg(r,t){var e=un(r);Gu(t,function(a,i){for(var n=e.length-1;n>=0;n--){var o=e[n];if(o[i])break}if(n<0){var s=r.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var l=s.getPercentRange();e[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),e.push(t)}function jg(r){var t=un(r),e=t[t.length-1];t.length>1&&t.pop();var a={};return Gu(e,function(i,n){for(var o=t.length-1;o>=0;o--)if(i=t[o][n],i){a[n]=i;break}}),a}function Qg(r){Fu(r).snapshots=null}function Jg(r){return un(r).length}function un(r){var t=Fu(r);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var em=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,a){Qg(e),a.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var a={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return a},t}(Be);or({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,t){t.resetOption("recreate")});var tm=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Wu=function(){function r(t,e,a){var i=this;this._targetInfoList=[];var n=ss(e,t);T(am,function(o,s){(!a||!a.include||Te(a.include,s)>=0)&&o(n,i._targetInfoList)})}return r.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(a,i,n){if((a.coordRanges||(a.coordRanges=[])).push(i),!a.coordRange){a.coordRange=i;var o=Fr[a.brushType](0,n,i);a.__rangeOffset={offset:hs[a.brushType](o.values,a.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},r.prototype.matchOutputRanges=function(t,e,a){T(t,function(i){var n=this.findTargetInfo(i,e);n&&n!==!0&&T(n.coordSyses,function(o){var s=Fr[i.brushType](1,o,i.range,!0);a(i,s.values,o,e)})},this)},r.prototype.setInputRanges=function(t,e){T(t,function(a){var i=this.findTargetInfo(a,e);if(a.range=a.range||[],i&&i!==!0){a.panelId=i.panelId;var n=Fr[a.brushType](0,i.coordSys,a.coordRange),o=a.__rangeOffset;a.range=o?hs[a.brushType](n.values,o.offset,rm(n.xyMinMax,o.xyMinMax)):n.values}},this)},r.prototype.makePanelOpts=function(t,e){return j(this._targetInfoList,function(a){var i=a.getPanelRect();return{panelId:a.panelId,defaultBrushType:e?e(a):null,clipPath:Kv(i),isTargetByCursor:Qv(i,t,a.coordSysModel),getLinearBrushOtherExtent:jv(i)}})},r.prototype.controlSeries=function(t,e,a){var i=this.findTargetInfo(t,a);return i===!0||i&&Te(i.coordSyses,e.coordinateSystem)>=0},r.prototype.findTargetInfo=function(t,e){for(var a=this._targetInfoList,i=ss(e,t),n=0;n<a.length;n++){var o=a[n],s=t.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<ls.length;l++)if(ls[l](i,o))return o}return!0},r}();function Mi(r){return r[0]>r[1]&&r.reverse(),r}function ss(r,t){return xl(r,t,{includeMainTypes:tm})}var am={grid:function(r,t){var e=r.xAxisModels,a=r.yAxisModels,i=r.gridModels,n=Ve(),o={},s={};!e&&!a&&!i||(T(e,function(l){var u=l.axis.grid.model;n.set(u.id,u),o[u.id]=!0}),T(a,function(l){var u=l.axis.grid.model;n.set(u.id,u),s[u.id]=!0}),T(i,function(l){n.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),n.each(function(l){var u=l.coordinateSystem,c=[];T(u.getCartesians(),function(h,f){(Te(e,h.getAxis("x").model)>=0||Te(a,h.getAxis("y").model)>=0)&&c.push(h)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:us.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(r,t){T(r.geoModels,function(e){var a=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:a,coordSyses:[a],getPanelRect:us.geo})})}},ls=[function(r,t){var e=r.xAxisModel,a=r.yAxisModel,i=r.gridModel;return!i&&e&&(i=e.axis.grid.model),!i&&a&&(i=a.axis.grid.model),i&&i===t.gridModel},function(r,t){var e=r.geoModel;return e&&e===t.geoModel}],us={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,t=r.getBoundingRect().clone();return t.applyTransform(Bt(r)),t}},Fr={lineX:Q(cs,0),lineY:Q(cs,1),rect:function(r,t,e,a){var i=r?t.pointToData([e[0][0],e[1][0]],a):t.dataToPoint([e[0][0],e[1][0]],a),n=r?t.pointToData([e[0][1],e[1][1]],a):t.dataToPoint([e[0][1],e[1][1]],a),o=[Mi([i[0],n[0]]),Mi([i[1],n[1]])];return{values:o,xyMinMax:o}},polygon:function(r,t,e,a){var i=[[1/0,-1/0],[1/0,-1/0]],n=j(e,function(o){var s=r?t.pointToData(o,a):t.dataToPoint(o,a);return i[0][0]=Math.min(i[0][0],s[0]),i[1][0]=Math.min(i[1][0],s[1]),i[0][1]=Math.max(i[0][1],s[0]),i[1][1]=Math.max(i[1][1],s[1]),s});return{values:n,xyMinMax:i}}};function cs(r,t,e,a){var i=e.getAxis(["x","y"][r]),n=Mi(j([0,1],function(s){return t?i.coordToData(i.toLocalCoord(a[s]),!0):i.toGlobalCoord(i.dataToCoord(a[s]))})),o=[];return o[r]=n,o[1-r]=[NaN,NaN],{values:n,xyMinMax:o}}var hs={lineX:Q(fs,0),lineY:Q(fs,1),rect:function(r,t,e){return[[r[0][0]-e[0]*t[0][0],r[0][1]-e[0]*t[0][1]],[r[1][0]-e[1]*t[1][0],r[1][1]-e[1]*t[1][1]]]},polygon:function(r,t,e){return j(r,function(a,i){return[a[0]-e[0]*t[i][0],a[1]-e[1]*t[i][1]]})}};function fs(r,t,e,a){return[t[0]-a[r]*e[0],t[1]-a[r]*e[1]]}function rm(r,t){var e=ds(r),a=ds(t),i=[e[0]/a[0],e[1]/a[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function ds(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var Di=T,im=Xh("toolbox-dataZoom_"),nm=function(r){O(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,a,i,n){this._brushController||(this._brushController=new Gv(i.getZr()),this._brushController.on("brush",$(this._onBrush,this)).mount()),lm(e,a,this,n,i),sm(e,a)},t.prototype.onclick=function(e,a,i){om[i].call(this)},t.prototype.remove=function(e,a){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,a){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var a=e.areas;if(!e.isEnd||!a.length)return;var i={},n=this.ecModel;this._brushController.updateCovers([]);var o=new Wu(cn(this.model),n,{include:["grid"]});o.matchOutputRanges(a,n,function(u,c,h){if(h.type==="cartesian2d"){var f=u.brushType;f==="rect"?(s("x",h,c[0]),s("y",h,c[1])):s({lineX:"x",lineY:"y"}[f],h,c)}}),Kg(n,i),this._dispatchZoomAction(i);function s(u,c,h){var f=c.getAxis(u),d=f.model,p=l(u,d,n),v=p.findRepresentativeAxisProxy(d).getMinMaxSpan();(v.minValueSpan!=null||v.maxValueSpan!=null)&&(h=Yt(0,h.slice(),f.scale.getExtent(),0,v.minValueSpan,v.maxValueSpan)),p&&(i[p.id]={dataZoomId:p.id,startValue:h[0],endValue:h[1]})}function l(u,c,h){var f;return h.eachComponent({mainType:"dataZoom",subType:"select"},function(d){var p=d.getAxisModel(u,c.componentIndex);p&&(f=d)}),f}},t.prototype._dispatchZoomAction=function(e){var a=[];Di(e,function(i,n){a.push(ae(i))}),a.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:a})},t.getDefaultOption=function(e){var a={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return a},t}(Be),om={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(jg(this.ecModel))}};function cn(r){var t={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function sm(r,t){r.setIconStatus("back",Jg(t)>1?"emphasis":"normal")}function lm(r,t,e,a,i){var n=e._isZoomActive;a&&a.type==="takeGlobalCursor"&&(n=a.key==="dataZoomSelect"?a.dataZoomSelectActive:!1),e._isZoomActive=n,r.setIconStatus("zoom",n?"emphasis":"normal");var o=new Wu(cn(r),t,{include:["grid"]}),s=o.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(s).enableBrush(n&&s.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}$h("dataZoom",function(r){var t=r.getComponent("toolbox",0),e=["feature","dataZoom"];if(!t||t.get(e)==null)return;var a=t.getModel(e),i=[],n=cn(a),o=xl(r,n);Di(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),Di(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var h=l.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:a.get("filterMode",!0)||"filter",id:im+u+h};f[c]=h,i.push(f)}return i});function um(r){r.registerComponentModel(kg),r.registerComponentView(Og),Jt("saveAsImage",Bg),Jt("magicType",Ng),Jt("dataView",Yg),Jt("dataZoom",nm),Jt("restore",em),De(Pg)}var cm=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Fe);function Zu(r){var t=r.get("confine");return t!=null?!!t:r.get("renderMode")==="richText"}function $u(r){if(Le.domSupported){for(var t=document.documentElement.style,e=0,a=r.length;e<a;e++)if(r[e]in t)return r[e]}}var Xu=$u(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hm=$u(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Uu(r,t){if(!r)return t;t=Sl(t,!0);var e=r.indexOf(t);return r=e===-1?t:"-"+r.slice(0,e)+"-"+t,r.toLowerCase()}function fm(r,t){var e=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return e?e[t]:null}var dm=Uu(hm,"transition"),hn=Uu(Xu,"transform"),pm="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Le.transform3dSupported?"will-change:transform;":"");function vm(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function gm(r,t,e){if(!oe(e)||e==="inside")return"";var a=r.get("backgroundColor"),i=r.get("borderWidth");t=Nt(t);var n=vm(e),o=Math.max(Math.round(i)*1.5,6),s="",l=hn+":",u;Te(["left","right"],n)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=n==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=n==="top"?225:45)+"deg)");var c=u*Math.PI/180,h=o+i,f=h*Math.abs(Math.cos(c))+h*Math.abs(Math.sin(c)),d=Math.round(((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-h)/2)*100)/100;s+=";"+n+":-"+d+"px";var p=t+" solid "+i+"px;",v=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+a+";"];return'<div style="'+v.join("")+'"></div>'}function mm(r,t){var e="cubic-bezier(0.23,1,0.32,1)",a=" "+r/2+"s "+e,i="opacity"+a+",visibility"+a;return t||(a=" "+r+"s "+e,i+=Le.transformSupported?","+hn+a:",left"+a+",top"+a),dm+":"+i}function ps(r,t,e){var a=r.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!Le.transformSupported)return e?"top:"+i+";left:"+a+";":[["top",i],["left",a]];var n=Le.transform3dSupported,o="translate"+(n?"3d":"")+"("+a+","+i+(n?",0":"")+")";return e?"top:0;left:0;"+hn+":"+o+";":[["top",0],["left",0],[Xu,o]]}function ym(r){var t=[],e=r.get("fontSize"),a=r.getTextColor();a&&t.push("color:"+a),t.push("font:"+r.getFont());var i=ze(r.get("lineHeight"),Math.round(e*3/2));e&&t.push("line-height:"+i+"px");var n=r.get("textShadowColor"),o=r.get("textShadowBlur")||0,s=r.get("textShadowOffsetX")||0,l=r.get("textShadowOffsetY")||0;return n&&o&&t.push("text-shadow:"+s+"px "+l+"px "+o+"px "+n),T(["decoration","align"],function(u){var c=r.get(u);c&&t.push("text-"+u+":"+c)}),t.join(";")}function _m(r,t,e){var a=[],i=r.get("transitionDuration"),n=r.get("backgroundColor"),o=r.get("shadowBlur"),s=r.get("shadowColor"),l=r.get("shadowOffsetX"),u=r.get("shadowOffsetY"),c=r.getModel("textStyle"),h=wl(r,"html"),f=l+"px "+u+"px "+o+"px "+s;return a.push("box-shadow:"+f),t&&i&&a.push(mm(i,e)),n&&a.push("background-color:"+n),T(["width","color","radius"],function(d){var p="border-"+d,v=Sl(p),g=r.get(v);g!=null&&a.push(p+":"+g+(d==="color"?"":"px"))}),a.push(ym(c)),h!=null&&a.push("padding:"+lr(h).join("px ")+"px"),a.join(";")+";"}function vs(r,t,e,a,i){var n=t&&t.painter;if(e){var o=n&&n.getViewportRoot();o&&Yh(r,o,e,a,i)}else{r[0]=a,r[1]=i;var s=n&&n.getViewportRootOffset();s&&(r[0]+=s.offsetLeft,r[1]+=s.offsetTop)}r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var bm=function(){function r(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Le.wxa)return null;var a=document.createElement("div");a.domBelongToZr=!0,this.el=a;var i=this._zr=t.getZr(),n=e.appendTo,o=n&&(oe(n)?document.querySelector(n):oi(n)?n:we(n)&&n(t.getDom()));vs(this._styleCoord,i,o,t.getWidth()/2,t.getHeight()/2),(o||t.getDom()).appendChild(a),this._api=t,this._container=o;var s=this;a.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},a.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,c=i.painter.getViewportRoot();Uh(c,l,!0),u.dispatch("mousemove",l)}},a.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return r.prototype.update=function(t){if(!this._container){var e=this._api.getDom(),a=fm(e,"position"),i=e.style;i.position!=="absolute"&&a!=="absolute"&&(i.position="relative")}var n=t.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n,this.el.className=t.get("className")||""},r.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var a=this.el,i=a.style,n=this._styleCoord;a.innerHTML?i.cssText=pm+_m(t,!this._firstShow,this._longHide)+ps(n[0],n[1],!0)+("border-color:"+Nt(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(t,e,a,i,n){var o=this.el;if(t==null){o.innerHTML="";return}var s="";if(oe(n)&&a.get("trigger")==="item"&&!Zu(a)&&(s=gm(a,i,n)),oe(t))o.innerHTML=t+s;else if(t){o.innerHTML="",X(t)||(t=[t]);for(var l=0;l<t.length;l++)oi(t[l])&&t[l].parentNode!==o&&o.appendChild(t[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},r.prototype.moveTo=function(t,e){if(this.el){var a=this._styleCoord;if(vs(a,this._zr,this._container,t,e),a[0]!=null&&a[1]!=null){var i=this.el.style,n=ps(a[0],a[1]);T(n,function(o){i[o[0]]=o[1]})}}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},r.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",Le.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout($(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},r}(),xm=function(){function r(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),ms(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return r.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(t,e,a,i,n){var o=this;Ce(t)&&qh(""),this.el&&this._zr.remove(this.el);var s=a.getModel("textStyle");this.el=new xe({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:a.get(["textStyle","color"]),padding:wl(a,"richText"),verticalAlign:"top",align:"left"},z:a.get("z")}),T(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=a.get(u)}),T(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),a=gs(t.style);return[e.width+a.left+a.right,e.height+a.top+a.bottom]},r.prototype.moveTo=function(t,e){var a=this.el;if(a){var i=this._styleCoord;ms(i,this._zr,t,e),t=i[0],e=i[1];var n=a.style,o=it(n.borderWidth||0),s=gs(n);a.x=t+o+s.left,a.y=e+o+s.top,a.markRedraw()}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout($(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function it(r){return Math.max(0,r)}function gs(r){var t=it(r.shadowBlur||0),e=it(r.shadowOffsetX||0),a=it(r.shadowOffsetY||0);return{left:it(t-e),right:it(t+e),top:it(t-a),bottom:it(t+a)}}function ms(r,t,e,a){r[0]=e,r[1]=a,r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var Sm=new Se({shape:{x:-1,y:-1,width:2,height:2}}),wm=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,a){if(!(Le.node||!a.getDom())){var i=e.getComponent("tooltip"),n=this._renderMode=Kh(i.get("renderMode"));this._tooltipContent=n==="richText"?new xm(a):new bm(a,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(e,a,i){if(!(Le.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=e,this._ecModel=a,this._api=i;var n=this._tooltipContent;n.update(e),n.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&e.get("transitionDuration")?sr(this,"_updatePosition",50,"fixRate"):ja(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel,a=e.get("triggerOn");ku("itemTooltip",this._api,$(function(i,n,o){a!=="none"&&(a.indexOf(i)>=0?this._tryShow(n,o):i==="leave"&&this._hide(o))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,a=this._ecModel,i=this._api,n=e.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&n!=="none"&&n!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(e,a,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,a,i,n){if(!(n.from===this.uid||Le.node||!i.getDom())){var o=ys(n,i);this._ticket="";var s=n.dataByCoordSys,l=Tm(n,a,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:n.position,positionDefault:"bottom"},o)}else if(n.tooltip&&n.x!=null&&n.y!=null){var c=Sm;c.x=n.x,c.y=n.y,c.update(),fe(c).tooltipConfig={name:null,option:n.tooltip},this._tryShow({offsetX:n.x,offsetY:n.y,target:c},o)}else if(s)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:s,tooltipOption:n.tooltipOption},o);else if(n.seriesIndex!=null){if(this._manuallyAxisShowTip(e,a,i,n))return;var h=Eu(n,a),f=h.point[0],d=h.point[1];f!=null&&d!=null&&this._tryShow({offsetX:f,offsetY:d,target:h.el,position:n.position,positionDefault:"bottom"},o)}else n.x!=null&&n.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},o))}},t.prototype.manuallyHideTip=function(e,a,i,n){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(ys(n,i))},t.prototype._manuallyAxisShowTip=function(e,a,i,n){var o=n.seriesIndex,s=n.dataIndex,l=a.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=a.getSeriesByIndex(o);if(u){var c=u.getData(),h=ea([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(h.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:n.position}),!0}}},t.prototype._tryShow=function(e,a){var i=e.target,n=this._tooltipModel;if(n){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(i){var s=fe(i);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Al(i,function(c){if(fe(c).dataIndex!=null)return l=c,!0;if(fe(c).tooltipConfig!=null)return u=c,!0},!0),l?this._showSeriesItemTooltip(e,l,a):u?this._showComponentItemTooltip(e,u,a):this._hide(a)}else this._lastDataByCoordSys=null,this._hide(a)}},t.prototype._showOrMove=function(e,a){var i=e.get("showDelay");a=$(a,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(a,i):a()},t.prototype._showAxisTooltip=function(e,a){var i=this._ecModel,n=this._tooltipModel,o=[a.offsetX,a.offsetY],s=ea([a.tooltipOption],n),l=this._renderMode,u=[],c=Ft("section",{blocks:[],noHeader:!0}),h=[],f=new br;T(e,function(m){T(m.dataByAxis,function(_){var x=i.getComponent(_.axisDim+"Axis",_.axisIndex),b=_.value;if(!(!x||b==null)){var S=Ru(b,x.axis,i,_.seriesDataIndices,_.valueLabelOpt),w=Ft("section",{header:S,noHeader:!jh(S),sortBlocks:!0,blocks:[]});c.blocks.push(w),T(_.seriesDataIndices,function(A){var L=i.getSeriesByIndex(A.seriesIndex),I=A.dataIndexInside,C=L.getDataParams(I);if(!(C.dataIndex<0)){C.axisDim=_.axisDim,C.axisIndex=_.axisIndex,C.axisType=_.axisType,C.axisId=_.axisId,C.axisValue=yl(x.axis,{value:b}),C.axisValueLabel=S,C.marker=f.makeTooltipMarker("item",Nt(C.color),l);var M=Ln(L.formatTooltip(I,!0,null)),D=M.frag;if(D){var k=ea([L],n).get("valueFormatter");w.blocks.push(k?re({valueFormatter:k},D):D)}M.text&&h.push(M.text),u.push(C)}})}})}),c.blocks.reverse(),h.reverse();var d=a.position,p=s.get("order"),v=Tn(c,f,l,p,i.get("useUTC"),s.get("textStyle"));v&&h.unshift(v);var g=l==="richText"?`

`:"<br/>",y=h.join(g);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(e,u)?this._updatePosition(s,d,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,y,u,Math.random()+"",o[0],o[1],d,null,f)})},t.prototype._showSeriesItemTooltip=function(e,a,i){var n=this._ecModel,o=fe(a),s=o.seriesIndex,l=n.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,h=o.dataType,f=u.getData(h),d=this._renderMode,p=e.positionDefault,v=ea([f.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),g=v.get("trigger");if(!(g!=null&&g!=="item")){var y=u.getDataParams(c,h),m=new br;y.marker=m.makeTooltipMarker("item",Nt(y.color),d);var _=Ln(u.formatTooltip(c,!1,h)),x=v.get("order"),b=v.get("valueFormatter"),S=_.frag,w=S?Tn(b?re({valueFormatter:b},S):S,m,d,x,n.get("useUTC"),v.get("textStyle")):_.text,A="item_"+u.name+"_"+c;this._showOrMove(v,function(){this._showTooltipContent(v,w,y,A,e.offsetX,e.offsetY,e.position,e.target,m)}),i({type:"showTip",dataIndexInside:c,dataIndex:f.getRawIndex(c),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,a,i){var n=this._renderMode==="html",o=fe(a),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(oe(l)){var c=l;l={content:c,formatter:c},u=!0}u&&n&&l.content&&(l=ae(l),l.content=Qh(l.content));var h=[l],f=this._ecModel.getComponent(o.componentMainType,o.componentIndex);f&&h.push(f),h.push({formatter:l.content});var d=e.positionDefault,p=ea(h,this._tooltipModel,d?{position:d}:null),v=p.get("content"),g=Math.random()+"",y=new br;this._showOrMove(p,function(){var m=ae(p.get("formatterParams")||{});this._showTooltipContent(p,v,m,g,e.offsetX,e.offsetY,e.position,a,y)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,a,i,n,o,s,l,u,c){if(this._ticket="",!(!e.get("showContent")||!e.get("show"))){var h=this._tooltipContent;h.setEnterable(e.get("enterable"));var f=e.get("formatter");l=l||e.get("position");var d=a,p=this._getNearestPoint([o,s],i,e.get("trigger"),e.get("borderColor")),v=p.color;if(f)if(oe(f)){var g=e.ecModel.get("useUTC"),y=X(i)?i[0]:i,m=y&&y.axisType&&y.axisType.indexOf("time")>=0;d=f,m&&(d=Jh(y.axisValue,d,g)),d=ef(d,i,!0)}else if(we(f)){var _=$(function(x,b){x===this._ticket&&(h.setContent(b,c,e,v,l),this._updatePosition(e,l,o,s,h,i,u))},this);this._ticket=n,d=f(i,n,_)}else d=f;h.setContent(d,c,e,v,l),h.show(e,v),this._updatePosition(e,l,o,s,h,i,u)}},t.prototype._getNearestPoint=function(e,a,i,n){if(i==="axis"||X(a))return{color:n||(this._renderMode==="html"?"#fff":"none")};if(!X(a))return{color:n||a.color||a.borderColor}},t.prototype._updatePosition=function(e,a,i,n,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();a=a||e.get("position");var h=o.getSize(),f=e.get("align"),d=e.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),we(a)&&(a=a([i,n],s,o.el,p,{viewSize:[u,c],contentSize:h.slice()})),X(a))i=be(a[0],u),n=be(a[1],c);else if(Ce(a)){var v=a;v.width=h[0],v.height=h[1];var g=je(v,{width:u,height:c});i=g.x,n=g.y,f=null,d=null}else if(oe(a)&&l){var y=Lm(a,p,h,e.get("borderWidth"));i=y[0],n=y[1]}else{var y=Am(i,n,o,u,c,f?null:20,d?null:20);i=y[0],n=y[1]}if(f&&(i-=_s(f)?h[0]/2:f==="right"?h[0]:0),d&&(n-=_s(d)?h[1]/2:d==="bottom"?h[1]:0),Zu(e)){var y=Cm(i,n,o,u,c);i=y[0],n=y[1]}o.moveTo(i,n)},t.prototype._updateContentNotChangedOnAxis=function(e,a){var i=this._lastDataByCoordSys,n=this._cbParamsList,o=!!i&&i.length===e.length;return o&&T(i,function(s,l){var u=s.dataByAxis||[],c=e[l]||{},h=c.dataByAxis||[];o=o&&u.length===h.length,o&&T(u,function(f,d){var p=h[d]||{},v=f.seriesDataIndices||[],g=p.seriesDataIndices||[];o=o&&f.value===p.value&&f.axisType===p.axisType&&f.axisId===p.axisId&&v.length===g.length,o&&T(v,function(y,m){var _=g[m];o=o&&y.seriesIndex===_.seriesIndex&&y.dataIndex===_.dataIndex}),n&&T(f.seriesDataIndices,function(y){var m=y.seriesIndex,_=a[m],x=n[m];_&&x&&x.data!==_.data&&(o=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=a,!!o},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,a){Le.node||!a.getDom()||(ja(this,"_updatePosition"),this._tooltipContent.dispose(),Ti("itemTooltip",a))},t.type="tooltip",t}(We);function ea(r,t,e){var a=t.ecModel,i;e?(i=new Ye(e,a,a),i=new Ye(t.option,i,a)):i=t;for(var n=r.length-1;n>=0;n--){var o=r[n];o&&(o instanceof Ye&&(o=o.get("tooltip",!0)),oe(o)&&(o={formatter:o}),o&&(i=new Ye(o,i,a)))}return i}function ys(r,t){return r.dispatchAction||$(t.dispatchAction,t)}function Am(r,t,e,a,i,n,o){var s=e.getSize(),l=s[0],u=s[1];return n!=null&&(r+l+n+2>a?r-=l+n:r+=n),o!=null&&(t+u+o>i?t-=u+o:t+=o),[r,t]}function Cm(r,t,e,a,i){var n=e.getSize(),o=n[0],s=n[1];return r=Math.min(r+o,a)-o,t=Math.min(t+s,i)-s,r=Math.max(r,0),t=Math.max(t,0),[r,t]}function Lm(r,t,e,a){var i=e[0],n=e[1],o=Math.ceil(Math.SQRT2*a)+8,s=0,l=0,u=t.width,c=t.height;switch(r){case"inside":s=t.x+u/2-i/2,l=t.y+c/2-n/2;break;case"top":s=t.x+u/2-i/2,l=t.y-n-o;break;case"bottom":s=t.x+u/2-i/2,l=t.y+c+o;break;case"left":s=t.x-i-o,l=t.y+c/2-n/2;break;case"right":s=t.x+u+o,l=t.y+c/2-n/2}return[s,l]}function _s(r){return r==="center"||r==="middle"}function Tm(r,t,e){var a=tf(r).queryOptionMap,i=a.keys()[0];if(!(!i||i==="series")){var n=af(t,i,a.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=n.models[0];if(o){var s=e.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=fe(u).tooltipConfig;if(c&&c.name===r.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}}function Yu(r){De(Ou),r.registerComponentModel(cm),r.registerComponentView(wm),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Ka),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Ka)}var bs=T;function xs(r){if(r){for(var t in r)if(r.hasOwnProperty(t))return!0}}function Ss(r,t,e){var a={};return bs(t,function(n){var o=a[n]=i();bs(r[n],function(s,l){if(Ae.isValidType(l)){var u={type:l,visual:s};e&&e(u,n),o[l]=new Ae(u),l==="opacity"&&(u=ae(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new Ae(u))}})}),a;function i(){var n=function(){};n.prototype.__hidden=n.prototype;var o=new n;return o}}function Im(r,t,e){var a;T(e,function(i){t.hasOwnProperty(i)&&xs(t[i])&&(a=!0)}),a&&T(e,function(i){t.hasOwnProperty(i)&&xs(t[i])?r[i]=ae(t[i]):delete r[i]})}function t_(r,t,e,a,i,n){var o={};T(r,function(h){var f=Ae.prepareVisualTypes(t[h]);o[h]=f});var s;function l(h){return Cl(e,s,h)}function u(h,f){Ll(e,s,h,f)}e.each(c);function c(h,f){s=h;var d=e.getRawDataItem(s);if(!(d&&d.visualMap===!1))for(var p=a.call(i,h),v=t[p],g=o[p],y=0,m=g.length;y<m;y++){var _=g[y];v[_]&&v[_].applyVisual(h,l,u)}}}function Mm(r,t,e,a){var i={};return T(r,function(n){var o=Ae.prepareVisualTypes(t[n]);i[n]=o}),{progress:function(o,s){var l;a!=null&&(l=s.getDimensionIndex(a));function u(b){return Cl(s,h,b)}function c(b,S){Ll(s,h,b,S)}for(var h,f=s.getStore();(h=o.next())!=null;){var d=s.getRawDataItem(h);if(!(d&&d.visualMap===!1))for(var p=a!=null?f.get(l,h):h,v=e(p),g=t[v],y=i[v],m=0,_=y.length;m<_;m++){var x=y[m];g[x]&&g[x].applyVisual(p,u,c)}}}}}var Dm=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Fe),Rm=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i){if(this.group.removeAll(),!!e.get("show")){var n=this.group,o=e.getModel("textStyle"),s=e.getModel("subtextStyle"),l=e.get("textAlign"),u=ze(e.get("textBaseline"),e.get("textVerticalAlign")),c=new xe({style:Ne(o,{text:e.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),h=c.getBoundingRect(),f=e.get("subtext"),d=new xe({style:Ne(s,{text:f,fill:s.getTextColor(),y:h.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=e.get("link"),v=e.get("sublink"),g=e.get("triggerEvent",!0);c.silent=!p&&!g,d.silent=!v&&!g,p&&c.on("click",function(){In(p,"_"+e.get("target"))}),v&&d.on("click",function(){In(v,"_"+e.get("subtarget"))}),fe(c).eventData=fe(d).eventData=g?{componentType:"title",componentIndex:e.componentIndex}:null,n.add(c),f&&n.add(d);var y=n.getBoundingRect(),m=e.getBoxLayoutParams();m.width=y.width,m.height=y.height;var _=je(m,{width:i.getWidth(),height:i.getHeight()},e.get("padding"));l||(l=e.get("left")||e.get("right"),l==="middle"&&(l="center"),l==="right"?_.x+=_.width:l==="center"&&(_.x+=_.width/2)),u||(u=e.get("top")||e.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?_.y+=_.height:u==="middle"&&(_.y+=_.height/2),u=u||"top"),n.x=_.x,n.y=_.y,n.markRedraw();var x={align:l,verticalAlign:u};c.setStyle(x),d.setStyle(x),y=n.getBoundingRect();var b=_.margin,S=e.getItemStyle(["color","opacity"]);S.fill=e.get("backgroundColor");var w=new Se({shape:{x:y.x-b[3],y:y.y-b[0],width:y.width+b[1]+b[3],height:y.height+b[0]+b[2],r:e.get("borderRadius")},style:S,subPixelOptimize:!0,silent:!0});n.add(w)}},t.type="title",t}(We);function qu(r){r.registerComponentModel(Dm),r.registerComponentView(Rm)}function Pm(r,t){if(!r)return!1;for(var e=X(r)?r:[r],a=0;a<e.length;a++)if(e[a]&&e[a][t])return!0;return!1}function ka(r){sl(r,"label",["show"])}var Ea=Ge(),ya=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return t.prototype.init=function(e,a,i){this.mergeDefaultAndTheme(e,i),this._mergeOption(e,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Le.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,a){this._mergeOption(e,a,!1,!1)},t.prototype._mergeOption=function(e,a,i,n){var o=this.mainType;i||a.eachSeries(function(s){var l=s.get(this.mainType,!0),u=Ea(s)[o];if(!l||!l.data){Ea(s)[o]=null;return}u?u._mergeOption(l,a,!0):(n&&ka(l),T(l.data,function(c){c instanceof Array?(ka(c[0]),ka(c[1])):ka(c)}),u=this.createMarkerModelFromSeries(l,this,a),re(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),Ea(s)[o]=u},this)},t.prototype.formatTooltip=function(e,a,i){var n=this.getData(),o=this.getRawValue(e),s=n.getName(e);return Ft("section",{header:this.name,blocks:[Ft("nameValue",{name:s,value:o,noName:!s,noValue:o==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.prototype.getDataParams=function(e,a){var i=Tl.prototype.getDataParams.call(this,e,a),n=this.__hostSeries;return n&&(i.seriesId=n.id,i.seriesName=n.name,i.seriesType=n.subType),i},t.getMarkerModelFromSeries=function(e,a){return Ea(e)[a]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Fe);Fi(ya,Tl.prototype);function Ri(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function km(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function Oa(r,t,e,a,i,n){var o=[],s=ca(t,a),l=s?t.getCalculationInfo("stackResultDimension"):a,u=fn(t,l,r),c=t.indicesOfNearest(l,u)[0];o[i]=t.get(e,c),o[n]=t.get(l,c);var h=t.get(a,c),f=rf(t.get(a,c));return f=Math.min(f,20),f>=0&&(o[n]=+o[n].toFixed(f)),[o,h]}var Wr={min:Q(Oa,"min"),max:Q(Oa,"max"),average:Q(Oa,"average"),median:Q(Oa,"median")};function ws(r,t){if(t){var e=r.getData(),a=r.coordinateSystem,i=a&&a.dimensions;if(!km(t)&&!X(t.coord)&&X(i)){var n=Ku(t,e,a,r);if(t=ae(t),t.type&&Wr[t.type]&&n.baseAxis&&n.valueAxis){var o=Te(i,n.baseAxis.dim),s=Te(i,n.valueAxis.dim),l=Wr[t.type](e,n.baseDataDim,n.valueDataDim,o,s);t.coord=l[0],t.value=l[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!X(i))t.coord=[];else for(var u=t.coord,c=0;c<2;c++)Wr[u[c]]&&(u[c]=fn(e,e.mapDimension(i[c]),u[c]));return t}}function Ku(r,t,e,a){var i={};return r.valueIndex!=null||r.valueDim!=null?(i.valueDataDim=r.valueIndex!=null?t.getDimension(r.valueIndex):r.valueDim,i.valueAxis=e.getAxis(Em(a,i.valueDataDim)),i.baseAxis=e.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=a.getBaseAxis(),i.valueAxis=e.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function Em(r,t){var e=r.getData().getDimensionInfo(t);return e&&e.coordDim}function As(r,t){return r&&r.containData&&t.coord&&!Ri(t)?r.containData(t.coord):!0}function a_(r,t,e){return r&&r.containZone&&t.coord&&e.coord&&!Ri(t)&&!Ri(e)?r.containZone(t.coord,e.coord):!0}function Om(r,t){return r?function(e,a,i,n){var o=n<2?e.coord&&e.coord[n]:e.value;return Mn(o,t[n])}:function(e,a,i,n){return Mn(e.value,t[n])}}function fn(r,t,e){if(e==="average"){var a=0,i=0;return r.each(t,function(n,o){isNaN(n)||(a+=n,i++)}),a/i}else return e==="median"?r.getMedian(t):r.getDataExtent(t)[e==="max"?1:0]}var Zr=Ge(),Vm=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this.markerGroupMap=Ve()},t.prototype.render=function(e,a,i){var n=this,o=this.markerGroupMap;o.each(function(s){Zr(s).keep=!1}),a.eachSeries(function(s){var l=ya.getMarkerModelFromSeries(s,n.type);l&&n.renderSeries(s,l,a,i)}),o.each(function(s){!Zr(s).keep&&n.group.remove(s.group)})},t.prototype.markKeep=function(e){Zr(e).keep=!0},t.prototype.toggleBlurSeries=function(e,a){var i=this;T(e,function(n){var o=ya.getMarkerModelFromSeries(n,i.type);if(o){var s=o.getData();s.eachItemGraphicEl(function(l){l&&(a?nf(l):of(l))})}})},t.type="marker",t}(We),Bm=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,a,i){return new t(e,a,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(ya),Va=Ge(),zm=function(r,t,e,a){var i=r.getData(),n;if(X(a))n=a;else{var o=a.type;if(o==="min"||o==="max"||o==="average"||o==="median"||a.xAxis!=null||a.yAxis!=null){var s=void 0,l=void 0;if(a.yAxis!=null||a.xAxis!=null)s=t.getAxis(a.yAxis!=null?"y":"x"),l=wt(a.yAxis,a.xAxis);else{var u=Ku(a,i,t,r);s=u.valueAxis;var c=sf(i,u.valueDataDim);l=fn(i,c,o)}var h=s.dim==="x"?0:1,f=1-h,d=ae(a),p={coord:[]};d.type=null,d.coord=[],d.coord[f]=-1/0,p.coord[f]=1/0;var v=e.get("precision");v>=0&&Qe(l)&&(l=+l.toFixed(Math.min(v,20))),d.coord[h]=p.coord[h]=l,n=[d,p,{type:o,valueIndex:a.valueIndex,value:l}]}else n=[]}var g=[ws(r,n[0]),ws(r,n[1]),re({},n[2])];return g[2].type=g[2].type||null,ie(g[2],g[0]),ie(g[2],g[1]),g};function er(r){return!isNaN(r)&&!isFinite(r)}function Cs(r,t,e,a){var i=1-r,n=a.dimensions[r];return er(t[i])&&er(e[i])&&t[r]===e[r]&&a.getAxis(n).containData(t[r])}function Nm(r,t){if(r.type==="cartesian2d"){var e=t[0].coord,a=t[1].coord;if(e&&a&&(Cs(1,e,a,r)||Cs(0,e,a,r)))return!0}return As(r,t[0])&&As(r,t[1])}function $r(r,t,e,a,i){var n=a.coordinateSystem,o=r.getItemModel(t),s,l=be(o.get("x"),i.getWidth()),u=be(o.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(a.getMarkerPosition)s=a.getMarkerPosition(r.getValues(r.dimensions,t));else{var c=n.dimensions,h=r.get(c[0],t),f=r.get(c[1],t);s=n.dataToPoint([h,f])}if(hr(n,"cartesian2d")){var d=n.getAxis("x"),p=n.getAxis("y"),c=n.dimensions;er(r.get(c[0],t))?s[0]=d.toGlobalCoord(d.getExtent()[e?0:1]):er(r.get(c[1],t))&&(s[1]=p.toGlobalCoord(p.getExtent()[e?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}r.setItemLayout(t,s)}var Hm=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,a,i){a.eachSeries(function(n){var o=ya.getMarkerModelFromSeries(n,"markLine");if(o){var s=o.getData(),l=Va(o).from,u=Va(o).to;l.each(function(c){$r(l,c,!0,n,i),$r(u,c,!1,n,i)}),s.each(function(c){s.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(n.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,a,i,n){var o=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new Pv);this.group.add(c.group);var h=Gm(o,e,a),f=h.from,d=h.to,p=h.line;Va(a).from=f,Va(a).to=d,a.setData(p);var v=a.get("symbol"),g=a.get("symbolSize"),y=a.get("symbolRotate"),m=a.get("symbolOffset");X(v)||(v=[v,v]),X(g)||(g=[g,g]),X(y)||(y=[y,y]),X(m)||(m=[m,m]),h.from.each(function(x){_(f,x,!0),_(d,x,!1)}),p.each(function(x){var b=p.getItemModel(x).getModel("lineStyle").getLineStyle();p.setItemLayout(x,[f.getItemLayout(x),d.getItemLayout(x)]),b.stroke==null&&(b.stroke=f.getItemVisual(x,"style").fill),p.setItemVisual(x,{fromSymbolKeepAspect:f.getItemVisual(x,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(x,"symbolOffset"),fromSymbolRotate:f.getItemVisual(x,"symbolRotate"),fromSymbolSize:f.getItemVisual(x,"symbolSize"),fromSymbol:f.getItemVisual(x,"symbol"),toSymbolKeepAspect:d.getItemVisual(x,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(x,"symbolOffset"),toSymbolRotate:d.getItemVisual(x,"symbolRotate"),toSymbolSize:d.getItemVisual(x,"symbolSize"),toSymbol:d.getItemVisual(x,"symbol"),style:b})}),c.updateData(p),h.line.eachItemGraphicEl(function(x){fe(x).dataModel=a,x.traverse(function(b){fe(b).dataModel=a})});function _(x,b,S){var w=x.getItemModel(b);$r(x,b,S,e,n);var A=w.getModel("itemStyle").getItemStyle();A.fill==null&&(A.fill=Il(l,"color")),x.setItemVisual(b,{symbolKeepAspect:w.get("symbolKeepAspect"),symbolOffset:ze(w.get("symbolOffset",!0),m[S?0:1]),symbolRotate:ze(w.get("symbolRotate",!0),y[S?0:1]),symbolSize:ze(w.get("symbolSize"),g[S?0:1]),symbol:ze(w.get("symbol",!0),v[S?0:1]),style:A})}this.markKeep(c),c.group.silent=a.get("silent")||e.get("silent")},t.type="markLine",t}(Vm);function Gm(r,t,e){var a;r?a=j(r&&r.dimensions,function(u){var c=t.getData().getDimensionInfo(t.getData().mapDimension(u))||{};return re(re({},c),{name:u,ordinalMeta:null})}):a=[{name:"value",type:"float"}];var i=new Na(a,e),n=new Na(a,e),o=new Na([],e),s=j(e.get("data"),Q(zm,t,r,e));r&&(s=ir(s,Q(Nm,r)));var l=Om(!!r,a);return i.initData(j(s,function(u){return u[0]}),null,l),n.initData(j(s,function(u){return u[1]}),null,l),o.initData(j(s,function(u){return u[2]})),o.hasItemOption=!0,{from:i,to:n,line:o}}function Fm(r){r.registerComponentModel(Bm),r.registerComponentView(Hm),r.registerPreprocessor(function(t){Pm(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var Wm=function(r,t){if(t==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},Pi=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,a,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,a){r.prototype.mergeOption.call(this,e,a),this._updateSelector(e)},t.prototype._updateSelector=function(e){var a=e.selector,i=this.ecModel;a===!0&&(a=e.selector=["all","inverse"]),X(a)&&T(a,function(n,o){oe(n)&&(n={type:n}),a[o]=ie(n,Wm(i,n.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var a=!1,i=0;i<e.length;i++){var n=e[i].get("name");if(this.isSelected(n)){this.select(n),a=!0;break}}!a&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var a=[],i=[];e.eachRawSeries(function(l){var u=l.name;i.push(u);var c;if(l.legendVisualProvider){var h=l.legendVisualProvider,f=h.getAllNames();e.isSeriesFiltered(l)||(i=i.concat(f)),f.length?a=a.concat(f):c=!0}else c=!0;c&&lf(l)&&a.push(l.name)}),this._availableNames=i;var n=this.get("data")||a,o=Ve(),s=j(n,function(l){return(oe(l)||Qe(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new Ye(l,this,this.ecModel))},this);this._data=ir(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var a=this.option.selected,i=this.get("selectedMode");if(i==="single"){var n=this._data;T(n,function(o){a[o.get("name")]=!1})}a[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var a=this.option.selected;a.hasOwnProperty(e)||(a[e]=!0),this[a[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,a=this.option.selected;T(e,function(i){a[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,a=this.option.selected;T(e,function(i){var n=i.get("name",!0);a.hasOwnProperty(n)||(a[n]=!0),a[n]=!a[n]})},t.prototype.isSelected=function(e){var a=this.option.selected;return!(a.hasOwnProperty(e)&&!a[e])&&Te(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Fe),Dt=Q,ki=T,Ba=se,ju=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new Ba),this.group.add(this._selectorGroup=new Ba),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,a,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var o=e.get("align"),s=e.get("orient");(!o||o==="auto")&&(o=e.get("left")==="right"&&s==="vertical"?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,e,a,i,l,s,u);var c=e.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},f=e.get("padding"),d=je(c,h,f),p=this.layoutInner(e,o,d,n,l,u),v=je(de({width:p.width,height:p.height},c),h,f);this.group.x=v.x-p.x,this.group.y=v.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Hu(p,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,a,i,n,o,s,l){var u=this.getContentGroup(),c=Ve(),h=a.get("selectedMode"),f=[];i.eachRawSeries(function(d){!d.get("legendHoverLink")&&f.push(d.id)}),ki(a.getData(),function(d,p){var v=d.get("name");if(!this.newlineDisabled&&(v===""||v===`
`)){var g=new Ba;g.newline=!0,u.add(g);return}var y=i.getSeriesByName(v)[0];if(!c.get(v))if(y){var m=y.getData(),_=m.getVisual("legendLineStyle")||{},x=m.getVisual("legendIcon"),b=m.getVisual("style"),S=this._createItem(y,v,p,d,a,e,_,b,x,h,n);S.on("click",Dt(Ls,v,null,n,f)).on("mouseover",Dt(Ei,y.name,null,n,f)).on("mouseout",Dt(Oi,y.name,null,n,f)),i.ssr&&S.eachChild(function(w){var A=fe(w);A.seriesIndex=y.seriesIndex,A.dataIndex=p,A.ssrType="legend"}),c.set(v,!0)}else i.eachRawSeries(function(w){if(!c.get(v)&&w.legendVisualProvider){var A=w.legendVisualProvider;if(!A.containName(v))return;var L=A.indexOfName(v),I=A.getItemVisual(L,"style"),C=A.getItemVisual(L,"legendIcon"),M=vl(I.fill);M&&M[3]===0&&(M[3]=.2,I=re(re({},I),{fill:Ha(M,"rgba")}));var D=this._createItem(w,v,p,d,a,e,{},I,C,h,n);D.on("click",Dt(Ls,null,v,n,f)).on("mouseover",Dt(Ei,null,v,n,f)).on("mouseout",Dt(Oi,null,v,n,f)),i.ssr&&D.eachChild(function(k){var P=fe(k);P.seriesIndex=w.seriesIndex,P.dataIndex=p,P.ssrType="legend"}),c.set(v,!0)}},this)},this),o&&this._createSelector(o,a,n,s,l)},t.prototype._createSelector=function(e,a,i,n,o){var s=this.getSelectorGroup();ki(e,function(u){var c=u.type,h=new xe({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:a.id})}});s.add(h);var f=a.getModel("selectorLabel"),d=a.getModel(["emphasis","selectorLabel"]);Lt(h,{normal:f,emphasis:d},{defaultText:u.title}),si(h)})},t.prototype._createItem=function(e,a,i,n,o,s,l,u,c,h,f){var d=e.visualDrawType,p=o.get("itemWidth"),v=o.get("itemHeight"),g=o.isSelected(a),y=n.get("symbolRotate"),m=n.get("symbolKeepAspect"),_=n.get("icon");c=_||c||"roundRect";var x=Zm(c,n,l,u,d,g,f),b=new Ba,S=n.getModel("textStyle");if(we(e.getLegendIcon)&&(!_||_==="inherit"))b.add(e.getLegendIcon({itemWidth:p,itemHeight:v,icon:c,iconRotate:y,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:m}));else{var w=_==="inherit"&&e.getData().getVisual("symbol")?y==="inherit"?e.getData().getVisual("symbolRotate"):y:0;b.add($m({itemWidth:p,itemHeight:v,icon:c,iconRotate:w,itemStyle:x.itemStyle,symbolKeepAspect:m}))}var A=s==="left"?p+5:-5,L=s,I=o.get("formatter"),C=a;oe(I)&&I?C=I.replace("{name}",a??""):we(I)&&(C=I(a));var M=g?S.getTextColor():n.get("inactiveColor");b.add(new xe({style:Ne(S,{text:C,x:A,y:v/2,fill:M,align:L,verticalAlign:"middle"},{inheritColor:M})}));var D=new Se({shape:b.getBoundingRect(),style:{fill:"transparent"}}),k=n.getModel("tooltip");return k.get("show")&&nr({el:D,componentModel:o,itemName:a,itemTooltipOption:k.option}),b.add(D),b.eachChild(function(P){P.silent=!0}),D.silent=!h,this.getContentGroup().add(b),si(b),b.__legendDataIndex=i,b},t.prototype.layoutInner=function(e,a,i,n,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();bt(e.get("orient"),l,e.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),h=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){bt("horizontal",u,e.get("selectorItemGap",!0));var f=u.getBoundingRect(),d=[-f.x,-f.y],p=e.get("selectorButtonGap",!0),v=e.getOrient().index,g=v===0?"width":"height",y=v===0?"height":"width",m=v===0?"y":"x";s==="end"?d[v]+=c[g]+p:h[v]+=f[g]+p,d[1-v]+=c[y]/2-f[y]/2,u.x=d[0],u.y=d[1],l.x=h[0],l.y=h[1];var _={x:0,y:0};return _[g]=c[g]+p+f[g],_[y]=Math.max(c[y],f[y]),_[m]=Math.min(0,f[m]+d[1-v]),_}else return l.x=h[0],l.y=h[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(We);function Zm(r,t,e,a,i,n,o){function s(g,y){g.lineWidth==="auto"&&(g.lineWidth=y.lineWidth>0?2:0),ki(g,function(m,_){g[_]==="inherit"&&(g[_]=y[_])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=r.lastIndexOf("empty",0)===0?"fill":"stroke",h=l.getShallow("decal");u.decal=!h||h==="inherit"?a.decal:uf(h,o),u.fill==="inherit"&&(u.fill=a[i]),u.stroke==="inherit"&&(u.stroke=a[c]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?a:e).opacity),s(u,a);var f=t.getModel("lineStyle"),d=f.getLineStyle();if(s(d,e),u.fill==="auto"&&(u.fill=a.fill),u.stroke==="auto"&&(u.stroke=a.fill),d.stroke==="auto"&&(d.stroke=a.fill),!n){var p=t.get("inactiveBorderWidth"),v=u[c];u.lineWidth=p==="auto"?a.lineWidth>0&&v?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),d.stroke=f.get("inactiveColor"),d.lineWidth=f.get("inactiveWidth")}return{itemStyle:u,lineStyle:d}}function $m(r){var t=r.icon||"roundRect",e=Oe(t,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return e.setStyle(r.itemStyle),e.rotation=(r.iconRotate||0)*Math.PI/180,e.setOrigin([r.itemWidth/2,r.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}function Ls(r,t,e,a){Oi(r,t,e,a),e.dispatchAction({type:"legendToggleSelect",name:r??t}),Ei(r,t,e,a)}function Qu(r){for(var t=r.getZr().storage.getDisplayList(),e,a=0,i=t.length;a<i&&!(e=t[a].states.emphasis);)a++;return e&&e.hoverLayer}function Ei(r,t,e,a){Qu(e)||e.dispatchAction({type:"highlight",seriesName:r,name:t,excludeSeriesId:a})}function Oi(r,t,e,a){Qu(e)||e.dispatchAction({type:"downplay",seriesName:r,name:t,excludeSeriesId:a})}function Xm(r){var t=r.findComponents({mainType:"legend"});t&&t.length&&r.filterSeries(function(e){for(var a=0;a<t.length;a++)if(!t[a].isSelected(e.name))return!1;return!0})}function ta(r,t,e){var a=r==="allSelect"||r==="inverseSelect",i={},n=[];e.eachComponent({mainType:"legend",query:t},function(s){a?s[r]():s[r](t.name),Ts(s,i),n.push(s.componentIndex)});var o={};return e.eachComponent("legend",function(s){T(i,function(l,u){s[l?"select":"unSelect"](u)}),Ts(s,o)}),a?{selected:o,legendIndex:n}:{name:t.name,selected:o}}function Ts(r,t){var e=t||{};return T(r.getData(),function(a){var i=a.get("name");if(!(i===`
`||i==="")){var n=r.isSelected(i);cf(e,i)?e[i]=e[i]&&n:e[i]=n}}),e}function Um(r){r.registerAction("legendToggleSelect","legendselectchanged",Q(ta,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",Q(ta,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",Q(ta,"inverseSelect")),r.registerAction("legendSelect","legendselected",Q(ta,"select")),r.registerAction("legendUnSelect","legendunselected",Q(ta,"unSelect"))}function Ju(r){r.registerComponentModel(Pi),r.registerComponentView(ju),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,Xm),r.registerSubTypeDefaulter("legend",function(){return"plain"}),Um(r)}var Ym=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,a,i){var n=Wi(e);r.prototype.init.call(this,e,a,i),Is(this,e,n)},t.prototype.mergeOption=function(e,a){r.prototype.mergeOption.call(this,e,a),Is(this,this.option,e)},t.type="legend.scroll",t.defaultOption=Ut(Pi.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(Pi);function Is(r,t,e){var a=r.getOrient(),i=[1,1];i[a.index]=0,ul(t,e,{type:"box",ignoreSize:!!i})}var Ms=se,Xr=["width","height"],Ur=["x","y"],qm=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new Ms),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Ms)},t.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,a,i,n,o,s,l){var u=this;r.prototype.renderInner.call(this,e,a,i,n,o,s,l);var c=this._controllerGroup,h=a.get("pageIconSize",!0),f=X(h)?h:[h,h];p("pagePrev",0);var d=a.getModel("pageTextStyle");c.add(new xe({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(v,g){var y=v+"DataIndex",m=Xi(a.get("pageIcons",!0)[a.getOrient().name][g],{onclick:$(u._pageGo,u,y,a,n)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});m.name=v,c.add(m)}},t.prototype.layoutInner=function(e,a,i,n,o,s){var l=this.getSelectorGroup(),u=e.getOrient().index,c=Xr[u],h=Ur[u],f=Xr[1-u],d=Ur[1-u];o&&bt("horizontal",l,e.get("selectorItemGap",!0));var p=e.get("selectorButtonGap",!0),v=l.getBoundingRect(),g=[-v.x,-v.y],y=ae(i);o&&(y[c]=i[c]-v[c]-p);var m=this._layoutContentAndController(e,n,y,u,c,f,d,h);if(o){if(s==="end")g[u]+=m[c]+p;else{var _=v[c]+p;g[u]-=_,m[h]-=_}m[c]+=v[c]+p,g[1-u]+=m[d]+m[f]/2-v[f]/2,m[f]=Math.max(m[f],v[f]),m[d]=Math.min(m[d],v[d]+g[1-u]),l.x=g[0],l.y=g[1],l.markRedraw()}return m},t.prototype._layoutContentAndController=function(e,a,i,n,o,s,l,u){var c=this.getContentGroup(),h=this._containerGroup,f=this._controllerGroup;bt(e.get("orient"),c,e.get("itemGap"),n?i.width:null,n?null:i.height),bt("horizontal",f,e.get("pageButtonItemGap",!0));var d=c.getBoundingRect(),p=f.getBoundingRect(),v=this._showController=d[o]>i[o],g=[-d.x,-d.y];a||(g[n]=c[u]);var y=[0,0],m=[-p.x,-p.y],_=ze(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(v){var x=e.get("pageButtonPosition",!0);x==="end"?m[n]+=i[o]-p[o]:y[n]+=p[o]+_}m[1-n]+=d[s]/2-p[s]/2,c.setPosition(g),h.setPosition(y),f.setPosition(m);var b={x:0,y:0};if(b[o]=v?i[o]:d[o],b[s]=Math.max(d[s],p[s]),b[l]=Math.min(0,p[l]+m[1-n]),h.__rectSize=i[o],v){var S={x:0,y:0};S[o]=Math.max(i[o]-p[o]-_,0),S[s]=b[s],h.setClipPath(new Se({shape:S})),h.__rectSize=S[o]}else f.eachChild(function(A){A.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(e);return w.pageIndex!=null&&Ie(c,{x:w.contentPosition[0],y:w.contentPosition[1]},v?e:null),this._updatePageInfoView(e,w),b},t.prototype._pageGo=function(e,a,i){var n=this._getPageInfo(a)[e];n!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:a.id})},t.prototype._updatePageInfoView=function(e,a){var i=this._controllerGroup;T(["pagePrev","pageNext"],function(c){var h=c+"DataIndex",f=a[h]!=null,d=i.childOfName(c);d&&(d.setStyle("fill",f?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),d.cursor=f?"pointer":"default")});var n=i.childOfName("pageText"),o=e.get("pageFormatter"),s=a.pageIndex,l=s!=null?s+1:0,u=a.pageCount;n&&o&&n.setStyle("text",oe(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},t.prototype._getPageInfo=function(e){var a=e.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=e.getOrient().index,s=Xr[o],l=Ur[o],u=this._findTargetItemIndex(a),c=i.children(),h=c[u],f=c.length,d=f?1:0,p={contentPosition:[i.x,i.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return p;var v=x(h);p.contentPosition[o]=-v.s;for(var g=u+1,y=v,m=v,_=null;g<=f;++g)_=x(c[g]),(!_&&m.e>y.s+n||_&&!b(_,y.s))&&(m.i>y.i?y=m:y=_,y&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=y.i),++p.pageCount)),m=_;for(var g=u-1,y=v,m=v,_=null;g>=-1;--g)_=x(c[g]),(!_||!b(m,_.s))&&y.i<m.i&&(m=y,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=y.i),++p.pageCount,++p.pageIndex),y=_;return p;function x(S){if(S){var w=S.getBoundingRect(),A=w[l]+S[l];return{s:A,e:A+w[s],i:S.__legendDataIndex}}}function b(S,w){return S.e>=w&&S.s<=w+n}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var a,i=this.getContentGroup(),n;return i.eachChild(function(o,s){var l=o.__legendDataIndex;n==null&&l!=null&&(n=s),l===e&&(a=s)}),a??n},t.type="legend.scroll",t}(ju);function Km(r){r.registerAction("legendScroll","legendscroll",function(t,e){var a=t.scrollDataIndex;a!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(a)})})}function jm(r){De(Ju),r.registerComponentModel(Ym),r.registerComponentView(qm),Km(r)}function ec(r){De(Ju),De(jm)}var Qm=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.inside",t.defaultOption=Ut(ma.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(ma),dn=Ge();function Jm(r,t,e){dn(r).coordSysRecordMap.each(function(a){var i=a.dataZoomInfoMap.get(t.uid);i&&(i.getRange=e)})}function ey(r,t){for(var e=dn(r).coordSysRecordMap,a=e.keys(),i=0;i<a.length;i++){var n=a[i],o=e.get(n),s=o.dataZoomInfoMap;if(s){var l=t.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||tc(e,o))}}}function tc(r,t){if(t){r.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function ty(r,t){var e={model:t,containsPoint:Q(ry,t),dispatchAction:Q(ay,r),dataZoomInfoMap:null,controller:null},a=e.controller=new Sv(r.getZr());return T(["pan","zoom","scrollMove"],function(i){a.on(i,function(n){var o=[];e.dataZoomInfoMap.each(function(s){if(n.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[i],u=l&&l(s.dzReferCoordSysInfo,e.model.mainType,e.controller,n);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&e.dispatchAction(o)})}),e}function ay(r,t){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function ry(r,t,e,a){return r.coordinateSystem.containPoint([e,a])}function iy(r){var t,e="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return r.each(function(n){var o=n.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;a[e+s]>a[e+t]&&(t=s),i=i&&o.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function ny(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(t,e){var a=dn(e),i=a.coordSysRecordMap||(a.coordSysRecordMap=Ve());i.each(function(n){n.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(n){var o=Bu(n);T(o.infoList,function(s){var l=s.model.uid,u=i.get(l)||i.set(l,ty(e,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Ve());c.set(n.uid,{dzReferCoordSysInfo:s,model:n,getRange:null})})}),i.each(function(n){var o=n.controller,s,l=n.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){tc(i,n);return}var c=iy(l);o.enable(c.controlType,c.opt),o.setPointerChecker(n.containsPoint),sr(n,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var oy=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return t.prototype.render=function(e,a,i){if(r.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),Jm(i,e,{pan:$(Yr.pan,this),zoom:$(Yr.zoom,this),scrollMove:$(Yr.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){ey(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(sn),Yr={zoom:function(r,t,e,a){var i=this.range,n=i.slice(),o=r.axisModels[0];if(o){var s=qr[t](null,[a.originX,a.originY],o,e,r),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(n[1]-n[0])+n[0],u=Math.max(1/a.scale,0);n[0]=(n[0]-l)*u+l,n[1]=(n[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Yt(0,n,[0,100],0,c.minSpan,c.maxSpan),this.range=n,i[0]!==n[0]||i[1]!==n[1])return n}},pan:Ds(function(r,t,e,a,i,n){var o=qr[a]([n.oldX,n.oldY],[n.newX,n.newY],t,i,e);return o.signal*(r[1]-r[0])*o.pixel/o.pixelLength}),scrollMove:Ds(function(r,t,e,a,i,n){var o=qr[a]([0,0],[n.scrollDelta,n.scrollDelta],t,i,e);return o.signal*(r[1]-r[0])*n.scrollDelta})};function Ds(r){return function(t,e,a,i){var n=this.range,o=n.slice(),s=t.axisModels[0];if(s){var l=r(o,s,t,e,a,i);if(Yt(l,o,[0,100],"all"),this.range=o,n[0]!==o[0]||n[1]!==o[1])return o}}}var qr={grid:function(r,t,e,a,i){var n=e.axis,o={},s=i.model.coordinateSystem.getRect();return r=r||[0,0],n.dim==="x"?(o.pixel=t[0]-r[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=n.inverse?1:-1):(o.pixel=t[1]-r[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=n.inverse?-1:1),o},polar:function(r,t,e,a,i){var n=e.axis,o={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return r=r?s.pointToCoord(r):[0,0],t=s.pointToCoord(t),e.mainType==="radiusAxis"?(o.pixel=t[0]-r[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=n.inverse?1:-1):(o.pixel=t[1]-r[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=n.inverse?-1:1),o},singleAxis:function(r,t,e,a,i){var n=e.axis,o=i.model.coordinateSystem.getRect(),s={};return r=r||[0,0],n.orient==="horizontal"?(s.pixel=t[0]-r[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=n.inverse?1:-1):(s.pixel=t[1]-r[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=n.inverse?-1:1),s}};function sy(r){ln(r),r.registerComponentModel(Qm),r.registerComponentView(oy),ny(r)}var ly=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Ut(ma.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(ma),aa=Se,Rs=7,uy=1,Kr=30,cy=7,ra="horizontal",Ps="vertical",hy=5,fy=["line","bar","candlestick","scatter"],dy={easing:"cubicOut",duration:100,delay:0},py=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return t.prototype.init=function(e,a){this.api=a,this._onBrush=$(this._onBrush,this),this._onBrushEnd=$(this._onBrushEnd,this)},t.prototype.render=function(e,a,i,n){if(r.prototype.render.apply(this,arguments),sr(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!n||n.type!=="dataZoom"||n.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){ja(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var a=this._displayables.sliderGroup=new se;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(a),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,a=this.api,i=e.get("brushSelect"),n=i?cy:0,o=this._findCoordRect(),s={width:a.getWidth(),height:a.getHeight()},l=this._orient===ra?{right:s.width-o.x-o.width,top:s.height-Kr-Rs-n,width:o.width,height:Kr}:{right:Rs,top:o.y,width:Kr,height:o.height},u=Wi(e.option);T(["right","top","width","height"],function(h){u[h]==="ph"&&(u[h]=l[h])});var c=je(u,s);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===Ps&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,a=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(i===ra&&!o?{scaleY:l?1:-1,scaleX:1}:i===ra&&o?{scaleY:l?1:-1,scaleX:-1}:i===Ps&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=e.getBoundingRect([s]);e.x=a.x-u.x,e.y=a.y-u.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,a=this._size,i=this._displayables.sliderGroup,n=e.get("brushSelect");i.add(new aa({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var o=new aa({shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:"transparent"},z2:0,onclick:$(this._onClickPanel,this)}),s=this.api.getZr();n?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),i.add(o)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var a=this._size,i=this._shadowSize||[],n=e.series,o=n.getRawData(),s=n.getShadowDim&&n.getShadowDim(),l=s&&o.getDimensionInfo(s)?n.getShadowDim():e.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||a[0]!==i[0]||a[1]!==i[1]){var h=o.getDataExtent(l),f=(h[1]-h[0])*.3;h=[h[0]-f,h[1]+f];var d=[0,a[1]],p=[0,a[0]],v=[[a[0],0],[0,0]],g=[],y=p[1]/(o.count()-1),m=0,_=Math.round(o.count()/a[0]),x;o.each([l],function(L,I){if(_>0&&I%_){m+=y;return}var C=L==null||isNaN(L)||L==="",M=C?0:ve(L,h,d,!0);C&&!x&&I?(v.push([v[v.length-1][0],0]),g.push([g[g.length-1][0],0])):!C&&x&&(v.push([m,0]),g.push([m,0])),v.push([m,M]),g.push([m,M]),m+=y,x=C}),u=this._shadowPolygonPts=v,c=this._shadowPolylinePts=g}this._shadowData=o,this._shadowDim=l,this._shadowSize=[a[0],a[1]];var b=this.dataZoomModel;function S(L){var I=b.getModel(L?"selectedDataBackground":"dataBackground"),C=new se,M=new wa({shape:{points:u},segmentIgnoreThreshold:1,style:I.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),D=new Sa({shape:{points:c},segmentIgnoreThreshold:1,style:I.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return C.add(M),C.add(D),C}for(var w=0;w<3;w++){var A=S(w===1);this._displayables.sliderGroup.add(A),this._displayables.dataShadowSegs.push(A)}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,a=e.get("showDataShadow");if(a!==!1){var i,n=this.ecModel;return e.eachTargetAxis(function(o,s){var l=e.getAxisProxy(o,s).getTargetSeriesModels();T(l,function(u){if(!i&&!(a!==!0&&Te(fy,u.get("type"))<0)){var c=n.getComponent(ut(o),s).axis,h=vy(o),f,d=u.coordinateSystem;h!=null&&d.getOtherAxis&&(f=d.getOtherAxis(c).inverse),h=u.getData().mapDimension(h),i={thisAxis:c,series:u,thisDim:o,otherDim:h,otherAxisInverse:f}}},this)},this),i}},t.prototype._renderHandle=function(){var e=this.group,a=this._displayables,i=a.handles=[null,null],n=a.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,h=l.get("brushSelect"),f=a.filler=new aa({silent:h,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(f),o.add(new aa({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:uy,fill:"rgba(0,0,0,0)"}})),T([0,1],function(_){var x=l.get("handleIcon");!hf[x]&&x.indexOf("path://")<0&&x.indexOf("image://")<0&&(x="path://"+x);var b=Oe(x,-1,0,2,2,null,!0);b.attr({cursor:ks(this._orient),draggable:!0,drift:$(this._onDragMove,this,_),ondragend:$(this._onDragEnd,this),onmouseover:$(this._showDataInfo,this,!0),onmouseout:$(this._showDataInfo,this,!1),z2:5});var S=b.getBoundingRect(),w=l.get("handleSize");this._handleHeight=be(w,this._size[1]),this._handleWidth=S.width/S.height*this._handleHeight,b.setStyle(l.getModel("handleStyle").getItemStyle()),b.style.strokeNoScale=!0,b.rectHover=!0,b.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),si(b);var A=l.get("handleColor");A!=null&&(b.style.fill=A),o.add(i[_]=b);var L=l.getModel("textStyle"),I=l.get("handleLabel")||{},C=I.show||!1;e.add(n[_]=new xe({silent:!0,invisible:!C,style:Ne(L,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:L.getTextColor(),font:L.getFont()}),z2:10}))},this);var d=f;if(h){var p=be(l.get("moveHandleSize"),s[1]),v=a.moveHandle=new Se({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:p}}),g=p*.8,y=a.moveHandleIcon=Oe(l.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);y.silent=!0,y.y=s[1]+p/2-.5,v.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(s[1]/2,Math.max(p,10));d=a.moveZone=new Se({invisible:!0,shape:{y:s[1]-m,height:p+m}}),d.on("mouseover",function(){u.enterEmphasis(v)}).on("mouseout",function(){u.leaveEmphasis(v)}),o.add(v),o.add(y),o.add(d)}d.attr({draggable:!0,cursor:ks(this._orient),drift:$(this._onDragMove,this,"all"),ondragstart:$(this._showDataInfo,this,!0),ondragend:$(this._onDragEnd,this),onmouseover:$(this._showDataInfo,this,!0),onmouseout:$(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),a=this._getViewExtent();this._handleEnds=[ve(e[0],[0,100],a,!0),ve(e[1],[0,100],a,!0)]},t.prototype._updateInterval=function(e,a){var i=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),s=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Yt(a,n,o,i.get("zoomLock")?"all":e,s.minSpan!=null?ve(s.minSpan,l,o,!0):null,s.maxSpan!=null?ve(s.maxSpan,l,o,!0):null);var u=this._range,c=this._range=yt([ve(n[0],o,l,!0),ve(n[1],o,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},t.prototype._updateView=function(e){var a=this._displayables,i=this._handleEnds,n=yt(i.slice()),o=this._size;T([0,1],function(d){var p=a.handles[d],v=this._handleHeight;p.attr({scaleX:v/2,scaleY:v/2,x:i[d]+(d?-1:1),y:o[1]/2-v/2})},this),a.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]});var s={x:n[0],width:n[1]-n[0]};a.moveHandle&&(a.moveHandle.setShape(s),a.moveZone.setShape(s),a.moveZone.getBoundingRect(),a.moveHandleIcon&&a.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=a.dataShadowSegs,u=[0,n[0],n[1],o[0]],c=0;c<l.length;c++){var h=l[c],f=h.getClipPath();f||(f=new Se,h.setClipPath(f)),f.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:o[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var a=this.dataZoomModel,i=this._displayables,n=i.handleLabels,o=this._orient,s=["",""];if(a.get("showDetail")){var l=a.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,h=e?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(h[0],u),this._formatLabel(h[1],u)]}}var f=yt(this._handleEnds.slice());d.call(this,0),d.call(this,1);function d(p){var v=Bt(i.handles[p].parent,this.group),g=$i(p===0?"right":"left",v),y=this._handleWidth/2+hy,m=zt([f[p]+(p===0?-y:y),this._size[1]/2],v);n[p].setStyle({x:m[0],y:m[1],verticalAlign:o===ra?"middle":g,align:o===ra?g:"center",text:s[p]})}},t.prototype._formatLabel=function(e,a){var i=this.dataZoomModel,n=i.get("labelFormatter"),o=i.get("labelPrecision");(o==null||o==="auto")&&(o=a.getPixelPrecision());var s=e==null||isNaN(e)?"":a.type==="category"||a.type==="time"?a.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(o,20));return we(n)?n(e,s):oe(n)?n.replace("{value}",s):s},t.prototype._showDataInfo=function(e){var a=this.dataZoomModel.get("handleLabel")||{},i=a.show||!1,n=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=n.get("show")||!1,s=e||this._dragging?o:i,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(e,a,i,n){this._dragging=!0,ft(n.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=zt([a,i],o,!0),l=this._updateInterval(e,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var a=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(i[0]<0||i[0]>a[0]||i[1]<0||i[1]>a[1])){var n=this._handleEnds,o=(n[0]+n[1])/2,s=this._updateInterval("all",i[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var a=e.offsetX,i=e.offsetY;this._brushStart=new ri(a,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var a=this._displayables.brushRect;if(this._brushing=!1,!!a){a.attr("ignore",!0);var i=a.shape,n=+new Date;if(!(n-this._brushStartTime<200&&Math.abs(i.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=yt([ve(i.x,o,s,!0),ve(i.x+i.width,o,s,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(ft(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,a){var i=this._displayables,n=this.dataZoomModel,o=i.brushRect;o||(o=i.brushRect=new aa({silent:!0,style:n.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(e,a),c=l.transformCoordToLocal(s.x,s.y),h=this._size;u[0]=Math.max(Math.min(h[0],u[0]),0),o.setShape({x:c[0],y:0,width:u[0]-c[0],height:h[1]})},t.prototype._dispatchZoomAction=function(e){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?dy:null,start:a[0],end:a[1]})},t.prototype._findCoordRect=function(){var e,a=Bu(this.dataZoomModel).infoList;if(!e&&a.length){var i=a[0].model.coordinateSystem;e=i.getRect&&i.getRect()}if(!e){var n=this.api.getWidth(),o=this.api.getHeight();e={x:n*.2,y:o*.2,width:n*.6,height:o*.6}}return e},t.type="dataZoom.slider",t}(sn);function vy(r){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[r]}function ks(r){return r==="vertical"?"ns-resize":"ew-resize"}function gy(r){r.registerComponentModel(ly),r.registerComponentView(py),ln(r)}function my(r){De(sy),De(gy)}var ac={get:function(r,t,e){var a=ae((yy[r]||{})[t]);return e&&X(a)?a[a.length-1]:a}},yy={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Es=Ae.mapVisual,_y=Ae.eachVisual,by=X,Os=T,xy=yt,Sy=ve,tr=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return t.prototype.init=function(e,a,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,a){var i=this.option;!a&&Im(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var a=this.stateList;e=$(e,this),this.controllerVisuals=Ss(this.option.controller,a,e),this.targetVisuals=Ss(this.option.target,a,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,a=[];return e==null||e==="all"?this.ecModel.eachSeries(function(i,n){a.push(n)}):a=ff(e),a},t.prototype.eachTargetSeries=function(e,a){T(this.getTargetSeriesIndices(),function(i){var n=this.ecModel.getSeriesByIndex(i);n&&e.call(a,n)},this)},t.prototype.isTargetSeries=function(e){var a=!1;return this.eachTargetSeries(function(i){i===e&&(a=!0)}),a},t.prototype.formatValueText=function(e,a,i){var n=this.option,o=n.precision,s=this.dataBound,l=n.formatter,u;i=i||["<",">"],X(e)&&(e=e.slice(),u=!0);var c=a?e:u?[h(e[0]),h(e[1])]:h(e);if(oe(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(we(l))return u?l(e[0],e[1]):l(e);if(u)return e[0]===s[0]?i[0]+" "+c[1]:e[1]===s[1]?i[1]+" "+c[0]:c[0]+" - "+c[1];return c;function h(f){return f===s[0]?"min":f===s[1]?"max":(+f).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var e=this.option,a=xy([e.min,e.max]);this._dataExtent=a},t.prototype.getDataDimensionIndex=function(e){var a=this.option.dimension;if(a!=null)return e.getDimensionIndex(a);for(var i=e.dimensions,n=i.length-1;n>=0;n--){var o=i[n],s=e.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,a=this.option,i={inRange:a.inRange,outOfRange:a.outOfRange},n=a.target||(a.target={}),o=a.controller||(a.controller={});ie(n,i),ie(o,i);var s=this.isCategory();l.call(this,n),l.call(this,o),u.call(this,n,"inRange","outOfRange"),c.call(this,o);function l(h){by(a.color)&&!h.inRange&&(h.inRange={color:a.color.slice().reverse()}),h.inRange=h.inRange||{color:e.get("gradientColor")}}function u(h,f,d){var p=h[f],v=h[d];p&&!v&&(v=h[d]={},Os(p,function(g,y){if(Ae.isValidType(y)){var m=ac.get(y,"inactive",s);m!=null&&(v[y]=m,y==="color"&&!v.hasOwnProperty("opacity")&&!v.hasOwnProperty("colorAlpha")&&(v.opacity=[0,0]))}}))}function c(h){var f=(h.inRange||{}).symbol||(h.outOfRange||{}).symbol,d=(h.inRange||{}).symbolSize||(h.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),v=this.getItemSymbol(),g=v||"roundRect";Os(this.stateList,function(y){var m=this.itemSize,_=h[y];_||(_=h[y]={color:s?p:[p]}),_.symbol==null&&(_.symbol=f&&ae(f)||(s?g:[g])),_.symbolSize==null&&(_.symbolSize=d&&ae(d)||(s?m[0]:[m[0],m[0]])),_.symbol=Es(_.symbol,function(S){return S==="none"?g:S});var x=_.symbolSize;if(x!=null){var b=-1/0;_y(x,function(S){S>b&&(b=S)}),_.symbolSize=Es(x,function(S){return Sy(S,[0,b],[0,m[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Fe),Vs=[20,140],wy=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(e,a){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=Vs[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=Vs[1])},t.prototype._resetRange=function(){var e=this.getExtent(),a=this.option.range;!a||a.auto?(e.auto=1,this.option.range=e):X(a)&&(a[0]>a[1]&&a.reverse(),a[0]=Math.max(a[0],e[0]),a[1]=Math.min(a[1],e[1]))},t.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),T(this.stateList,function(e){var a=this.option.controller[e].symbolSize;a&&a[0]!==a[1]&&(a[0]=a[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),a=yt((this.get("range")||[]).slice());return a[0]>e[1]&&(a[0]=e[1]),a[1]>e[1]&&(a[1]=e[1]),a[0]<e[0]&&(a[0]=e[0]),a[1]<e[0]&&(a[1]=e[0]),a},t.prototype.getValueState=function(e){var a=this.option.range,i=this.getExtent();return(a[0]<=i[0]||a[0]<=e)&&(a[1]>=i[1]||e<=a[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var a=[];return this.eachTargetSeries(function(i){var n=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(s,l){e[0]<=s&&s<=e[1]&&n.push(l)},this),a.push({seriesId:i.id,dataIndex:n})},this),a},t.prototype.getVisualMeta=function(e){var a=Bs(this,"outOfRange",this.getExtent()),i=Bs(this,"inRange",this.option.range.slice()),n=[];function o(d,p){n.push({value:d,color:e(d,p)})}for(var s=0,l=0,u=i.length,c=a.length;l<c&&(!i.length||a[l]<=i[0]);l++)a[l]<i[s]&&o(a[l],"outOfRange");for(var h=1;s<u;s++,h=0)h&&n.length&&o(i[s],"outOfRange"),o(i[s],"inRange");for(var h=1;l<c;l++)(!i.length||i[i.length-1]<a[l])&&(h&&(n.length&&o(n[n.length-1].value,"outOfRange"),h=0),o(a[l],"outOfRange"));var f=n.length;return{stops:n,outerColors:[f?n[0].color:"transparent",f?n[f-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Ut(tr.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(tr);function Bs(r,t,e){if(e[0]===e[1])return e.slice();for(var a=200,i=(e[1]-e[0])/a,n=e[0],o=[],s=0;s<=a&&n<e[1];s++)o.push(n),n+=i;return o.push(e[1]),o}var rc=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return t.prototype.init=function(e,a){this.ecModel=e,this.api=a},t.prototype.render=function(e,a,i,n){if(this.visualMapModel=e,e.get("show")===!1){this.group.removeAll();return}this.doRender(e,a,i,n)},t.prototype.renderBackground=function(e){var a=this.visualMapModel,i=lr(a.get("padding")||0),n=e.getBoundingRect();e.add(new Se({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:a.get("backgroundColor"),stroke:a.get("borderColor"),lineWidth:a.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,a,i){i=i||{};var n=i.forceState,o=this.visualMapModel,s={};if(a==="color"){var l=o.get("contentColor");s.color=l}function u(d){return s[d]}function c(d,p){s[d]=p}var h=o.controllerVisuals[n||o.getValueState(e)],f=Ae.prepareVisualTypes(h);return T(f,function(d){var p=h[d];i.convertOpacityToAlpha&&d==="opacity"&&(d="colorAlpha",p=h.__alphaForOpacity),Ae.dependsOn(d,a)&&p&&p.applyVisual(e,u,c)}),s[a]},t.prototype.positionGroup=function(e){var a=this.visualMapModel,i=this.api;bl(e,a.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(e,a,i,n){},t.type="visualMap",t}(We),zs=[["left","right","width"],["top","bottom","height"]];function ic(r,t,e){var a=r.option,i=a.align;if(i!=null&&i!=="auto")return i;for(var n={width:t.getWidth(),height:t.getHeight()},o=a.orient==="horizontal"?1:0,s=zs[o],l=[0,null,10],u={},c=0;c<3;c++)u[zs[1-o][c]]=l[c],u[s[c]]=c===2?e[0]:a[s[c]];var h=[["x","width",3],["y","height",0]][o],f=je(u,n,a.padding);return s[(f.margin[h[2]]||0)+f[h[0]]+f[h[1]]*.5<n[h[1]]*.5?0:1]}function Wa(r,t){return T(r||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),r}var $e=ve,Ay=T,Ns=Math.min,jr=Math.max,Cy=12,Ly=6,Ty=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return t.prototype.init=function(e,a){r.prototype.init.call(this,e,a),this._hoverLinkFromSeriesMouseOver=$(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=$(this._hideIndicator,this)},t.prototype.doRender=function(e,a,i,n){(!n||n.type!=="selectDataRange"||n.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,a=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(a);var i=e.get("text");this._renderEndsText(a,i,0),this._renderEndsText(a,i,1),this._updateView(!0),this.renderBackground(a),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(a)},t.prototype._renderEndsText=function(e,a,i){if(a){var n=a[1-i];n=n!=null?n+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,i===0?-s:l[1]+s],u),h=this._applyTransform(i===0?"bottom":"top",u),f=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new xe({style:Ne(d,{x:c[0],y:c[1],verticalAlign:f==="horizontal"?"middle":h,align:f==="horizontal"?h:"center",text:n})}))}},t.prototype._renderBar=function(e){var a=this.visualMapModel,i=this._shapes,n=a.itemSize,o=this._orient,s=this._useHandle,l=ic(a,this.api,n),u=i.mainGroup=this._createBarGroup(l),c=new se;u.add(c),c.add(i.outOfRange=Hs()),c.add(i.inRange=Hs(null,s?Fs(this._orient):null,$(this._dragHandle,this,"all",!1),$(this._dragHandle,this,"all",!0))),c.setClipPath(new Se({shape:{x:0,y:0,width:n[0],height:n[1],r:3}}));var h=a.textStyleModel.getTextRect("国"),f=jr(h.width,h.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(a,u,0,n,f,o),this._createHandle(a,u,1,n,f,o)),this._createIndicator(a,u,n,f,o),e.add(u)},t.prototype._createHandle=function(e,a,i,n,o,s){var l=$(this._dragHandle,this,i,!1),u=$(this._dragHandle,this,i,!0),c=ti(e.get("handleSize"),n[0]),h=Oe(e.get("handleIcon"),-c/2,-c/2,c,c,null,!0),f=Fs(this._orient);h.attr({cursor:f,draggable:!0,drift:l,ondragend:u,onmousemove:function(y){ft(y.event)}}),h.x=n[0]/2,h.useStyle(e.getModel("handleStyle").getItemStyle()),h.setStyle({strokeNoScale:!0,strokeFirst:!0}),h.style.lineWidth*=2,h.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),df(h,!0),a.add(h);var d=this.visualMapModel.textStyleModel,p=new xe({cursor:f,draggable:!0,drift:l,onmousemove:function(y){ft(y.event)},ondragend:u,style:Ne(d,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var v=[c,0],g=this._shapes;g.handleThumbs[i]=h,g.handleLabelPoints[i]=v,g.handleLabels[i]=p},t.prototype._createIndicator=function(e,a,i,n,o){var s=ti(e.get("indicatorSize"),i[0]),l=Oe(e.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=e.getModel("indicatorStyle").getItemStyle();if(l instanceof Hi){var c=l.style;l.useStyle(re({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);a.add(l);var h=this.visualMapModel.textStyleModel,f=new xe({silent:!0,invisible:!0,style:Ne(h,{x:0,y:0,text:""})});this.group.add(f);var d=[(o==="horizontal"?n/2:Ly)+i[0]/2,0],p=this._shapes;p.indicator=l,p.indicatorLabel=f,p.indicatorLabelPoint=d,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,a,i,n){if(this._useHandle){if(this._dragging=!a,!a){var o=this._applyTransform([i,n],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),this._updateView()}a===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),a?!this._hovering&&this._clearHoverLinkToSeries():Gs(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,a=this._dataInterval=e.getSelected(),i=e.getExtent(),n=[0,e.itemSize[1]];this._handleEnds=[$e(a[0],i,n,!0),$e(a[1],i,n,!0)]},t.prototype._updateInterval=function(e,a){a=a||0;var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];Yt(a,n,o,e,0);var s=i.getExtent();this._dataInterval=[$e(n[0],o,s,!0),$e(n[1],o,s,!0)]},t.prototype._updateView=function(e){var a=this.visualMapModel,i=a.getExtent(),n=this._shapes,o=[0,a.itemSize[1]],s=e?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,s,"inRange"),u=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),n.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(e,a,i,n){var o={forceState:n,convertOpacityToAlpha:!0},s=this._makeColorGradient(e,o),l=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],u=this._createBarPoints(i,l);return{barColor:new ol(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(e,a){var i=100,n=[],o=(e[1]-e[0])/i;n.push({color:this.getControllerVisual(e[0],"color",a),offset:0});for(var s=1;s<i;s++){var l=e[0]+o*s;if(l>e[1])break;n.push({color:this.getControllerVisual(l,"color",a),offset:s/i})}return n.push({color:this.getControllerVisual(e[1],"color",a),offset:1}),n},t.prototype._createBarPoints=function(e,a){var i=this.visualMapModel.itemSize;return[[i[0]-a[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-a[1],e[1]]]},t.prototype._createBarGroup=function(e){var a=this._orient,i=this.visualMapModel.get("inverse");return new se(a==="horizontal"&&!i?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:a==="horizontal"&&i?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:a==="vertical"&&!i?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})},t.prototype._updateHandle=function(e,a){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,s=i.handleLabels,l=n.itemSize,u=n.getExtent(),c=this._applyTransform("left",i.mainGroup);Ay([0,1],function(h){var f=o[h];f.setStyle("fill",a.handlesColor[h]),f.y=e[h];var d=$e(e[h],[0,l[1]],u,!0),p=this.getControllerVisual(d,"symbolSize");f.scaleX=f.scaleY=p/l[0],f.x=l[0]-p/2;var v=zt(i.handleLabelPoints[h],Bt(f,this.group));if(this._orient==="horizontal"){var g=c==="left"||c==="top"?(l[0]-p)/2:(l[0]-p)/-2;v[1]+=g}s[h].setStyle({x:v[0],y:v[1],text:n.formatValueText(this._dataInterval[h]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,a,i,n){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],c=this._shapes,h=c.indicator;if(h){h.attr("invisible",!1);var f={convertOpacityToAlpha:!0},d=this.getControllerVisual(e,"color",f),p=this.getControllerVisual(e,"symbolSize"),v=$e(e,s,u,!0),g=l[0]-p/2,y={x:h.x,y:h.y};h.y=v,h.x=g;var m=zt(c.indicatorLabelPoint,Bt(h,this.group)),_=c.indicatorLabel;_.attr("invisible",!1);var x=this._applyTransform("left",c.mainGroup),b=this._orient,S=b==="horizontal";_.setStyle({text:(i||"")+o.formatValueText(a),verticalAlign:S?x:"middle",align:S?"center":x});var w={x:g,y:v,style:{fill:d}},A={style:{x:m[0],y:m[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var L={duration:100,easing:"cubicInOut",additive:!0};h.x=y.x,h.y=y.y,h.animateTo(w,L),_.animateTo(A,L)}else h.attr(w),_.attr(A);this._firstShowIndicator=!1;var I=this._shapes.handleLabels;if(I)for(var C=0;C<I.length;C++)this.api.enterBlur(I[C])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(a){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,n=e._applyTransform([a.offsetX,a.offsetY],e._shapes.mainGroup,!0,!0);n[1]=Ns(jr(0,n[1]),i[1]),e._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,a){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var o=[0,n[1]],s=i.getExtent();e=Ns(jr(o[0],e),o[1]);var l=Iy(i,s,o),u=[e-l,e+l],c=$e(e,o,s,!0),h=[$e(u[0],o,s,!0),$e(u[1],o,s,!0)];u[0]<o[0]&&(h[0]=-1/0),u[1]>o[1]&&(h[1]=1/0),a&&(h[0]===-1/0?this._showIndicator(c,h[1],"< ",l):h[1]===1/0?this._showIndicator(c,h[0],"> ",l):this._showIndicator(c,c,"≈ ",l));var f=this._hoverLinkDataIndices,d=[];(a||Gs(i))&&(d=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var p=pf(f,d);this._dispatchHighDown("downplay",Wa(p[0],i)),this._dispatchHighDown("highlight",Wa(p[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var a;if(Al(e.target,function(l){var u=fe(l);if(u.dataIndex!=null)return a=u,!0},!0),!!a){var i=this.ecModel.getSeriesByIndex(a.seriesIndex),n=this.visualMapModel;if(n.isTargetSeries(i)){var o=i.getData(a.dataType),s=o.getStore().get(n.getDataDimensionIndex(o),a.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var a=this._shapes.handleLabels;if(a)for(var i=0;i<a.length;i++)this.api.leaveBlur(a[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Wa(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,a,i,n){var o=Bt(a,n?null:this.group);return X(e)?zt(e,o,i):$i(e,o,i)},t.prototype._dispatchHighDown=function(e,a){a&&a.length&&this.api.dispatchAction({type:e,batch:a})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(rc);function Hs(r,t,e,a){return new wa({shape:{points:r},draggable:!!e,cursor:t,drift:e,onmousemove:function(i){ft(i.event)},ondragend:a})}function Iy(r,t,e){var a=Cy/2,i=r.get("hoverLinkDataSize");return i&&(a=$e(i,t,e,!0)/2),a}function Gs(r){var t=r.get("hoverLinkOnHandle");return!!(t??r.get("realtime"))}function Fs(r){return r==="vertical"?"ns-resize":"ew-resize"}var My={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Dy=function(r,t){t.eachComponent({mainType:"visualMap",query:r},function(e){e.setSelected(r.selected)})},Ry=[{createOnAllSeries:!0,reset:function(r,t){var e=[];return t.eachComponent("visualMap",function(a){var i=r.pipelineContext;!a.isTargetSeries(r)||i&&i.large||e.push(Mm(a.stateList,a.targetVisuals,$(a.getValueState,a),a.getDataDimensionIndex(r.getData())))}),e}},{createOnAllSeries:!0,reset:function(r,t){var e=r.getData(),a=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(r)){var n=i.getVisualMeta($(Py,null,r,i))||{stops:[],outerColors:[]},o=i.getDataDimensionIndex(e);o>=0&&(n.dimension=o,a.push(n))}}),r.getData().setVisual("visualMeta",a)}}];function Py(r,t,e,a){for(var i=t.targetVisuals[a],n=Ae.prepareVisualTypes(i),o={color:Il(r.getData(),"color")},s=0,l=n.length;s<l;s++){var u=n[s],c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(e,h,f)}return o.color;function h(d){return o[d]}function f(d,p){o[d]=p}}var Ws=T;function ky(r){var t=r&&r.visualMap;X(t)||(t=t?[t]:[]),Ws(t,function(e){if(e){Rt(e,"splitList")&&!Rt(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var a=e.pieces;a&&X(a)&&Ws(a,function(i){Ce(i)&&(Rt(i,"start")&&!Rt(i,"min")&&(i.min=i.start),Rt(i,"end")&&!Rt(i,"max")&&(i.max=i.end))})}})}function Rt(r,t){return r&&r.hasOwnProperty&&r.hasOwnProperty(t)}var Zs=!1;function nc(r){Zs||(Zs=!0,r.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),r.registerAction(My,Dy),T(Ry,function(t){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,t)}),r.registerPreprocessor(ky))}function Ey(r){r.registerComponentModel(wy),r.registerComponentView(Ty),nc(r)}var Oy=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return t.prototype.optionUpdated=function(e,a){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],Vy[this._mode].call(this,this._pieceList),this._resetSelected(e,a);var n=this.option.categories;this.resetVisual(function(o,s){i==="categories"?(o.mappingMethod="category",o.categories=ae(n)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=j(this._pieceList,function(l){return l=ae(l),s!=="inRange"&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var e=this.option,a={},i=Ae.listVisualTypes(),n=this.isCategory();T(e.pieces,function(s){T(i,function(l){s.hasOwnProperty(l)&&(a[l]=1)})}),T(a,function(s,l){var u=!1;T(this.stateList,function(c){u=u||o(e,c,l)||o(e.target,c,l)},this),!u&&T(this.stateList,function(c){(e[c]||(e[c]={}))[l]=ac.get(l,c==="inRange"?"active":"inactive",n)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}r.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,a){var i=this.option,n=this._pieceList,o=(a?i:e).selected||{};if(i.selected=o,T(n,function(l,u){var c=this.getSelectedMapKey(l);o.hasOwnProperty(c)||(o[c]=!0)},this),i.selectedMode==="single"){var s=!1;T(n,function(l,u){var c=this.getSelectedMapKey(l);o[c]&&(s?o[c]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=ae(e)},t.prototype.getValueState=function(e){var a=Ae.findPieceIndex(e,this._pieceList);return a!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[a])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var a=[],i=this._pieceList;return this.eachTargetSeries(function(n){var o=[],s=n.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=Ae.findPieceIndex(l,i);c===e&&o.push(u)},this),a.push({seriesId:n.id,dataIndex:o})},this),a},t.prototype.getRepresentValue=function(e){var a;if(this.isCategory())a=e.value;else if(e.value!=null)a=e.value;else{var i=e.interval||[];a=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return a},t.prototype.getVisualMeta=function(e){if(this.isCategory())return;var a=[],i=["",""],n=this;function o(c,h){var f=n.getRepresentValue({interval:c});h||(h=n.getValueState(f));var d=e(f,h);c[0]===-1/0?i[0]=d:c[1]===1/0?i[1]=d:a.push({value:c[0],color:d},{value:c[1],color:d})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return T(s,function(c){var h=c.interval;h&&(h[0]>u&&o([u,h[0]],"outOfRange"),o(h.slice()),u=h[1])},this),{stops:a,outerColors:i}},t.type="visualMap.piecewise",t.defaultOption=Ut(tr.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(tr),Vy={splitNumber:function(r){var t=this.option,e=Math.min(t.precision,20),a=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var n=(a[1]-a[0])/i;+n.toFixed(e)!==n&&e<5;)e++;t.precision=e,n=+n.toFixed(e),t.minOpen&&r.push({interval:[-1/0,a[0]],close:[0,0]});for(var o=0,s=a[0];o<i;s+=n,o++){var l=o===i-1?a[1]:s+n;r.push({interval:[s,l],close:[1,1]})}t.maxOpen&&r.push({interval:[a[1],1/0],close:[0,0]}),Dn(r),T(r,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(r){var t=this.option;T(t.categories,function(e){r.push({text:this.formatValueText(e,!0),value:e})},this),$s(t,r)},pieces:function(r){var t=this.option;T(t.pieces,function(e,a){Ce(e)||(e={value:e});var i={text:"",index:a};if(e.label!=null&&(i.text=e.label),e.hasOwnProperty("value")){var n=i.value=e.value;i.interval=[n,n],i.close=[1,1]}else{for(var o=i.interval=[],s=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],h=0;h<2;h++){for(var f=[["gte","gt","min"],["lte","lt","max"]][h],d=0;d<3&&o[h]==null;d++)o[h]=e[f[d]],s[h]=l[d],c[h]=d===2;o[h]==null&&(o[h]=u[h])}c[0]&&o[1]===1/0&&(s[0]=0),c[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(i.value=o[0])}i.visual=Ae.retrieveVisuals(e),r.push(i)},this),$s(t,r),Dn(r),T(r,function(e){var a=e.close,i=[["<","≤"][a[1]],[">","≥"][a[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,!1,i)},this)}};function $s(r,t){var e=r.inverse;(r.orient==="vertical"?!e:e)&&t.reverse()}var By=function(r){O(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.doRender=function(){var e=this.group;e.removeAll();var a=this.visualMapModel,i=a.get("textGap"),n=a.textStyleModel,o=n.getFont(),s=n.getTextColor(),l=this._getItemAlign(),u=a.itemSize,c=this._getViewData(),h=c.endsText,f=wt(a.get("showLabel",!0),!h),d=!a.get("selectedMode");h&&this._renderEndsText(e,h[0],u,f,l),T(c.viewPieceList,function(p){var v=p.piece,g=new se;g.onclick=$(this._onItemClick,this,v),this._enableHoverLink(g,p.indexInModelPieceList);var y=a.getRepresentValue(v);if(this._createItemSymbol(g,y,[0,0,u[0],u[1]],d),f){var m=this.visualMapModel.getValueState(y);g.add(new xe({style:{x:l==="right"?-i:u[0]+i,y:u[1]/2,text:v.text,verticalAlign:"middle",align:l,font:o,fill:s,opacity:m==="outOfRange"?.5:1},silent:d}))}e.add(g)},this),h&&this._renderEndsText(e,h[1],u,f,l),bt(a.get("orient"),e,a.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,a){var i=this;e.on("mouseover",function(){return n("highlight")}).on("mouseout",function(){return n("downplay")});var n=function(o){var s=i.visualMapModel;s.option.hoverLink&&i.api.dispatchAction({type:o,batch:Wa(s.findTargetDataIndices(a),s)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,a=e.option;if(a.orient==="vertical")return ic(e,this.api,e.itemSize);var i=a.align;return(!i||i==="auto")&&(i="left"),i},t.prototype._renderEndsText=function(e,a,i,n,o){if(a){var s=new se,l=this.visualMapModel.textStyleModel;s.add(new xe({style:Ne(l,{x:n?o==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:n?o:"center",text:a})})),e.add(s)}},t.prototype._getViewData=function(){var e=this.visualMapModel,a=j(e.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),i=e.get("text"),n=e.get("orient"),o=e.get("inverse");return(n==="horizontal"?o:!o)?a.reverse():i&&(i=i.slice().reverse()),{viewPieceList:a,endsText:i}},t.prototype._createItemSymbol=function(e,a,i,n){var o=Oe(this.getControllerVisual(a,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(a,"color"));o.silent=n,e.add(o)},t.prototype._onItemClick=function(e){var a=this.visualMapModel,i=a.option,n=i.selectedMode;if(n){var o=ae(i.selected),s=a.getSelectedMapKey(e);n==="single"||n===!0?(o[s]=!0,T(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t}(rc);function zy(r){r.registerComponentModel(Oy),r.registerComponentView(By),nc(r)}function Ny(r){De(Ey),De(zy)}function Xs(r,t,e){var a=vf.createCanvas(),i=t.getWidth(),n=t.getHeight(),o=a.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=n+"px",a.setAttribute("data-zr-dom-id",r)),a.width=i*e,a.height=n*e,a}var Qr=function(r){O(t,r);function t(e,a,i){var n=r.call(this)||this;n.motionBlur=!1,n.lastFrameAlpha=.7,n.dpr=1,n.virtual=!1,n.config={},n.incremental=!1,n.zlevel=0,n.maxRepaintRectCount=5,n.__dirty=!0,n.__firstTimePaint=!0,n.__used=!1,n.__drawIndex=0,n.__startIndex=0,n.__endIndex=0,n.__prevStartIndex=null,n.__prevEndIndex=null;var o;i=i||Dl,typeof e=="string"?o=Xs(e,a,i):Ce(e)&&(o=e,e=o.id),n.id=e,n.dom=o;var s=o.style;return s&&(Ml(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),n.painter=a,n.dpr=i,n}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=Xs("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,a,i,n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new mt(0,0,0,0);function c(m){if(!(!m.isFinite()||m.isZero()))if(o.length===0){var _=new mt(0,0,0,0);_.copy(m),o.push(_)}else{for(var x=!1,b=1/0,S=0,w=0;w<o.length;++w){var A=o[w];if(A.intersect(m)){var L=new mt(0,0,0,0);L.copy(A),L.union(m),o[w]=L,x=!0;break}else if(l){u.copy(m),u.union(A);var I=m.width*m.height,C=A.width*A.height,M=u.width*u.height,D=M-I-C;D<b&&(b=D,S=w)}}if(l&&(o[S].union(m),x=!0),!x){var _=new mt(0,0,0,0);_.copy(m),o.push(_)}l||(l=o.length>=s)}}for(var h=this.__startIndex;h<this.__endIndex;++h){var f=e[h];if(f){var d=f.shouldBePainted(i,n,!0,!0),p=f.__isRendered&&(f.__dirty&li||!d)?f.getPrevPaintRect():null;p&&c(p);var v=d&&(f.__dirty&li||!f.__isRendered)?f.getPaintRect():null;v&&c(v)}}for(var h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var f=a[h],d=f&&f.shouldBePainted(i,n,!0,!0);if(f&&(!d||!f.__zr)&&f.__isRendered){var p=f.getPrevPaintRect();p&&c(p)}}var g;do{g=!1;for(var h=0;h<o.length;){if(o[h].isZero()){o.splice(h,1);continue}for(var y=h+1;y<o.length;)o[h].intersect(o[y])?(g=!0,o[h].union(o[y]),o.splice(y,1)):y++;h++}}while(g);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,a){var i=this.dpr,n=this.dom,o=n.style,s=this.domBack;o&&(o.width=e+"px",o.height=a+"px"),n.width=e*i,n.height=a*i,s&&(s.width=e*i,s.height=a*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(e,a,i){var n=this.dom,o=this.ctx,s=n.width,l=n.height;a=a||this.clearColor;var u=this.motionBlur&&!e,c=this.lastFrameAlpha,h=this.dpr,f=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,s/h,l/h));var d=this.domBack;function p(v,g,y,m){if(o.clearRect(v,g,y,m),a&&a!=="transparent"){var _=void 0;if(gf(a)){var x=a.global||a.__width===y&&a.__height===m;_=x&&a.__canvasGradient||mf(o,a,{x:0,y:0,width:y,height:m}),a.__canvasGradient=_,a.__width=y,a.__height=m}else yf(a)&&(a.scaleX=a.scaleX||h,a.scaleY=a.scaleY||h,_=_f(o,a,{dirty:function(){f.setUnpainted(),f.painter.refresh()}}));o.save(),o.fillStyle=_||a,o.fillRect(v,g,y,m),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(d,v,g,y,m),o.restore())}!i||u?p(0,0,s,l):i.length&&T(i,function(v){p(v.x*h,v.y*h,v.width*h,v.height*h)})},t}(Zi),Us=1e5,pt=314159,za=.01,Hy=.001;function Gy(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function Fy(r,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+r+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}var Wy=function(){function r(t,e,a,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var n=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=a=re({},a||{}),this.dpr=a.devicePixelRatio||Dl,this._singleCanvas=n,this.root=t;var o=t.style;o&&(Ml(t),t.innerHTML=""),this.storage=e;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(n){var c=t,h=c.width,f=c.height;a.width!=null&&(h=a.width),a.height!=null&&(f=a.height),this.dpr=a.devicePixelRatio||1,c.width=h*this.dpr,c.height=f*this.dpr,this._width=h,this._height=f;var d=new Qr(c,this,this.dpr);d.__builtin__=!0,d.initContext(),l[pt]=d,d.zlevel=pt,s.push(pt),this._domRoot=t}else{this._width=Ca(t,0,a),this._height=Ca(t,1,a);var u=this._domRoot=Fy(this._width,this._height);t.appendChild(u)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),a=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,a,t,this._redrawId);for(var n=0;n<i.length;n++){var o=i[n],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=n===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(t){var e=t.length,a=this._hoverlayer;if(a&&a.clear(),!!e){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},n,o=0;o<e;o++){var s=t[o];s.__inHover&&(a||(a=this._hoverlayer=this.getLayer(Us)),n||(n=a.ctx,n.save()),Aa(n,s,i,o===e-1))}n&&n.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(Us)},r.prototype.paintOne=function(t,e){bf(t,e)},r.prototype._paintList=function(t,e,a,i){if(this._redrawId===i){a=a||!1,this._updateLayerStatus(t);var n=this._doPaintList(t,e,a),o=n.finished,s=n.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;xf(function(){l._paintList(t,e,a,i)})}}},r.prototype._compositeManually=function(){var t=this.getLayer(pt).ctx,e=this._domRoot.width,a=this._domRoot.height;t.clearRect(0,0,e,a),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,e,a)})},r.prototype._doPaintList=function(t,e,a){for(var i=this,n=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||a)&&n.push(u)}for(var c=!0,h=!1,f=function(v){var g=n[v],y=g.ctx,m=o&&g.createRepaintRects(t,e,d._width,d._height),_=a?g.__startIndex:g.__drawIndex,x=!a&&g.incremental&&Date.now,b=x&&Date.now(),S=g.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(g.__startIndex===g.__endIndex)g.clear(!1,S,m);else if(_===g.__startIndex){var w=t[_];(!w.incremental||!w.notClear||a)&&g.clear(!1,S,m)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=g.__startIndex);var A,L=function(D){var k={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(A=_;A<g.__endIndex;A++){var P=t[A];if(P.__inHover&&(h=!0),i._doPaintEl(P,g,o,D,k,A===g.__endIndex-1),x){var B=Date.now()-b;if(B>15)break}}k.prevElClipPaths&&y.restore()};if(m)if(m.length===0)A=g.__endIndex;else for(var I=d.dpr,C=0;C<m.length;++C){var M=m[C];y.save(),y.beginPath(),y.rect(M.x*I,M.y*I,M.width*I,M.height*I),y.clip(),L(M),y.restore()}else y.save(),L(),y.restore();g.__drawIndex=A,g.__drawIndex<g.__endIndex&&(c=!1)},d=this,p=0;p<n.length;p++)f(p);return Le.wxa&&T(this._layers,function(v){v&&v.ctx&&v.ctx.draw&&v.ctx.draw()}),{finished:c,needsRefreshHover:h}},r.prototype._doPaintEl=function(t,e,a,i,n,o){var s=e.ctx;if(a){var l=t.getPaintRect();(!i||l&&l.intersect(i))&&(Aa(s,t,n,o),t.setPrevPaintRect(l))}else Aa(s,t,n,o)},r.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=pt);var a=this._layers[t];return a||(a=new Qr("zr_"+t,this,this.dpr),a.zlevel=t,a.__builtin__=!0,this._layerConfig[t]?ie(a,this._layerConfig[t],!0):this._layerConfig[t-za]&&ie(a,this._layerConfig[t-za],!0),e&&(a.virtual=e),this.insertLayer(t,a),a.initContext()),a},r.prototype.insertLayer=function(t,e){var a=this._layers,i=this._zlevelList,n=i.length,o=this._domRoot,s=null,l=-1;if(!a[t]&&Gy(e)){if(n>0&&t>i[0]){for(l=0;l<n-1&&!(i[l]<t&&i[l+1]>t);l++);s=a[i[l]]}if(i.splice(l+1,0,t),a[t]=e,!e.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(e.dom,u.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.painter||(e.painter=this)}},r.prototype.eachLayer=function(t,e){for(var a=this._zlevelList,i=0;i<a.length;i++){var n=a[i];t.call(e,this._layers[n],n)}},r.prototype.eachBuiltinLayer=function(t,e){for(var a=this._zlevelList,i=0;i<a.length;i++){var n=a[i],o=this._layers[n];o.__builtin__&&t.call(e,o,n)}},r.prototype.eachOtherLayer=function(t,e){for(var a=this._zlevelList,i=0;i<a.length;i++){var n=a[i],o=this._layers[n];o.__builtin__||t.call(e,o,n)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(h,f){h.__dirty=h.__used=!1});function e(h){n&&(n.__endIndex!==h&&(n.__dirty=!0),n.__endIndex=h)}if(this._singleCanvas)for(var a=1;a<t.length;a++){var i=t[a];if(i.zlevel!==t[a-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var n=null,o=0,s,l;for(l=0;l<t.length;l++){var i=t[l],u=i.zlevel,c=void 0;s!==u&&(s=u,o=0),i.incremental?(c=this.getLayer(u+Hy,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(u+(o>0?za:0),this._needsManuallyCompositing),c.__builtin__||Sf("ZLevel "+u+" has been used by unkown layer "+c.id),c!==n&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,e(l),n=c),i.__dirty&li&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}e(l),this.eachBuiltinLayer(function(h,f){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(t){t.clear()},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t,T(this._layers,function(e){e.setUnpainted()})},r.prototype.configLayer=function(t,e){if(e){var a=this._layerConfig;a[t]?ie(a[t],e,!0):a[t]=e;for(var i=0;i<this._zlevelList.length;i++){var n=this._zlevelList[i];if(n===t||n===t+za){var o=this._layers[n];ie(o,a[t],!0)}}}},r.prototype.delLayer=function(t){var e=this._layers,a=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],a.splice(Te(a,t),1))},r.prototype.resize=function(t,e){if(this._domRoot.style){var a=this._domRoot;a.style.display="none";var i=this._opts,n=this.root;if(t!=null&&(i.width=t),e!=null&&(i.height=e),t=Ca(n,0,i),e=Ca(n,1,i),a.style.display="",this._width!==t||e!==this._height){a.style.width=t+"px",a.style.height=e+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(t==null||e==null)return;this._width=t,this._height=e,this.getLayer(pt).resize(t,e)}return this},r.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[pt].dom;var e=new Qr("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var a=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,n=e.dom.height;this.eachLayer(function(h){h.__builtin__?a.drawImage(h.dom,0,0,i,n):h.renderToCanvas&&(a.save(),h.renderToCanvas(a),a.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];Aa(a,c,o,l===u-1)}return e.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r}();function oc(r){r.registerPainter("canvas",Wy)}const Zy=(r,t)=>{const e=r.__vccOpts||r;for(const[a,i]of t)e[a]=i;return e},$y={class:"home-container"},Xy={class:"welcome-content"},Uy={class:"card-header"},Yy={class:"dashboard-content"},qy={class:"data-card"},Ky={class:"data-icon factory-icon"},jy={class:"data-info"},Qy={class:"data-value"},Jy={class:"data-desc"},e0={class:"data-metric"},t0={class:"data-card"},a0={class:"data-icon lab-icon"},r0={class:"data-info"},i0={class:"data-value"},n0={class:"data-desc"},o0={class:"data-metric"},s0={class:"data-card"},l0={class:"data-icon online-icon"},u0={class:"data-info"},c0={class:"data-value"},h0={class:"data-desc"},f0={class:"data-metric"},d0={class:"data-card"},p0={class:"data-icon risk-icon"},v0={class:"data-info"},g0={class:"data-value"},m0={class:"data-desc"},y0={class:"data-metric"},_0={class:"card-header"},b0={class:"chart-content"},x0={class:"card-header"},S0={class:"chart-content"},w0={class:"feature-icon"},A0={class:"feature-action"},C0={class:"feature-icon"},L0={class:"feature-action"},T0={__name:"HomeView",setup(r){De([qu,Yu,ec,Vu,lu,eu,wf,oc]);const t=Id(),e=_e(Bd),a=_e(zd),i=_e(Nd),n=_e(null),o=_e(null);let s=null,l=null;const u=he(()=>e.value.length===0?0:(e.value.reduce((b,S)=>b+S.defect_rate,0)/e.value.length).toFixed(2)),c=he(()=>a.value.length===0?0:(a.value.filter(b=>b.result==="合格").length/a.value.length*100).toFixed(0)),h=he(()=>{if(i.value.length===0)return 0;let x=0,b=0;return i.value.forEach(S=>{x+=S.defect_count,b+=S.total_count}),b>0?(x/b*100).toFixed(2):0}),f=he(()=>{const x=new Set;return e.value.forEach(b=>{b.defect_rate>2&&x.add(b.material_code)}),a.value.forEach(b=>{b.result==="不合格"&&x.add(b.material_code)}),i.value.forEach(b=>{b.defect_count/b.total_count*100>2&&x.add(b.material_code)}),x.size}),d=he(()=>{const x=new Set;return e.value.forEach(b=>x.add(b.material_code)),a.value.forEach(b=>x.add(b.material_code)),i.value.forEach(b=>x.add(b.material_code)),x.size>0?(f.value/x.size*100).toFixed(0):0}),p=he(()=>{const x=[];return Wl.forEach(b=>{const S=new Set,w=new Set,A=new Set,L=new Set;e.value.filter(I=>I.category_id===b.id).forEach(I=>S.add(I.material_code)),a.value.filter(I=>I.category_id===b.id).forEach(I=>S.add(I.material_code)),i.value.filter(I=>I.category_id===b.id).forEach(I=>S.add(I.material_code)),S.forEach(I=>{const C=e.value.find(B=>B.material_code===I),M=a.value.find(B=>B.material_code===I),D=i.value.find(B=>B.material_code===I);let k=!1,P=!1;if(C&&C.defect_rate>2?k=!0:C&&C.defect_rate>1&&(P=!0),M&&M.result==="不合格"?k=!0:M&&M.score<80&&(P=!0),D){const B=D.defect_count/D.total_count*100;B>2?k=!0:B>1&&(P=!0)}k?w.add(I):P?A.add(I):L.add(I)}),x.push({categoryId:b.id,categoryName:b.name,totalCount:S.size,highRiskCount:w.size,mediumRiskCount:A.size,lowRiskCount:L.size})}),x});he(()=>p.value.filter(x=>x.totalCount>0).map(x=>{let b="低风险";x.highRiskCount>0?b="高风险":x.mediumRiskCount>0&&(b="中风险");let S="",w="";return b==="高风险"?(S="建议进行严格检验，提高抽样比例",w=`重点关注${x.categoryName}类不良项`):b==="中风险"?(S="建议进行常规检验，关注历史问题点",w="保持正常检验频率"):(S="可适当降低检验频率，实施抽检",w="维持基本检验项目"),{categoryName:x.categoryName,riskLevel:b,recommendation:S,specificStrategy:w}}).sort((x,b)=>{const S={高风险:0,中风险:1,低风险:2};return S[x.riskLevel]-S[b.riskLevel]}));function v(){n.value&&(s=Rn(n.value),g()),o.value&&(l=Rn(o.value),y())}function g(){if(!s)return;const x=p.value.filter(L=>L.totalCount>0).map(L=>L.categoryName),b=p.value.filter(L=>L.totalCount>0).map(L=>L.highRiskCount),S=p.value.filter(L=>L.totalCount>0).map(L=>L.mediumRiskCount),w=p.value.filter(L=>L.totalCount>0).map(L=>L.lowRiskCount),A={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["高风险","中风险","低风险"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:x},series:[{name:"高风险",type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:b,itemStyle:{color:"#F56C6C"}},{name:"中风险",type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:S,itemStyle:{color:"#E6A23C"}},{name:"低风险",type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:w,itemStyle:{color:"#67C23A"}}]};s.setOption(A)}function y(){if(!l)return;const x=new Map;a.value.forEach(A=>{const L=A.test_date.substring(0,10);x.has(L)||x.set(L,{total:0,pass:0});const I=x.get(L);I.total++,A.result==="合格"&&I.pass++});const S=Array.from(x.entries()).map(([A,L])=>({date:A,passRate:L.total>0?(L.pass/L.total*100).toFixed(1):0})).sort((A,L)=>A.date.localeCompare(L.date)).slice(-10),w={tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:S.map(A=>A.date),axisLabel:{rotate:45}},yAxis:{type:"value",min:0,max:100,axisLabel:{formatter:"{value}%"}},series:[{name:"合格率",type:"line",data:S.map(A=>parseFloat(A.passRate)),markLine:{data:[{name:"目标线",yAxis:90,lineStyle:{color:"#67C23A"},label:{formatter:"目标: 90%",position:"start"}}]},itemStyle:{color:"#409EFF"},lineStyle:{width:3},symbol:"circle",symbolSize:8}]};l.setOption(w)}function m(){s&&s.resize(),l&&l.resize()}function _(x){t.push(x)}return mc(()=>{v(),window.addEventListener("resize",m)}),yc(()=>{window.removeEventListener("resize",m),s&&s.dispose(),l&&l.dispose()}),(x,b)=>{const S=ce("el-button"),w=ce("el-card"),A=ce("el-col"),L=ce("el-row"),I=ce("el-tag"),C=ce("el-icon-goods"),M=ce("el-icon"),D=ce("el-icon-data-analysis"),k=ce("el-icon-monitor"),P=ce("el-icon-warning"),B=ce("el-icon-document-copy");return tl(),el("div",$y,[H(L,{gutter:20},{default:F(()=>[H(A,{span:24},{default:F(()=>[H(w,{class:"welcome-card"},{header:F(()=>b[5]||(b[5]=[N("div",{class:"card-header"},[N("h2",null,"欢迎使用IQE动态检验系统")],-1)])),default:F(()=>[N("div",Xy,[b[7]||(b[7]=N("p",{class:"system-intro"}," 本系统基于各工厂、仓库检验状态，结合上线使用情况和实验室测试情况，智能推荐物料类别动态检验方案。 ",-1)),H(S,{type:"primary",class:"architecture-btn",onClick:b[0]||(b[0]=G=>_("/architecture"))},{default:F(()=>b[6]||(b[6]=[ye(" 查看系统架构图解 ")])),_:1,__:[6]})])]),_:1})]),_:1})]),_:1}),H(L,{gutter:20,class:"dashboard-row"},{default:F(()=>[H(A,{span:24},{default:F(()=>[H(w,{class:"dashboard-card"},{header:F(()=>[N("div",Uy,[b[9]||(b[9]=N("h2",null,"系统数据概览",-1)),H(I,{type:"success"},{default:F(()=>b[8]||(b[8]=[ye("实时数据")])),_:1,__:[8]})])]),default:F(()=>[N("div",Yy,[H(L,{gutter:20},{default:F(()=>[H(A,{xs:24,sm:12,md:6},{default:F(()=>[N("div",qy,[N("div",Ky,[H(M,null,{default:F(()=>[H(C)]),_:1})]),N("div",jy,[b[11]||(b[11]=N("div",{class:"data-title"},"工厂物料",-1)),N("div",Qy,Je(e.value.length),1),N("div",Jy,[b[10]||(b[10]=N("span",{class:"data-label"},"平均缺陷率:",-1)),N("span",e0,Je(u.value)+"%",1)])])])]),_:1}),H(A,{xs:24,sm:12,md:6},{default:F(()=>[N("div",t0,[N("div",a0,[H(M,null,{default:F(()=>[H(D)]),_:1})]),N("div",r0,[b[13]||(b[13]=N("div",{class:"data-title"},"实验室测试",-1)),N("div",i0,Je(a.value.length),1),N("div",n0,[b[12]||(b[12]=N("span",{class:"data-label"},"合格率:",-1)),N("span",o0,Je(c.value)+"%",1)])])])]),_:1}),H(A,{xs:24,sm:12,md:6},{default:F(()=>[N("div",s0,[N("div",l0,[H(M,null,{default:F(()=>[H(k)]),_:1})]),N("div",u0,[b[15]||(b[15]=N("div",{class:"data-title"},"上线使用",-1)),N("div",c0,Je(i.value.length),1),N("div",h0,[b[14]||(b[14]=N("span",{class:"data-label"},"上线缺陷率:",-1)),N("span",f0,Je(h.value)+"%",1)])])])]),_:1}),H(A,{xs:24,sm:12,md:6},{default:F(()=>[N("div",d0,[N("div",p0,[H(M,null,{default:F(()=>[H(P)]),_:1})]),N("div",v0,[b[17]||(b[17]=N("div",{class:"data-title"},"高风险物料",-1)),N("div",g0,Je(f.value),1),N("div",m0,[b[16]||(b[16]=N("span",{class:"data-label"},"占比:",-1)),N("span",y0,Je(d.value)+"%",1)])])])]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),H(L,{gutter:20,class:"chart-row"},{default:F(()=>[H(A,{xs:24,sm:24,md:12,lg:12},{default:F(()=>[H(w,{class:"box-card"},{header:F(()=>[N("div",_0,[b[19]||(b[19]=N("h2",null,"物料风险分布",-1)),H(S,{type:"primary",size:"small",onClick:b[1]||(b[1]=G=>_("/analysis"))},{default:F(()=>b[18]||(b[18]=[ye("详细分析")])),_:1,__:[18]})])]),default:F(()=>[N("div",b0,[N("div",{ref_key:"riskDistributionChartRef",ref:n,style:{width:"100%",height:"300px"}},null,512)])]),_:1})]),_:1}),H(A,{xs:24,sm:24,md:12,lg:12},{default:F(()=>[H(w,{class:"box-card"},{header:F(()=>[N("div",x0,[b[21]||(b[21]=N("h2",null,"测试合格率趋势",-1)),H(S,{type:"primary",size:"small",onClick:b[2]||(b[2]=G=>_("/lab"))},{default:F(()=>b[20]||(b[20]=[ye("查看详情")])),_:1,__:[20]})])]),default:F(()=>[N("div",S0,[N("div",{ref_key:"passRateChartRef",ref:o,style:{width:"100%",height:"300px"}},null,512)])]),_:1})]),_:1})]),_:1}),H(L,{gutter:20,class:"feature-row"},{default:F(()=>[H(A,{xs:24,sm:12,md:6},{default:F(()=>[H(w,{class:"feature-card",shadow:"hover",onClick:b[3]||(b[3]=G=>_("/batch"))},{default:F(()=>[N("div",w0,[H(M,null,{default:F(()=>[H(B)]),_:1})]),b[23]||(b[23]=N("div",{class:"feature-info"},[N("h3",null,"批次管理"),N("p",null,"物料批次的创建、追踪与分析")],-1)),N("div",A0,[H(S,{type:"primary",text:""},{default:F(()=>b[22]||(b[22]=[ye("进入管理")])),_:1,__:[22]})])]),_:1,__:[23]})]),_:1}),H(A,{xs:24,sm:12,md:6},{default:F(()=>[H(w,{class:"feature-card",shadow:"hover",onClick:b[4]||(b[4]=G=>_("/monitoring"))},{default:F(()=>[N("div",C0,[H(M,null,{default:F(()=>[H(k)]),_:1})]),b[25]||(b[25]=N("div",{class:"feature-info"},[N("h3",null,"实时监控"),N("p",null,"生产线与检验过程实时状态")],-1)),N("div",L0,[H(S,{type:"success",text:""},{default:F(()=>b[24]||(b[24]=[ye("实时查看")])),_:1,__:[24]})])]),_:1,__:[25]})]),_:1})]),_:1})])}}},I0=Zy(T0,[["__scopeId","data-v-4642c6be"]]),M0=Ld({history:td("/IQE/"),routes:[{path:"/",name:"home",component:I0},{path:"/factory",name:"factory",component:()=>Ze(()=>import("./FactoryView-1jd9PTgu.js"),__vite__mapDeps([0,1,2,3,4,5,6]))},{path:"/lab",name:"lab",component:()=>Ze(()=>import("./LabView-WWt3ToUz.js"),__vite__mapDeps([7,1,5,3,8]))},{path:"/lab-inspection",name:"labInspection",component:()=>Ze(()=>import("./LabInspectionView-9EKnRtUg.js"),__vite__mapDeps([9,1,3,10]))},{path:"/online",name:"online",component:()=>Ze(()=>import("./OnlineView-CRCaWBq3.js"),__vite__mapDeps([11,1,3,12]))},{path:"/ai",name:"ai",component:()=>Ze(()=>import("./AiAssistant-DkOr2G_0.js"),__vite__mapDeps([13,1,2,3,4,5,14]))},{path:"/batch",name:"batch",component:()=>Ze(()=>import("./BatchManagement-BwAKNkja.js"),__vite__mapDeps([15,1,3,16]))},{path:"/batch/:id",name:"batchDetail",component:()=>Ze(()=>import("./BatchDetail-CimopkQd.js"),__vite__mapDeps([17,1,3,18])),props:!0},{path:"/monitoring",name:"monitoring",component:()=>Ze(()=>import("./RealTimeMonitoring-CmBj_Vyl.js"),__vite__mapDeps([19,4,3,1,20]))},{path:"/architecture",name:"architecture",component:()=>Ze(()=>import("./ArchitectureView-STB5ZC9z.js"),__vite__mapDeps([21,2,3,4,5,1,22]))},{path:"/analysis",name:"analysis",component:()=>Ze(()=>import("./AnalysisView-oq60xmFZ.js"),__vite__mapDeps([23,1,3,24]))}]});/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let sc;const pr=r=>sc=r,lc=Symbol();function Vi(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var la;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(la||(la={}));function D0(){const r=al(!0),t=r.run(()=>_e({}));let e=[],a=[];const i=rl({install(n){pr(i),i._a=n,n.provide(lc,i),n.config.globalProperties.$pinia=i,a.forEach(o=>e.push(o)),a=[]},use(n){return this._a?e.push(n):a.push(n),this},_p:e,_a:null,_e:r,_s:new Map,state:t});return i}const uc=()=>{};function Ys(r,t,e,a=uc){r.push(t);const i=()=>{const n=r.indexOf(t);n>-1&&(r.splice(n,1),a())};return!e&&xc()&&Sc(i),i}function Pt(r,...t){r.slice().forEach(e=>{e(...t)})}const R0=r=>r(),qs=Symbol(),Jr=Symbol();function Bi(r,t){r instanceof Map&&t instanceof Map?t.forEach((e,a)=>r.set(a,e)):r instanceof Set&&t instanceof Set&&t.forEach(r.add,r);for(const e in t){if(!t.hasOwnProperty(e))continue;const a=t[e],i=r[e];Vi(i)&&Vi(a)&&r.hasOwnProperty(e)&&!Za(a)&&!il(a)?r[e]=Bi(i,a):r[e]=a}return r}const P0=Symbol();function k0(r){return!Vi(r)||!Object.prototype.hasOwnProperty.call(r,P0)}const{assign:nt}=Object;function E0(r){return!!(Za(r)&&r.effect)}function O0(r,t,e,a){const{state:i,actions:n,getters:o}=t,s=e.state.value[r];let l;function u(){s||(e.state.value[r]=i?i():{});const c=wc(e.state.value[r]);return nt(c,n,Object.keys(o||{}).reduce((h,f)=>(h[f]=rl(he(()=>{pr(e);const d=e._s.get(r);return o[f].call(d,d)})),h),{}))}return l=cc(r,u,t,e,a,!0),l}function cc(r,t,e={},a,i,n){let o;const s=nt({actions:{}},e),l={deep:!0};let u,c,h=[],f=[],d;const p=a.state.value[r];!n&&!p&&(a.state.value[r]={}),_e({});let v;function g(A){let L;u=c=!1,typeof A=="function"?(A(a.state.value[r]),L={type:la.patchFunction,storeId:r,events:d}):(Bi(a.state.value[r],A),L={type:la.patchObject,payload:A,storeId:r,events:d});const I=v=Symbol();Js().then(()=>{v===I&&(u=!0)}),c=!0,Pt(h,L,a.state.value[r])}const y=n?function(){const{state:L}=e,I=L?L():{};this.$patch(C=>{nt(C,I)})}:uc;function m(){o.stop(),h=[],f=[],a._s.delete(r)}const _=(A,L="")=>{if(qs in A)return A[Jr]=L,A;const I=function(){pr(a);const C=Array.from(arguments),M=[],D=[];function k(G){M.push(G)}function P(G){D.push(G)}Pt(f,{args:C,name:I[Jr],store:b,after:k,onError:P});let B;try{B=A.apply(this&&this.$id===r?this:b,C)}catch(G){throw Pt(D,G),G}return B instanceof Promise?B.then(G=>(Pt(M,G),G)).catch(G=>(Pt(D,G),Promise.reject(G))):(Pt(M,B),B)};return I[qs]=!0,I[Jr]=L,I},x={_p:a,$id:r,$onAction:Ys.bind(null,f),$patch:g,$reset:y,$subscribe(A,L={}){const I=Ys(h,A,L.detached,()=>C()),C=o.run(()=>js(()=>a.state.value[r],M=>{(L.flush==="sync"?c:u)&&A({storeId:r,type:la.direct,events:d},M)},nt({},l,L)));return I},$dispose:m},b=zi(x);a._s.set(r,b);const w=(a._a&&a._a.runWithContext||R0)(()=>a._e.run(()=>(o=al()).run(()=>t({action:_}))));for(const A in w){const L=w[A];if(Za(L)&&!E0(L)||il(L))n||(p&&k0(L)&&(Za(L)?L.value=p[A]:Bi(L,p[A])),a.state.value[r][A]=L);else if(typeof L=="function"){const I=_(L,A);w[A]=I,s.actions[A]=L}}return nt(b,w),nt(bc(b),w),Object.defineProperty(b,"$state",{get:()=>a.state.value[r],set:A=>{g(L=>{nt(L,A)})}}),a._p.forEach(A=>{nt(b,o.run(()=>A({store:b,app:a._a,pinia:a,options:s})))}),p&&n&&e.hydrate&&e.hydrate(b.$state,p),u=!0,c=!0,b}/*! #__NO_SIDE_EFFECTS__ */function V0(r,t,e){let a;const i=typeof t=="function";a=i?e:t;function n(o,s){const l=_c();return o=o||(l?ct(lc,null):null),o&&pr(o),o=sc,o._s.has(r)||(i?cc(r,t,a,o):O0(r,a,o)),o._s.get(r)}return n.$id=r,n}const B0=[{materialCode:"38501375",materialName:"保护膜（全包膜）",materialType:"包材",unit:"片",riskLevel:"C",standardSampling:"5%",keyParameters:["耐磨性","附着力","透光率","耐化学性"],suppliers:["易湛","联辉","德瑞"],criticalProcess:["贴合","除泡"],commonDefects:["掉漆","气泡","划痕","异物"],specifications:{thickness:"0.125mm±0.01mm",transparency:"≥98%",abrasionResistance:"500g×25次不掉漆",chemicalResistance:"酒精、油脂耐受"}},{materialCode:"37301062",materialName:"电池盖",materialType:"结构件",unit:"个",riskLevel:"B",standardSampling:"2%",keyParameters:["尺寸","强度","平整度","开合力度"],suppliers:["金盾","恒拓","银特"],criticalProcess:["注塑","表面处理"],commonDefects:["变形","翘曲","开裂","缺胶"],specifications:{material:"PC+GF30%",thickness:"0.8mm±0.05mm",bendingStrength:"≥120MPa",openCloseEndurance:"≥500次"}},{materialCode:"37208631",materialName:"按键",materialType:"结构件",unit:"个",riskLevel:"B",standardSampling:"2%",keyParameters:["按压力度","行程","回弹性","表面硬度"],suppliers:["金盾","华镁","精技"],criticalProcess:["注塑","电镀","组装"],commonDefects:["卡顿","回弹不良","褪色","尺寸偏差"],specifications:{material:"PC",pressForce:"250±50gf",stroke:"0.25mm±0.05mm",lifetime:"≥300,000次"}}],z0=[{id:"S001",name:"易湛",riskLevel:"C",qualityScore:68,anomalyCount:7,materials:["保护膜","标签","包装盒"],qualityHistory:[{month:"2025-01",score:82},{month:"2025-02",score:78},{month:"2025-03",score:74},{month:"2025-04",score:70},{month:"2025-05",score:68}],certifications:["ISO9001","QC080000"],lastAuditDate:"2025-03-15",auditScore:72,mainDefects:["耐磨性不足","附着力不良","气泡"]},{id:"S002",name:"金盾",riskLevel:"B",qualityScore:78,anomalyCount:4,materials:["电池盖","按键","卡托"],qualityHistory:[{month:"2025-01",score:88},{month:"2025-02",score:85},{month:"2025-03",score:83},{month:"2025-04",score:80},{month:"2025-05",score:78}],certifications:["ISO9001","IATF16949","ISO14001"],lastAuditDate:"2025-04-10",auditScore:81,mainDefects:["尺寸偏差","强度不足","表面缺陷"]},{id:"S003",name:"联科",riskLevel:"A",qualityScore:92,anomalyCount:1,materials:["连接器","弹片","接口"],qualityHistory:[{month:"2025-01",score:91},{month:"2025-02",score:92},{month:"2025-03",score:93},{month:"2025-04",score:94},{month:"2025-05",score:92}],certifications:["ISO9001","IATF16949","ISO14001","QC080000"],lastAuditDate:"2025-02-25",auditScore:94,mainDefects:["接触电阻波动"]}],N0=[{id:"F001",name:"南昌工厂",returningRate:4.2,qualityTrend:[3.2,3.5,3.8,4,4.2],productCategories:["手机","平板","智能穿戴"],mainIssues:["结构件变形","组装偏差","表面缺陷"]},{id:"F002",name:"泰衡诺工厂",returningRate:3.8,qualityTrend:[4,3.9,3.7,3.8,3.8],productCategories:["笔记本","显示器","一体机"],mainIssues:["包材不良","功能异常","外观缺陷"]},{id:"F003",name:"深圳工厂",returningRate:2.9,qualityTrend:[3.3,3.1,3,2.8,2.9],productCategories:["手机","智能音箱","路由器"],mainIssues:["电气参数偏差","功能异常","组装不良"]}],H0=[{materialCode:"38501375",materialName:"保护膜",project:"X6725B",batchId:"#03, #04",inspectionDate:"2025-05-26",result:"NG",defectRate:"100%",supplier:"易湛",status:"退货处理中",riskScore:92,isHighRisk:!0,location:"IQC",inspector:"张明",defectType:"外观",defectDescription:"酒精耐磨测试掉漆",images:["/src/assets/demo/defect-image-1.jpg","/src/assets/demo/defect-image-2.jpg"],relatedRecords:["IQC-20250526-012"]},{materialCode:"37301062",materialName:"电池盖",project:"X6725B",batchId:"#A22, #A23",inspectionDate:"2025-05-24",result:"NG",defectRate:"66.7%",supplier:"金盾",status:"返工修复中",riskScore:78,isHighRisk:!0,location:"南昌工厂",inspector:"李强",defectType:"可靠性",defectDescription:"连续开合100次后针变形",images:["/src/assets/demo/defect-image-3.jpg"],relatedRecords:["IQC-20250524-008"]},{materialCode:"37208631",materialName:"按键",project:"X6725B",batchId:"#B10",inspectionDate:"2025-05-24",result:"有条件接收",defectRate:"12.5%",supplier:"金盾",status:"特采使用中",riskScore:45,isHighRisk:!1,location:"产线",inspector:"王芳",defectType:"外观",defectDescription:"按键高度超差+0.3mm",images:[],relatedRecords:[]}],G0=[{id:"LT2025052601",testDate:"2025/05/26",testSource:"深圳实验室来料例行测试",project:"X6725",materialCode:"38501375",materialName:"保护膜（全包膜）",testItem:"酒精耐磨 500g × 25次掉漆油墨",result:"NG",badBatch:"#03, #04",defectRate:"2/2（100%）",supplier:"易湛",responsibility:"来料",recommendation:"整批物料标记为不合格，建议暂停上线使用",remarks:"与生产端返工记录匹配（见2025/05/26记录）",relatedRecords:["IQC-20250526-012","PR-20250526-003"],images:[{url:"/src/assets/demo/defect-image-1.jpg",caption:"保护膜酒精测试后掉漆现象"},{url:"/src/assets/demo/defect-image-2.jpg",caption:"保护膜表面异常放大图"}],testProcedure:"按照QATS-38501375-001测试规范执行",testEquipment:["耐磨测试仪#TS-025","显微镜#MS-103"],testParameters:{pressure:"500g",times:25,solvent:"75%酒精",testArea:"中央区域"},tester:"王立",reviewer:"陈博"},{id:"LT2025052402",testDate:"2025/05/24",testSource:"南昌实验室来料检测",project:"X6725",materialCode:"37301062",materialName:"电池盖",testItem:"连续开合耐久性测试 500次",result:"NG",badBatch:"#A22, #A23",defectRate:"2/3（66.7%）",supplier:"金盾",responsibility:"来料",recommendation:"返工处理，增加抽检比例",remarks:"与上月同批次问题相似，建议供应商改进工艺",relatedRecords:["IQC-20250524-008"],images:[{url:"/src/assets/demo/defect-image-3.jpg",caption:"电池盖变形现象"}],testProcedure:"按照QATS-37301062-002测试规范执行",testEquipment:["开合测试机#EC-056","力学分析仪#FM-033"],testParameters:{cycles:500,speed:"30次/分钟",openAngle:"120°",temperature:"25±2°C"},tester:"张明",reviewer:"李强"}],F0=[{id:"PA2025052601",date:"2025/05/26",project:"X6725B",projectPhase:"量产",componentType:"结构件",anomalyType:"可靠性",urgencyLevel:"返工生产",responsibleFactory:"南昌工厂",location:"IQC",materialCode:"37301062",materialName:"电池盖",description:"装卸100次后针变形（标准500次），不良率2/3",supplier:"金盾",responsibility:"来料",riskLevel:"B",impactScope:"当前在产3个批次，约1500台",processingStatus:"处理中",processor:"李强",processingPlan:`1. 返工生产
2. 供应商提供改进措施
3. 增加下批次抽检比例`,estimatedCompletionTime:"2025/05/30",actualCompletionTime:"",relatedRecords:["IQC-20250524-008","LT2025052402"]},{id:"PA2025052502",date:"2025/05/25",project:"X6725B",projectPhase:"量产",componentType:"包材",anomalyType:"外观",urgencyLevel:"克服生产",responsibleFactory:"泰衡诺工厂",location:"产线",materialCode:"38501375",materialName:"保护膜",description:"酒精耐磨500g×25次掉漆油墨",supplier:"易湛",responsibility:"来料",riskLevel:"C",impactScope:"当前在线2个批次，约800台",processingStatus:"已完成",processor:"张明",processingPlan:`1. 整批退货
2. 要求供应商排查原因
3. 临时选用备用供应商`,estimatedCompletionTime:"2025/05/28",actualCompletionTime:"2025/05/27",relatedRecords:["IQC-20250526-012","LT2025052601"]}],W0=[{materialCode:"38501375",materialName:"保护膜",batchId:"#D22, #D23",supplier:"易湛",predictedResult:"NG",predictedDefectRate:58,predictedDefectTypes:[{type:"耐磨性不足",probability:.75},{type:"气泡",probability:.15},{type:"划痕",probability:.1}],confidence:87,similarHistoricalBatches:["#03, #04","#B12, #B13"],recommendedAction:"增加抽检比例至15%，关注工艺参数波动",predictedArrivalDate:"2025/06/05",riskLevel:"高",impactScope:"预计影响5个批次，约2500件"},{materialCode:"37208631",materialName:"按键",batchId:"#C15",supplier:"金盾",predictedResult:"有条件接收",predictedDefectRate:35,predictedDefectTypes:[{type:"尺寸偏差",probability:.65},{type:"表面划痕",probability:.25},{type:"卡顿",probability:.1}],confidence:82,similarHistoricalBatches:["#B10"],recommendedAction:"加强高度和力度检验项目",predictedArrivalDate:"2025/06/03",riskLevel:"中",impactScope:"预计影响2个批次，约800件"}],Z0=[{time:"2025-05-26 09:23:45",level:"严重",type:"可靠性",device:"电池盖(37301062)",message:"连续开合耐久性测试未达标准，不良率66.7%",isPredictive:!1,id:"ALT20250526001",relatedMaterial:"37301062",source:"IQC测试",status:"未处理",assignee:"李强",deadline:"2025-05-28",processingSteps:[{step:"隔离不良批次",status:"已完成"},{step:"联系供应商",status:"进行中"},{step:"安排返工计划",status:"未开始"}]},{time:"2025-05-25 10:15:22",level:"严重",type:"外观",device:"保护膜(38501375)",message:"酒精耐磨测试不良，掉漆率100%",isPredictive:!1,id:"ALT20250525001",relatedMaterial:"38501375",source:"实验室检测",status:"处理中",assignee:"张明",deadline:"2025-05-27",processingSteps:[{step:"隔离不良批次",status:"已完成"},{step:"联系供应商",status:"已完成"},{step:"申请物料退货",status:"进行中"}]},{time:"2025-05-30 08:30:00",level:"警告",type:"可靠性",device:"保护膜(38501375)",message:"预测批次#D22, #D23存在58%的耐磨不良风险",isPredictive:!0,id:"ALT20250530001",relatedMaterial:"38501375",source:"AI预测系统",status:"监控中",assignee:"王芳",deadline:"2025-06-05",processingSteps:[{step:"通知供应商",status:"已完成"},{step:"调整检验计划",status:"进行中"},{step:"准备备用方案",status:"未开始"}]}],$0={38501375:{batches:["#03, #04","#B12, #B13","#C09"],parameters:{standard:{耐磨性:90,附着力:90,耐化学性:90,硬度:90,光泽度:90},"#03, #04":{耐磨性:45,附着力:60,耐化学性:75,硬度:85,光泽度:70},"#B12, #B13":{耐磨性:85,附着力:90,耐化学性:92,硬度:88,光泽度:85},"#C09":{耐磨性:80,附着力:88,耐化学性:90,硬度:85,光泽度:82}},analysisText:"通过对比分析发现，不良批次与合格批次在原材料供应商和生产参数上存在显著差异。批次#03, #04使用了新供应商的原材料，且生产温度比正常批次低5℃。",insights:["温度参数偏低","油墨配方变更","原材料来源变更"]},37301062:{batches:["#A22, #A23","#B15, #B16","#C12"],parameters:{standard:{强度:90,耐久性:90,尺寸精度:90,表面质量:90,材料均匀性:90},"#A22, #A23":{强度:65,耐久性:45,尺寸精度:80,表面质量:75,材料均匀性:60},"#B15, #B16":{强度:88,耐久性:85,尺寸精度:90,表面质量:85,材料均匀性:88},"#C12":{强度:86,耐久性:82,尺寸精度:88,表面质量:90,材料均匀性:85}},analysisText:"批次#A22, #A23的耐久性表现显著低于标准，主要原因是模具磨损导致成型精度下降，同时原材料批次变更未经充分验证。",insights:["模具老化","材料配比偏差","注塑参数不稳定"]}},X0={38501375:{materialName:"保护膜",riskLevel:"高",riskScore:92,riskImpactScope:"可能影响在产5个批次，约2500件",riskConfidence:87,riskFactors:[{name:"供应商历史表现",value:75,color:"#F56C6C",description:"该供应商近3个月有2次类似不良记录"},{name:"材料批次一致性",value:65,color:"#E6A23C",description:"检测到批次间参数波动较大"},{name:"工艺稳定性",value:45,color:"#409EFF",description:"生产参数较为稳定但有波动"},{name:"测试方法适用性",value:25,color:"#67C23A",description:"测试方法已验证有效"},{name:"环境因素影响",value:35,color:"#909399",description:"季节性因素可能影响材料特性"}],recommendations:[{title:"增加抽样频率",description:"对该批次保护膜增加抽样检验频率至15%，关注酒精耐磨和附着力测试项目",priority:"高"},{title:"供应商审核",description:"安排质量工程师对易湛供应商进行专项工艺审核，重点关注原材料变更和生产参数控制",priority:"中"},{title:"测试方法优化",description:"建议优化耐磨测试方法，增加耐久性评估维度，更准确反映实际使用场景",priority:"低"}]},37301062:{materialName:"电池盖",riskLevel:"中",riskScore:78,riskImpactScope:"可能影响在产3个批次，约1500台",riskConfidence:82,riskFactors:[{name:"供应商历史表现",value:60,color:"#F56C6C",description:"该供应商近6个月有1次类似不良记录"},{name:"材料批次一致性",value:70,color:"#E6A23C",description:"检测到批次间尺寸波动"},{name:"工艺稳定性",value:65,color:"#409EFF",description:"注塑参数波动较大"},{name:"测试方法适用性",value:30,color:"#67C23A",description:"测试方法已验证有效"},{name:"环境因素影响",value:25,color:"#909399",description:"温度波动对材料影响较小"}],recommendations:[{title:"调整注塑参数",description:"建议供应商调整注塑温度和压力参数，提高结构稳定性",priority:"高"},{title:"增加抽检比例",description:"将抽检比例从2%提高到8%，重点关注开合耐久性测试",priority:"中"},{title:"模具维护",description:"建议供应商对模具进行全面检查和维护，确保尺寸精度",priority:"中"}]}},U0={monitoring:[{icon:"DataLine",label:"日检量",value:"385",type:"production",trend:"up",change:"8.6%"},{icon:"Check",label:"来料合格率",value:"93.2%",type:"quality",trend:"down",change:"2.8%"},{icon:"Warning",label:"待处理异常",value:"17",type:"alert",trend:"up",change:"5个"},{icon:"Timer",label:"平均检验周期",value:"2.5d",type:"time",trend:"down",change:"0.8d"}],lab:[{icon:"DataAnalysis",label:"本月检测总数",value:"172",type:"primary",trend:"up",change:"12.5%"},{icon:"Warning",label:"不良项检出",value:"43",type:"danger",trend:"up",change:"8.2%"},{icon:"Odometer",label:"平均处理周期",value:"2.3天",type:"warning",trend:"down",change:"0.5天"},{icon:"Reading",label:"未处理报告",value:"7",type:"info",trend:"down",change:"2份"}]},Y0={weekly:{dates:["周一","周二","周三","周四","周五","周六","周日"],total:[350,410,375,390,450,320,385],passed:[325,385,342,350,408,295,359],failed:[25,25,33,40,42,25,26],prediction:[null,null,null,null,null,null,26,35,48]},monthly:{dates:["第1周","第2周","第3周","第4周","第5周"],total:[1750,1820,1910,1880,1950],passed:[1645,1710,1775,1738,1802],failed:[105,110,135,142,148],prediction:[null,null,null,null,148,160,175]},quarterly:{dates:["1月","2月","3月","4月","5月","6月"],total:[7500,7680,7820,7950,8100,null],passed:[6975,7142,7273,7392,7533,null],failed:[525,538,547,558,567,null],prediction:[null,null,null,null,567,580,595]}},Ee={materialMasterData:B0,supplierData:z0,factoryData:N0,materialBatchData:H0,labTestData:G0,productionAnomalies:F0,qualityPredictionData:W0,alertsData:Z0,batchComparisonData:$0,riskAnalysisData:X0,statCardsData:U0,trendAnalysisData:Y0},q0=D0(),r_=V0("iqe",()=>{const r=_e(Ee.materialMasterData||[]),t=_e(Ee.supplierData||[]),e=_e(Ee.factoryData||[]),a=_e(Ee.materialBatchData||[]),i=_e(Ee.labTestData||[]),n=_e(Ee.productionAnomalies||[]),o=_e(Ee.qualityPredictionData||[]),s=_e(Ee.alertsData||[]),l=_e(Ee.batchComparisonData||{}),u=_e(Ee.riskAnalysisData||{}),c=_e(Ee.statCardsData||{}),h=_e(Ee.trendAnalysisData||{}),f=zi({lastUpdateTime:new Date().toLocaleString(),isRefreshing:!1,currentSection:"monitoring",filters:{materialCode:"",supplier:"",dateRange:[],result:"",project:""}}),d=he(()=>a.value.filter(C=>C.isHighRisk)),p=he(()=>{const C={};return s.value.forEach(M=>{C[M.type]||(C[M.type]=[]),C[M.type].push(M)}),C}),v=he(()=>{const C={};return s.value.forEach(M=>{C[M.level]||(C[M.level]=[]),C[M.level].push(M)}),C}),g=he(()=>{const C={};return a.value.filter(M=>M.result==="NG").forEach(M=>{C[M.supplier]||(C[M.supplier]=[]),C[M.supplier].push(M)}),C});function y(C={}){return a.value.filter(M=>{let D=!0;if(C.materialCode&&!M.materialCode.includes(C.materialCode)&&(D=!1),C.materialName&&!M.materialName.includes(C.materialName)&&(D=!1),C.supplier&&M.supplier!==C.supplier&&(D=!1),C.result&&M.result!==C.result&&(D=!1),C.isHighRisk!==void 0&&M.isHighRisk!==C.isHighRisk&&(D=!1),C.dateRange&&C.dateRange.length===2){const k=new Date(M.inspectionDate),P=new Date(C.dateRange[0]),B=new Date(C.dateRange[1]);B.setHours(23,59,59,999),(k<P||k>B)&&(D=!1)}return D})}function m(C={}){return i.value.filter(M=>{let D=!0;if(C.materialCode&&!M.materialCode.includes(C.materialCode)&&(D=!1),C.materialName&&!M.materialName.includes(C.materialName)&&(D=!1),C.supplier&&M.supplier!==C.supplier&&(D=!1),C.result&&M.result!==C.result&&(D=!1),C.project&&M.project!==C.project&&(D=!1),C.dateRange&&C.dateRange.length===2){const k=new Date(M.testDate),P=new Date(C.dateRange[0]),B=new Date(C.dateRange[1]);B.setHours(23,59,59,999),(k<P||k>B)&&(D=!1)}return D})}function _(C){return r.value.find(M=>M.materialCode===C)}function x(C){return t.value.find(M=>M.name===C)}function b(C){return u.value[C]||null}function S(C){return l.value[C]||null}async function w(){return f.isRefreshing=!0,await new Promise(C=>setTimeout(C,1500)),f.lastUpdateTime=new Date().toLocaleString(),f.isRefreshing=!1,{success:!0,message:"数据已更新"}}function A(C="weekly"){return h.value[C]||null}function L(C="monitoring"){return c.value[C]||[]}function I(C,M=6){const D=i.value.filter(V=>V.materialCode===C);D.sort((V,W)=>new Date(V.testDate)-new Date(W.testDate));const P=D.slice(-M).map(V=>{const W=V.defectRate;let Y=0;if(typeof W=="string"){const q=W.match(/(\d+(?:\.\d+)?)%/);if(q)Y=parseFloat(q[1]);else{const J=W.match(/(\d+)\/(\d+)(?:\（|\()(\d+(?:\.\d+)?)%/);J&&(Y=parseFloat(J[3]))}}else typeof W=="number"&&(Y=W);return{date:V.testDate,defectRate:Y,result:V.result}});let B=0;if(P.length>=2){const V=P[0].defectRate;B=(P[P.length-1].defectRate-V)/(P.length-1)}let G="stable";return B>1?G="rapidly_increasing":B>.1?G="increasing":B<-1?G="rapidly_decreasing":B<-.1&&(G="decreasing"),{materialCode:C,trend:P,direction:G,slope:B,average:P.reduce((V,W)=>V+W.defectRate,0)/P.length||0}}return{materialMasterData:r,supplierData:t,factoryData:e,materialBatchData:a,labTestData:i,productionAnomalies:n,qualityPredictionData:o,alertsData:s,batchComparisonData:l,riskAnalysisData:u,statCardsData:c,trendAnalysisData:h,systemState:f,highRiskBatches:d,alertsByType:p,alertsByLevel:v,defectiveBySupplier:g,filterMaterialBatches:y,filterLabTests:m,getMaterialByCode:_,getSupplierByName:x,getMaterialRiskAnalysis:b,getBatchComparisonData:S,refreshData:w,getTrendAnalysisData:A,getStatCardsData:L,analyzeMaterialQualityTrend:I}});De([oc,eu,up,lu,_v,Vu,qu,Yu,ec,um,my,Ny,Fm]);const Tt=Ac(Ed),K0={Search:Uc,DataAnalysis:Xc,Check:$c,Warning:Zc,Timer:Wc,Reading:Fc,DataLine:Gc,Odometer:Hc,RefreshRight:Nc,Refresh:zc,Setting:Bc,Download:Vc,Upload:Oc,Share:Ec,Delete:kc,Edit:Pc,Plus:Rc,Minus:Dc,InfoFilled:Mc,QuestionFilled:Ic,ChatLineRound:Tc,Document:Lc,More:Cc};Object.entries(K0).forEach(([r,t])=>{Tt.component(r,t)});Tt.config.globalProperties.$message=Yc;Tt.config.globalProperties.$echarts=Af;Tt.use(q0);Tt.use(M0);Tt.use(qc,{size:"default"});Tt.mount("#app");export{av as $,iu as A,Yt as B,Gv as C,Ke as D,jv as E,Qv as F,Kv as G,go as H,qd as I,Rv as J,hr as K,Pv as L,qi as M,di as N,Yd as O,ia as P,eg as Q,Sv as R,Fd as S,tg as T,Jv as U,Ae as V,e_ as W,ig as X,du as Y,Ou as Z,Zy as _,oc as a,tv as a0,rg as a1,Pu as a2,ng as a3,Ss as a4,t_ as a5,Wu as a6,Im as a7,Be as a8,Jt as a9,ya as aa,Vm as ab,ws as ac,a_ as ad,As as ae,Pm as af,sy as ag,gy as ah,Ny as ai,Ey as aj,zy as ak,Om as al,ro as am,qu as b,Yu as c,Vu as d,ec as e,Bd as f,J0 as g,Fm as h,up as i,_v as j,eu as k,Id as l,Wl as m,zd as n,Nd as o,my as p,lu as q,Md as r,um as s,op as t,r_ as u,lv as v,Av as w,ou as x,Ki as y,su as z};
