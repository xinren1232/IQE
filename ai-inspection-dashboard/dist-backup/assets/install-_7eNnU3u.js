import{_ as X,z as ne,a6 as le,B as q,O as ve,aa as C,aU as F,A as ge,L as K,aQ as Q,b as $,a8 as O,eB as j,u as I,Z as oe,d as se,H as ee,t as te,a as ae,G as re,a1 as ue,eC as he,J as ce,W as de,C as me,v as ye,S as fe}from"./echarts-Cq7vAPzK.js";import{am as ie,x as pe}from"./index-BA_4wflW.js";var we=function(){function w(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return w}(),Se=function(w){X(r,w);function r(e){var i=w.call(this,e)||this;return i.type="pointer",i}return r.prototype.getDefaultShape=function(){return new we},r.prototype.buildPath=function(e,i){var m=Math.cos,g=Math.sin,t=i.r,h=i.width,v=i.angle,x=i.x-m(v)*h*(h>=t/3?1:2),y=i.y-g(v)*h*(h>=t/3?1:2);v=i.angle-Math.PI/2,e.moveTo(x,y),e.lineTo(i.x+m(v)*h,i.y+g(v)*h),e.lineTo(i.x+m(i.angle)*t,i.y+g(i.angle)*t),e.lineTo(i.x-m(v)*h,i.y-g(v)*h),e.lineTo(x,y)},r}(ne);function Ae(w,r){var e=w.get("center"),i=r.getWidth(),m=r.getHeight(),g=Math.min(i,m),t=C(e[0],r.getWidth()),h=C(e[1],r.getHeight()),v=C(w.get("radius"),g/2);return{cx:t,cy:h,r:v}}function U(w,r){var e=w==null?"":w+"";return r&&(de(r)?e=r.replace("{value}",e):me(r)&&(e=r(w))),e}var Pe=function(w){X(r,w);function r(){var e=w!==null&&w.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,i,m){this.group.removeAll();var g=e.get(["axisLine","lineStyle","color"]),t=Ae(e,m);this._renderMain(e,i,m,g,t),this._data=e.getData()},r.prototype.dispose=function(){},r.prototype._renderMain=function(e,i,m,g,t){var h=this.group,v=e.get("clockwise"),x=-e.get("startAngle")/180*Math.PI,y=-e.get("endAngle")/180*Math.PI,D=e.getModel("axisLine"),V=D.get("roundCap"),L=V?ie:q,f=D.get("show"),H=D.getModel("lineStyle"),_=H.get("width"),c=[x,y];le(c,!v),x=c[0],y=c[1];for(var n=y-x,A=x,b=[],N=0;f&&N<g.length;N++){var k=Math.min(Math.max(g[N][0],0),1);y=x+n*k;var E=new L({shape:{startAngle:A,endAngle:y,cx:t.cx,cy:t.cy,clockwise:v,r0:t.r-_,r:t.r},silent:!0});E.setStyle({fill:g[N][1]}),E.setStyle(H.getLineStyle(["color","width"])),b.push(E),A=y}b.reverse(),ve(b,function(T){return h.add(T)});var M=function(T){if(T<=0)return g[0][1];var a;for(a=0;a<g.length;a++)if(g[a][0]>=T&&(a===0?0:g[a-1][0])<T)return g[a][1];return g[a-1][1]};this._renderTicks(e,i,m,M,t,x,y,v,_),this._renderTitleAndDetail(e,i,m,M,t),this._renderAnchor(e,t),this._renderPointer(e,i,m,M,t,x,y,v,_)},r.prototype._renderTicks=function(e,i,m,g,t,h,v,x,y){for(var D=this.group,V=t.cx,L=t.cy,f=t.r,H=+e.get("min"),_=+e.get("max"),c=e.getModel("splitLine"),n=e.getModel("axisTick"),A=e.getModel("axisLabel"),b=e.get("splitNumber"),N=n.get("splitNumber"),k=C(c.get("length"),f),E=C(n.get("length"),f),M=h,T=(v-h)/b,a=T/N,d=c.getModel("lineStyle").getLineStyle(),S=n.getModel("lineStyle").getLineStyle(),p=c.get("distance"),o,s,l=0;l<=b;l++){if(o=Math.cos(M),s=Math.sin(M),c.get("show")){var u=p?p+y:y,P=new F({shape:{x1:o*(f-u)+V,y1:s*(f-u)+L,x2:o*(f-k-u)+V,y2:s*(f-k-u)+L},style:d,silent:!0});d.stroke==="auto"&&P.setStyle({stroke:g(l/b)}),D.add(P)}if(A.get("show")){var u=A.get("distance")+p,z=U(ge(l/b*(_-H)+H),A.get("formatter")),G=g(l/b),W=o*(f-k-u)+V,J=s*(f-k-u)+L,R=A.get("rotate"),B=0;R==="radial"?(B=-M+2*Math.PI,B>Math.PI/2&&(B+=Math.PI)):R==="tangential"?B=-M-Math.PI/2:ye(R)&&(B=R*Math.PI/180),B===0?D.add(new K({style:Q(A,{text:z,x:W,y:J,verticalAlign:s<-.8?"top":s>.8?"bottom":"middle",align:o<-.4?"left":o>.4?"right":"center"},{inheritColor:G}),silent:!0})):D.add(new K({style:Q(A,{text:z,x:W,y:J,verticalAlign:"middle",align:"center"},{inheritColor:G}),silent:!0,originX:W,originY:J,rotation:B}))}if(n.get("show")&&l!==b){var u=n.get("distance");u=u?u+y:y;for(var Z=0;Z<=N;Z++){o=Math.cos(M),s=Math.sin(M);var Y=new F({shape:{x1:o*(f-u)+V,y1:s*(f-u)+L,x2:o*(f-E-u)+V,y2:s*(f-E-u)+L},silent:!0,style:S});S.stroke==="auto"&&Y.setStyle({stroke:g((l+Z/N)/b)}),D.add(Y),M+=a}M-=a}else M+=T}},r.prototype._renderPointer=function(e,i,m,g,t,h,v,x,y){var D=this.group,V=this._data,L=this._progressEls,f=[],H=e.get(["pointer","show"]),_=e.getModel("progress"),c=_.get("show"),n=e.getData(),A=n.mapDimension("value"),b=+e.get("min"),N=+e.get("max"),k=[b,N],E=[h,v];function M(a,d){var S=n.getItemModel(a),p=S.getModel("pointer"),o=C(p.get("width"),t.r),s=C(p.get("length"),t.r),l=e.get(["pointer","icon"]),u=p.get("offsetCenter"),P=C(u[0],t.r),z=C(u[1],t.r),G=p.get("keepAspect"),W;return l?W=ae(l,P-o/2,z-s,o,s,null,G):W=new Se({shape:{angle:-Math.PI/2,width:o,r:s,x:P,y:z}}),W.rotation=-(d+Math.PI/2),W.x=t.cx,W.y=t.cy,W}function T(a,d){var S=_.get("roundCap"),p=S?ie:q,o=_.get("overlap"),s=o?_.get("width"):y/n.count(),l=o?t.r-s:t.r-(a+1)*s,u=o?t.r:t.r-a*s,P=new p({shape:{startAngle:h,endAngle:d,cx:t.cx,cy:t.cy,clockwise:x,r0:l,r:u}});return o&&(P.z2=O(n.get(A,a),[b,N],[100,0],!0)),P}(c||H)&&(n.diff(V).add(function(a){var d=n.get(A,a);if(H){var S=M(a,h);$(S,{rotation:-((isNaN(+d)?E[0]:O(d,k,E,!0))+Math.PI/2)},e),D.add(S),n.setItemGraphicEl(a,S)}if(c){var p=T(a,h),o=_.get("clip");$(p,{shape:{endAngle:O(d,k,E,o)}},e),D.add(p),j(e.seriesIndex,n.dataType,a,p),f[a]=p}}).update(function(a,d){var S=n.get(A,a);if(H){var p=V.getItemGraphicEl(d),o=p?p.rotation:h,s=M(a,o);s.rotation=o,I(s,{rotation:-((isNaN(+S)?E[0]:O(S,k,E,!0))+Math.PI/2)},e),D.add(s),n.setItemGraphicEl(a,s)}if(c){var l=L[d],u=l?l.shape.endAngle:h,P=T(a,u),z=_.get("clip");I(P,{shape:{endAngle:O(S,k,E,z)}},e),D.add(P),j(e.seriesIndex,n.dataType,a,P),f[a]=P}}).execute(),n.each(function(a){var d=n.getItemModel(a),S=d.getModel("emphasis"),p=S.get("focus"),o=S.get("blurScope"),s=S.get("disabled");if(H){var l=n.getItemGraphicEl(a),u=n.getItemVisual(a,"style"),P=u.fill;if(l instanceof oe){var z=l.style;l.useStyle(se({image:z.image,x:z.x,y:z.y,width:z.width,height:z.height},u))}else l.useStyle(u),l.type!=="pointer"&&l.setColor(P);l.setStyle(d.getModel(["pointer","itemStyle"]).getItemStyle()),l.style.fill==="auto"&&l.setStyle("fill",g(O(n.get(A,a),k,[0,1],!0))),l.z2EmphasisLift=0,ee(l,d),te(l,p,o,s)}if(c){var G=f[a];G.useStyle(n.getItemVisual(a,"style")),G.setStyle(d.getModel(["progress","itemStyle"]).getItemStyle()),G.z2EmphasisLift=0,ee(G,d),te(G,p,o,s)}}),this._progressEls=f)},r.prototype._renderAnchor=function(e,i){var m=e.getModel("anchor"),g=m.get("show");if(g){var t=m.get("size"),h=m.get("icon"),v=m.get("offsetCenter"),x=m.get("keepAspect"),y=ae(h,i.cx-t/2+C(v[0],i.r),i.cy-t/2+C(v[1],i.r),t,t,null,x);y.z2=m.get("showAbove")?1:0,y.setStyle(m.getModel("itemStyle").getItemStyle()),this.group.add(y)}},r.prototype._renderTitleAndDetail=function(e,i,m,g,t){var h=this,v=e.getData(),x=v.mapDimension("value"),y=+e.get("min"),D=+e.get("max"),V=new re,L=[],f=[],H=e.isAnimationEnabled(),_=e.get(["pointer","showAbove"]);v.diff(this._data).add(function(c){L[c]=new K({silent:!0}),f[c]=new K({silent:!0})}).update(function(c,n){L[c]=h._titleEls[n],f[c]=h._detailEls[n]}).execute(),v.each(function(c){var n=v.getItemModel(c),A=v.get(x,c),b=new re,N=g(O(A,[y,D],[0,1],!0)),k=n.getModel("title");if(k.get("show")){var E=k.get("offsetCenter"),M=t.cx+C(E[0],t.r),T=t.cy+C(E[1],t.r),a=L[c];a.attr({z2:_?0:2,style:Q(k,{x:M,y:T,text:v.getName(c),align:"center",verticalAlign:"middle"},{inheritColor:N})}),b.add(a)}var d=n.getModel("detail");if(d.get("show")){var S=d.get("offsetCenter"),p=t.cx+C(S[0],t.r),o=t.cy+C(S[1],t.r),s=C(d.get("width"),t.r),l=C(d.get("height"),t.r),u=e.get(["progress","show"])?v.getItemVisual(c,"style").fill:N,a=f[c],P=d.get("formatter");a.attr({z2:_?0:2,style:Q(d,{x:p,y:o,text:U(A,P),width:isNaN(s)?null:s,height:isNaN(l)?null:l,align:"center",verticalAlign:"middle"},{inheritColor:u})}),ue(a,{normal:d},A,function(G){return U(G,P)}),H&&he(a,c,v,e,{getFormattedLabel:function(G,W,J,R,B,Z){return U(Z?Z.interpolatedValue:A,P)}}),b.add(a)}V.add(b)}),this.group.add(V),this._titleEls=L,this._detailEls=f},r.type="gauge",r}(ce),be=function(w){X(r,w);function r(){var e=w!==null&&w.apply(this,arguments)||this;return e.type=r.type,e.visualStyleAccessPath="itemStyle",e}return r.prototype.getInitialData=function(e,i){return pe(this,["value"])},r.type="series.gauge",r.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},r}(fe);function Ce(w){w.registerChartView(Pe),w.registerSeriesModel(be)}export{Ce as i};
